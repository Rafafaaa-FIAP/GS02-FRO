var lk=Object.defineProperty;var ck=(t,e,n)=>e in t?lk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>(ck(t,typeof e!="symbol"?e+"":e,n),n);function ow(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function aw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lw={exports:{}},Hu={},cw={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),uk=Symbol.for("react.portal"),dk=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),fk=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),mk=Symbol.for("react.forward_ref"),_k=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),vk=Symbol.for("react.lazy"),Km=Symbol.iterator;function wk(t){return t===null||typeof t!="object"?null:(t=Km&&t[Km]||t["@@iterator"],typeof t=="function"?t:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dw=Object.assign,hw={};function eo(t,e,n){this.props=t,this.context=e,this.refs=hw,this.updater=n||uw}eo.prototype.isReactComponent={};eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fw(){}fw.prototype=eo.prototype;function vp(t,e,n){this.props=t,this.context=e,this.refs=hw,this.updater=n||uw}var wp=vp.prototype=new fw;wp.constructor=vp;dw(wp,eo.prototype);wp.isPureReactComponent=!0;var Ym=Array.isArray,pw=Object.prototype.hasOwnProperty,bp={current:null},gw={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pw.call(e,i)&&!gw.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:nl,type:t,key:s,ref:o,props:r,_owner:bp.current}}function bk(t,e){return{$$typeof:nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===nl}function xk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gm=/\/+/g;function Md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xk(""+t.key):e.toString(36)}function gc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nl:case uk:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Md(o,0):i,Ym(r)?(n="",t!=null&&(n=t.replace(Gm,"$&/")+"/"),gc(r,e,n,"",function(c){return c})):r!=null&&(xp(r)&&(r=bk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Gm,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Ym(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Md(s,a);o+=gc(s,e,n,l,r)}else if(l=wk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Md(s,a++),o+=gc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Al(t,e,n){if(t==null)return t;var i=[],r=0;return gc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function Sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},mc={transition:null},Ek={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:mc,ReactCurrentOwner:bp};function _w(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=eo;ie.Fragment=dk;ie.Profiler=fk;ie.PureComponent=vp;ie.StrictMode=hk;ie.Suspense=_k;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;ie.act=_w;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=dw({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pw.call(e,l)&&!gw.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:nl,type:t.type,key:r,ref:s,props:i,_owner:o}};ie.createContext=function(t){return t={$$typeof:gk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pk,_context:t},t.Consumer=t};ie.createElement=mw;ie.createFactory=function(t){var e=mw.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:mk,render:t}};ie.isValidElement=xp;ie.lazy=function(t){return{$$typeof:vk,_payload:{_status:-1,_result:t},_init:Sk}};ie.memo=function(t,e){return{$$typeof:yk,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};ie.unstable_act=_w;ie.useCallback=function(t,e){return Et.current.useCallback(t,e)};ie.useContext=function(t){return Et.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Et.current.useEffect(t,e)};ie.useId=function(){return Et.current.useId()};ie.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Et.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ie.useRef=function(t){return Et.current.useRef(t)};ie.useState=function(t){return Et.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Et.current.useTransition()};ie.version="18.3.1";cw.exports=ie;var T=cw.exports;const $u=aw(T),Ck=ow({__proto__:null,default:$u},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk=T,Tk=Symbol.for("react.element"),Ik=Symbol.for("react.fragment"),Pk=Object.prototype.hasOwnProperty,Rk=kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mk={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Pk.call(e,i)&&!Mk.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Tk,type:t,key:s,ref:o,props:r,_owner:Rk.current}}Hu.Fragment=Ik;Hu.jsx=yw;Hu.jsxs=yw;lw.exports=Hu;var j=lw.exports,Dh={},vw={exports:{}},$t={},ww={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var H=M.length;M.push(U);e:for(;0<H;){var ce=H-1>>>1,se=M[ce];if(0<r(se,U))M[ce]=U,M[H]=se,H=ce;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var U=M[0],H=M.pop();if(H!==U){M[0]=H;e:for(var ce=0,se=M.length,it=se>>>1;ce<it;){var Be=2*(ce+1)-1,$e=M[Be],De=Be+1,Yt=M[De];if(0>r($e,H))De<se&&0>r(Yt,$e)?(M[ce]=Yt,M[De]=H,ce=De):(M[ce]=$e,M[Be]=H,ce=Be);else if(De<se&&0>r(Yt,H))M[ce]=Yt,M[De]=H,ce=De;else break e}}return U}function r(M,U){var H=M.sortIndex-U.sortIndex;return H!==0?H:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=M)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b(M){if(g=!1,v(M),!p)if(n(l)!==null)p=!0,le(x);else{var U=n(c);U!==null&&pe(b,U.startTime-M)}}function x(M,U){p=!1,g&&(g=!1,m(E),E=-1),f=!0;var H=h;try{for(v(U),d=n(l);d!==null&&(!(d.expirationTime>U)||M&&!L());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var se=ce(d.expirationTime<=U);U=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&i(l),v(U)}else i(l);d=n(l)}if(d!==null)var it=!0;else{var Be=n(c);Be!==null&&pe(b,Be.startTime-U),it=!1}return it}finally{d=null,h=H,f=!1}}var C=!1,w=null,E=-1,P=5,R=-1;function L(){return!(t.unstable_now()-R<P)}function W(){if(w!==null){var M=t.unstable_now();R=M;var U=!0;try{U=w(!0,M)}finally{U?X():(C=!1,w=null)}}else C=!1}var X;if(typeof _=="function")X=function(){_(W)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Z=fe.port2;fe.port1.onmessage=W,X=function(){Z.postMessage(null)}}else X=function(){y(W,0)};function le(M){w=M,C||(C=!0,X())}function pe(M,U){E=y(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,le(x))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return M()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=h;h=M;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function(M,U,H){var ce=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ce+H:ce):H=ce,M){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,M={id:u++,callback:U,priorityLevel:M,startTime:H,expirationTime:se,sortIndex:-1},H>ce?(M.sortIndex=H,e(c,M),n(l)===null&&M===n(c)&&(g?(m(E),E=-1):g=!0,pe(b,H-ce))):(M.sortIndex=se,e(l,M),p||f||(p=!0,le(x))),M},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(M){var U=h;return function(){var H=h;h=U;try{return M.apply(this,arguments)}finally{h=H}}}})(bw);ww.exports=bw;var Dk=ww.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=T,Ht=Dk;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xw=new Set,ya={};function Qr(t,e){zs(t,e),zs(t+"Capture",e)}function zs(t,e){for(ya[t]=e,t=0;t<e.length;t++)xw.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,Ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qm={},Qm={};function Nk(t){return Ah.call(Qm,t)?!0:Ah.call(qm,t)?!1:Ok.test(t)?Qm[t]=!0:(qm[t]=!0,!1)}function Lk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fk(t,e,n,i){if(e===null||typeof e>"u"||Lk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sp=/[\-:]([a-z])/g;function Ep(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sp,Ep);ut[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sp,Ep);ut[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sp,Ep);ut[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cp(t,e,n,i){var r=ut.hasOwnProperty(e)?ut[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fk(e,n,r,i)&&(n=null),i||r===null?Nk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var li=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),ds=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),Ew=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Cw=Symbol.for("react.offscreen"),Xm=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=Xm&&t[Xm]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Dd;function Fo(t){if(Dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dd=e&&e[1]||""}return`
`+Dd+t}var Ad=!1;function Od(t,e){if(!t||Ad)return"";Ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function zk(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function Fh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hs:return"Fragment";case ds:return"Portal";case Oh:return"Profiler";case kp:return"StrictMode";case Nh:return"Suspense";case Lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ew:return(t.displayName||"Context")+".Consumer";case Sw:return(t._context.displayName||"Context")+".Provider";case Tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ip:return e=t.displayName||null,e!==null?e:Fh(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Fh(t(e))}catch{}}return null}function Uk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fh(e);case 8:return e===kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bk(t){var e=kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nl(t){t._valueTracker||(t._valueTracker=Bk(t))}function Tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=kw(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zh(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jm(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Iw(t,e){e=e.checked,e!=null&&Cp(t,"checked",e,!1)}function Uh(t,e){Iw(t,e);var n=qi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bh(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bh(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zo=Array.isArray;function Ts(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function jh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(zo(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function Pw(t,e){var n=qi(e.value),i=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function t_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ll,Mw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ll.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jk=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){jk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function Dw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function Aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Dw(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Wk=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vh(t,e){if(e){if(Wk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Hh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=null;function Pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kh=null,Is=null,Ps=null;function n_(t){if(t=sl(t)){if(typeof Kh!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Qu(e),Kh(t.stateNode,t.type,e))}}function Ow(t){Is?Ps?Ps.push(t):Ps=[t]:Is=t}function Nw(){if(Is){var t=Is,e=Ps;if(Ps=Is=null,n_(t),e)for(t=0;t<e.length;t++)n_(e[t])}}function Lw(t,e){return t(e)}function Fw(){}var Nd=!1;function zw(t,e,n){if(Nd)return t(e,n);Nd=!0;try{return Lw(t,e,n)}finally{Nd=!1,(Is!==null||Ps!==null)&&(Fw(),Nw())}}function wa(t,e){var n=t.stateNode;if(n===null)return null;var i=Qu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Yh=!1;if(ei)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Yh=!1}function Vk(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Qo=!1,Vc=null,Hc=!1,Gh=null,Hk={onError:function(t){Qo=!0,Vc=t}};function $k(t,e,n,i,r,s,o,a,l){Qo=!1,Vc=null,Vk.apply(Hk,arguments)}function Kk(t,e,n,i,r,s,o,a,l){if($k.apply(this,arguments),Qo){if(Qo){var c=Vc;Qo=!1,Vc=null}else throw Error(D(198));Hc||(Hc=!0,Gh=c)}}function Xr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i_(t){if(Xr(t)!==t)throw Error(D(188))}function Yk(t){var e=t.alternate;if(!e){if(e=Xr(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return i_(r),t;if(s===i)return i_(r),e;s=s.sibling}throw Error(D(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Bw(t){return t=Yk(t),t!==null?jw(t):null}function jw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jw(t);if(e!==null)return e;t=t.sibling}return null}var Ww=Ht.unstable_scheduleCallback,r_=Ht.unstable_cancelCallback,Gk=Ht.unstable_shouldYield,qk=Ht.unstable_requestPaint,je=Ht.unstable_now,Qk=Ht.unstable_getCurrentPriorityLevel,Rp=Ht.unstable_ImmediatePriority,Vw=Ht.unstable_UserBlockingPriority,$c=Ht.unstable_NormalPriority,Xk=Ht.unstable_LowPriority,Hw=Ht.unstable_IdlePriority,Ku=null,In=null;function Jk(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Ku,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:t1,Zk=Math.log,e1=Math.LN2;function t1(t){return t>>>=0,t===0?32:31-(Zk(t)/e1|0)|0}var Fl=64,zl=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Uo(a):(s&=o,s!==0&&(i=Uo(s)))}else o=n&~r,o!==0?i=Uo(o):s!==0&&(i=Uo(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-pn(e),r=1<<n,i|=t[n],e&=~r;return i}function n1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=n1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function qh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $w(){var t=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),t}function Ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function r1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-pn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Mp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-pn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var _e=0;function Kw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yw,Dp,Gw,qw,Qw,Qh=!1,Ul=[],Oi=null,Ni=null,Li=null,ba=new Map,xa=new Map,wi=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s_(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function yo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=sl(e),e!==null&&Dp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function o1(t,e,n,i,r){switch(e){case"focusin":return Oi=yo(Oi,t,e,n,i,r),!0;case"dragenter":return Ni=yo(Ni,t,e,n,i,r),!0;case"mouseover":return Li=yo(Li,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ba.set(s,yo(ba.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,xa.set(s,yo(xa.get(s)||null,t,e,n,i,r)),!0}return!1}function Xw(t){var e=Er(t.target);if(e!==null){var n=Xr(e);if(n!==null){if(e=n.tag,e===13){if(e=Uw(n),e!==null){t.blockedOn=e,Qw(t.priority,function(){Gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);$h=i,n.target.dispatchEvent(i),$h=null}else return e=sl(n),e!==null&&Dp(e),t.blockedOn=n,!1;e.shift()}return!0}function o_(t,e,n){_c(t)&&n.delete(e)}function a1(){Qh=!1,Oi!==null&&_c(Oi)&&(Oi=null),Ni!==null&&_c(Ni)&&(Ni=null),Li!==null&&_c(Li)&&(Li=null),ba.forEach(o_),xa.forEach(o_)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,Qh||(Qh=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,a1)))}function Sa(t){function e(r){return vo(r,t)}if(0<Ul.length){vo(Ul[0],t);for(var n=1;n<Ul.length;n++){var i=Ul[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Oi!==null&&vo(Oi,t),Ni!==null&&vo(Ni,t),Li!==null&&vo(Li,t),ba.forEach(e),xa.forEach(e),n=0;n<wi.length;n++)i=wi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)Xw(n),n.blockedOn===null&&wi.shift()}var Rs=li.ReactCurrentBatchConfig,Yc=!0;function l1(t,e,n,i){var r=_e,s=Rs.transition;Rs.transition=null;try{_e=1,Ap(t,e,n,i)}finally{_e=r,Rs.transition=s}}function c1(t,e,n,i){var r=_e,s=Rs.transition;Rs.transition=null;try{_e=4,Ap(t,e,n,i)}finally{_e=r,Rs.transition=s}}function Ap(t,e,n,i){if(Yc){var r=Xh(t,e,n,i);if(r===null)Kd(t,e,i,Gc,n),s_(t,i);else if(o1(r,t,e,n,i))i.stopPropagation();else if(s_(t,i),e&4&&-1<s1.indexOf(t)){for(;r!==null;){var s=sl(r);if(s!==null&&Yw(s),s=Xh(t,e,n,i),s===null&&Kd(t,e,i,Gc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Kd(t,e,i,null,n)}}var Gc=null;function Xh(t,e,n,i){if(Gc=null,t=Pp(i),t=Er(t),t!==null)if(e=Xr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gc=t,null}function Jw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qk()){case Rp:return 1;case Vw:return 4;case $c:case Xk:return 16;case Hw:return 536870912;default:return 16}default:return 16}}var Ti=null,Op=null,yc=null;function Zw(){if(yc)return yc;var t,e=Op,n=e.length,i,r="value"in Ti?Ti.value:Ti.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return yc=r.slice(t,1<i?1-i:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function a_(){return!1}function Kt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:a_,this.isPropagationStopped=a_,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=Kt(to),rl=Fe({},to,{view:0,detail:0}),u1=Kt(rl),Fd,zd,wo,Yu=Fe({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wo&&(wo&&t.type==="mousemove"?(Fd=t.screenX-wo.screenX,zd=t.screenY-wo.screenY):zd=Fd=0,wo=t),Fd)},movementY:function(t){return"movementY"in t?t.movementY:zd}}),l_=Kt(Yu),d1=Fe({},Yu,{dataTransfer:0}),h1=Kt(d1),f1=Fe({},rl,{relatedTarget:0}),Ud=Kt(f1),p1=Fe({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=Kt(p1),m1=Fe({},to,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_1=Kt(m1),y1=Fe({},to,{data:0}),c_=Kt(y1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b1[t])?!!e[t]:!1}function Lp(){return x1}var S1=Fe({},rl,{key:function(t){if(t.key){var e=v1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E1=Kt(S1),C1=Fe({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u_=Kt(C1),k1=Fe({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),T1=Kt(k1),I1=Fe({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),P1=Kt(I1),R1=Fe({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=Kt(R1),D1=[9,13,27,32],Fp=ei&&"CompositionEvent"in window,Xo=null;ei&&"documentMode"in document&&(Xo=document.documentMode);var A1=ei&&"TextEvent"in window&&!Xo,eb=ei&&(!Fp||Xo&&8<Xo&&11>=Xo),d_=" ",h_=!1;function tb(t,e){switch(t){case"keyup":return D1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fs=!1;function O1(t,e){switch(t){case"compositionend":return nb(e);case"keypress":return e.which!==32?null:(h_=!0,d_);case"textInput":return t=e.data,t===d_&&h_?null:t;default:return null}}function N1(t,e){if(fs)return t==="compositionend"||!Fp&&tb(t,e)?(t=Zw(),yc=Op=Ti=null,fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eb&&e.locale!=="ko"?null:e.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L1[t.type]:e==="textarea"}function ib(t,e,n,i){Ow(i),e=qc(e,"onChange"),0<e.length&&(n=new Np("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Jo=null,Ea=null;function F1(t){pb(t,0)}function Gu(t){var e=ms(t);if(Tw(e))return t}function z1(t,e){if(t==="change")return e}var rb=!1;if(ei){var Bd;if(ei){var jd="oninput"in document;if(!jd){var p_=document.createElement("div");p_.setAttribute("oninput","return;"),jd=typeof p_.oninput=="function"}Bd=jd}else Bd=!1;rb=Bd&&(!document.documentMode||9<document.documentMode)}function g_(){Jo&&(Jo.detachEvent("onpropertychange",sb),Ea=Jo=null)}function sb(t){if(t.propertyName==="value"&&Gu(Ea)){var e=[];ib(e,Ea,t,Pp(t)),zw(F1,e)}}function U1(t,e,n){t==="focusin"?(g_(),Jo=e,Ea=n,Jo.attachEvent("onpropertychange",sb)):t==="focusout"&&g_()}function B1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Ea)}function j1(t,e){if(t==="click")return Gu(e)}function W1(t,e){if(t==="input"||t==="change")return Gu(e)}function V1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:V1;function Ca(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ah.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function m_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function __(t,e){var n=m_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m_(n)}}function ob(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ob(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ab(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H1(t){var e=ab(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ob(n.ownerDocument.documentElement,n)){if(i!==null&&zp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=__(n,s);var o=__(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $1=ei&&"documentMode"in document&&11>=document.documentMode,ps=null,Jh=null,Zo=null,Zh=!1;function y_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zh||ps==null||ps!==Wc(i)||(i=ps,"selectionStart"in i&&zp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zo&&Ca(Zo,i)||(Zo=i,i=qc(Jh,"onSelect"),0<i.length&&(e=new Np("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ps)))}function jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},Wd={},lb={};ei&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function qu(t){if(Wd[t])return Wd[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lb)return Wd[t]=e[n];return t}var cb=qu("animationend"),ub=qu("animationiteration"),db=qu("animationstart"),hb=qu("transitionend"),fb=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){fb.set(t,e),Qr(e,[t])}for(var Vd=0;Vd<v_.length;Vd++){var Hd=v_[Vd],K1=Hd.toLowerCase(),Y1=Hd[0].toUpperCase()+Hd.slice(1);nr(K1,"on"+Y1)}nr(cb,"onAnimationEnd");nr(ub,"onAnimationIteration");nr(db,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(hb,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function w_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Kk(i,e,void 0,t),t.currentTarget=null}function pb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;w_(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;w_(r,a,c),s=l}}}if(Hc)throw t=Gh,Hc=!1,Gh=null,t}function Se(t,e){var n=e[sf];n===void 0&&(n=e[sf]=new Set);var i=t+"__bubble";n.has(i)||(gb(e,t,2,!1),n.add(i))}function $d(t,e,n){var i=0;e&&(i|=4),gb(n,t,i,e)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function ka(t){if(!t[Wl]){t[Wl]=!0,xw.forEach(function(n){n!=="selectionchange"&&(G1.has(n)||$d(n,!1,t),$d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wl]||(e[Wl]=!0,$d("selectionchange",!1,e))}}function gb(t,e,n,i){switch(Jw(e)){case 1:var r=l1;break;case 4:r=c1;break;default:r=Ap}n=r.bind(null,e,n,t),r=void 0,!Yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Kd(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Er(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}zw(function(){var c=s,u=Pp(n),d=[];e:{var h=fb.get(t);if(h!==void 0){var f=Np,p=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":f=E1;break;case"focusin":p="focus",f=Ud;break;case"focusout":p="blur",f=Ud;break;case"beforeblur":case"afterblur":f=Ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=l_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=T1;break;case cb:case ub:case db:f=g1;break;case hb:f=P1;break;case"scroll":f=u1;break;case"wheel":f=M1;break;case"copy":case"cut":case"paste":f=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=u_}var g=(e&4)!==0,y=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var _=c,v;_!==null;){v=_;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,m!==null&&(b=wa(_,m),b!=null&&g.push(Ta(_,b,v)))),y)break;_=_.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==$h&&(p=n.relatedTarget||n.fromElement)&&(Er(p)||p[ti]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Er(p):null,p!==null&&(y=Xr(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=l_,b="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=u_,b="onPointerLeave",m="onPointerEnter",_="pointer"),y=f==null?h:ms(f),v=p==null?h:ms(p),h=new g(b,_+"leave",f,n,u),h.target=y,h.relatedTarget=v,b=null,Er(u)===c&&(g=new g(m,_+"enter",p,n,u),g.target=v,g.relatedTarget=y,b=g),y=b,f&&p)t:{for(g=f,m=p,_=0,v=g;v;v=os(v))_++;for(v=0,b=m;b;b=os(b))v++;for(;0<_-v;)g=os(g),_--;for(;0<v-_;)m=os(m),v--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=os(g),m=os(m)}g=null}else g=null;f!==null&&b_(d,h,f,g,!1),p!==null&&y!==null&&b_(d,y,p,g,!0)}}e:{if(h=c?ms(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=z1;else if(f_(h))if(rb)x=W1;else{x=B1;var C=U1}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=j1);if(x&&(x=x(t,c))){ib(d,x,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Bh(h,"number",h.value)}switch(C=c?ms(c):window,t){case"focusin":(f_(C)||C.contentEditable==="true")&&(ps=C,Jh=c,Zo=null);break;case"focusout":Zo=Jh=ps=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,y_(d,n,u);break;case"selectionchange":if($1)break;case"keydown":case"keyup":y_(d,n,u)}var w;if(Fp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else fs?tb(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(eb&&n.locale!=="ko"&&(fs||E!=="onCompositionStart"?E==="onCompositionEnd"&&fs&&(w=Zw()):(Ti=u,Op="value"in Ti?Ti.value:Ti.textContent,fs=!0)),C=qc(c,E),0<C.length&&(E=new c_(E,t,null,n,u),d.push({event:E,listeners:C}),w?E.data=w:(w=nb(n),w!==null&&(E.data=w)))),(w=A1?O1(t,n):N1(t,n))&&(c=qc(c,"onBeforeInput"),0<c.length&&(u=new c_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=w))}pb(d,e)})}function Ta(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=wa(t,n),s!=null&&i.unshift(Ta(t,s,r)),s=wa(t,e),s!=null&&i.push(Ta(t,s,r))),t=t.return}return i}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b_(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=wa(n,s),l!=null&&o.unshift(Ta(n,l,a))):r||(l=wa(n,s),l!=null&&o.push(Ta(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var q1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(q1,`
`).replace(Q1,"")}function Vl(t,e,n){if(e=x_(e),x_(t)!==e&&n)throw Error(D(425))}function Qc(){}var ef=null,tf=null;function nf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(Z1)}:rf;function Z1(t){setTimeout(function(){throw t})}function Yd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Sa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Sa(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),kn="__reactFiber$"+no,Ia="__reactProps$"+no,ti="__reactContainer$"+no,sf="__reactEvents$"+no,eT="__reactListeners$"+no,tT="__reactHandles$"+no;function Er(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E_(t);t!==null;){if(n=t[kn])return n;t=E_(t)}return e}t=n,n=t.parentNode}return null}function sl(t){return t=t[kn]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Qu(t){return t[Ia]||null}var of=[],_s=-1;function ir(t){return{current:t}}function Ce(t){0>_s||(t.current=of[_s],of[_s]=null,_s--)}function xe(t,e){_s++,of[_s]=t.current,t.current=e}var Qi={},_t=ir(Qi),Dt=ir(!1),Or=Qi;function Us(t,e){var n=t.type.contextTypes;if(!n)return Qi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function At(t){return t=t.childContextTypes,t!=null}function Xc(){Ce(Dt),Ce(_t)}function C_(t,e,n){if(_t.current!==Qi)throw Error(D(168));xe(_t,e),xe(Dt,n)}function mb(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(D(108,Uk(t)||"Unknown",r));return Fe({},n,i)}function Jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,Or=_t.current,xe(_t,t),xe(Dt,Dt.current),!0}function k_(t,e,n){var i=t.stateNode;if(!i)throw Error(D(169));n?(t=mb(t,e,Or),i.__reactInternalMemoizedMergedChildContext=t,Ce(Dt),Ce(_t),xe(_t,t)):Ce(Dt),xe(Dt,n)}var Un=null,Xu=!1,Gd=!1;function _b(t){Un===null?Un=[t]:Un.push(t)}function nT(t){Xu=!0,_b(t)}function rr(){if(!Gd&&Un!==null){Gd=!0;var t=0,e=_e;try{var n=Un;for(_e=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Un=null,Xu=!1}catch(r){throw Un!==null&&(Un=Un.slice(t+1)),Ww(Rp,rr),r}finally{_e=e,Gd=!1}}return null}var ys=[],vs=0,Zc=null,eu=0,Xt=[],Jt=0,Nr=null,jn=1,Wn="";function yr(t,e){ys[vs++]=eu,ys[vs++]=Zc,Zc=t,eu=e}function yb(t,e,n){Xt[Jt++]=jn,Xt[Jt++]=Wn,Xt[Jt++]=Nr,Nr=t;var i=jn;t=Wn;var r=32-pn(i)-1;i&=~(1<<r),n+=1;var s=32-pn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,jn=1<<32-pn(e)+r|n<<r|i,Wn=s+t}else jn=1<<s|n<<r|i,Wn=t}function Up(t){t.return!==null&&(yr(t,1),yb(t,1,0))}function Bp(t){for(;t===Zc;)Zc=ys[--vs],ys[vs]=null,eu=ys[--vs],ys[vs]=null;for(;t===Nr;)Nr=Xt[--Jt],Xt[Jt]=null,Wn=Xt[--Jt],Xt[Jt]=null,jn=Xt[--Jt],Xt[Jt]=null}var Wt=null,Bt=null,Re=!1,cn=null;function vb(t,e){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Bt=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nr!==null?{id:jn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Bt=null,!0):!1;default:return!1}}function af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lf(t){if(Re){var e=Bt;if(e){var n=e;if(!T_(t,e)){if(af(t))throw Error(D(418));e=Fi(n.nextSibling);var i=Wt;e&&T_(t,e)?vb(i,n):(t.flags=t.flags&-4097|2,Re=!1,Wt=t)}}else{if(af(t))throw Error(D(418));t.flags=t.flags&-4097|2,Re=!1,Wt=t}}}function I_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Hl(t){if(t!==Wt)return!1;if(!Re)return I_(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nf(t.type,t.memoizedProps)),e&&(e=Bt)){if(af(t))throw wb(),Error(D(418));for(;e;)vb(t,e),e=Fi(e.nextSibling)}if(I_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bt=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=Wt?Fi(t.stateNode.nextSibling):null;return!0}function wb(){for(var t=Bt;t;)t=Fi(t.nextSibling)}function Bs(){Bt=Wt=null,Re=!1}function jp(t){cn===null?cn=[t]:cn.push(t)}var iT=li.ReactCurrentBatchConfig;function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function $l(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P_(t){var e=t._init;return e(t._payload)}function bb(t){function e(m,_){if(t){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function i(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function r(m,_){return m=ji(m,_),m.index=0,m.sibling=null,m}function s(m,_,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,v,b){return _===null||_.tag!==6?(_=th(v,m.mode,b),_.return=m,_):(_=r(_,v),_.return=m,_)}function l(m,_,v,b){var x=v.type;return x===hs?u(m,_,v.props.children,b,v.key):_!==null&&(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yi&&P_(x)===_.type)?(b=r(_,v.props),b.ref=bo(m,_,v),b.return=m,b):(b=kc(v.type,v.key,v.props,null,m.mode,b),b.ref=bo(m,_,v),b.return=m,b)}function c(m,_,v,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=nh(v,m.mode,b),_.return=m,_):(_=r(_,v.children||[]),_.return=m,_)}function u(m,_,v,b,x){return _===null||_.tag!==7?(_=Mr(v,m.mode,b,x),_.return=m,_):(_=r(_,v),_.return=m,_)}function d(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=th(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ol:return v=kc(_.type,_.key,_.props,null,m.mode,v),v.ref=bo(m,null,_),v.return=m,v;case ds:return _=nh(_,m.mode,v),_.return=m,_;case yi:var b=_._init;return d(m,b(_._payload),v)}if(zo(_)||mo(_))return _=Mr(_,m.mode,v,null),_.return=m,_;$l(m,_)}return null}function h(m,_,v,b){var x=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(m,_,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ol:return v.key===x?l(m,_,v,b):null;case ds:return v.key===x?c(m,_,v,b):null;case yi:return x=v._init,h(m,_,x(v._payload),b)}if(zo(v)||mo(v))return x!==null?null:u(m,_,v,b,null);$l(m,v)}return null}function f(m,_,v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(v)||null,a(_,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ol:return m=m.get(b.key===null?v:b.key)||null,l(_,m,b,x);case ds:return m=m.get(b.key===null?v:b.key)||null,c(_,m,b,x);case yi:var C=b._init;return f(m,_,v,C(b._payload),x)}if(zo(b)||mo(b))return m=m.get(v)||null,u(_,m,b,x,null);$l(_,b)}return null}function p(m,_,v,b){for(var x=null,C=null,w=_,E=_=0,P=null;w!==null&&E<v.length;E++){w.index>E?(P=w,w=null):P=w.sibling;var R=h(m,w,v[E],b);if(R===null){w===null&&(w=P);break}t&&w&&R.alternate===null&&e(m,w),_=s(R,_,E),C===null?x=R:C.sibling=R,C=R,w=P}if(E===v.length)return n(m,w),Re&&yr(m,E),x;if(w===null){for(;E<v.length;E++)w=d(m,v[E],b),w!==null&&(_=s(w,_,E),C===null?x=w:C.sibling=w,C=w);return Re&&yr(m,E),x}for(w=i(m,w);E<v.length;E++)P=f(w,m,E,v[E],b),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?E:P.key),_=s(P,_,E),C===null?x=P:C.sibling=P,C=P);return t&&w.forEach(function(L){return e(m,L)}),Re&&yr(m,E),x}function g(m,_,v,b){var x=mo(v);if(typeof x!="function")throw Error(D(150));if(v=x.call(v),v==null)throw Error(D(151));for(var C=x=null,w=_,E=_=0,P=null,R=v.next();w!==null&&!R.done;E++,R=v.next()){w.index>E?(P=w,w=null):P=w.sibling;var L=h(m,w,R.value,b);if(L===null){w===null&&(w=P);break}t&&w&&L.alternate===null&&e(m,w),_=s(L,_,E),C===null?x=L:C.sibling=L,C=L,w=P}if(R.done)return n(m,w),Re&&yr(m,E),x;if(w===null){for(;!R.done;E++,R=v.next())R=d(m,R.value,b),R!==null&&(_=s(R,_,E),C===null?x=R:C.sibling=R,C=R);return Re&&yr(m,E),x}for(w=i(m,w);!R.done;E++,R=v.next())R=f(w,m,E,R.value,b),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?E:R.key),_=s(R,_,E),C===null?x=R:C.sibling=R,C=R);return t&&w.forEach(function(W){return e(m,W)}),Re&&yr(m,E),x}function y(m,_,v,b){if(typeof v=="object"&&v!==null&&v.type===hs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ol:e:{for(var x=v.key,C=_;C!==null;){if(C.key===x){if(x=v.type,x===hs){if(C.tag===7){n(m,C.sibling),_=r(C,v.props.children),_.return=m,m=_;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yi&&P_(x)===C.type){n(m,C.sibling),_=r(C,v.props),_.ref=bo(m,C,v),_.return=m,m=_;break e}n(m,C);break}else e(m,C);C=C.sibling}v.type===hs?(_=Mr(v.props.children,m.mode,b,v.key),_.return=m,m=_):(b=kc(v.type,v.key,v.props,null,m.mode,b),b.ref=bo(m,_,v),b.return=m,m=b)}return o(m);case ds:e:{for(C=v.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(m,_.sibling),_=r(_,v.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=nh(v,m.mode,b),_.return=m,m=_}return o(m);case yi:return C=v._init,y(m,_,C(v._payload),b)}if(zo(v))return p(m,_,v,b);if(mo(v))return g(m,_,v,b);$l(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(m,_.sibling),_=r(_,v),_.return=m,m=_):(n(m,_),_=th(v,m.mode,b),_.return=m,m=_),o(m)):n(m,_)}return y}var js=bb(!0),xb=bb(!1),tu=ir(null),nu=null,ws=null,Wp=null;function Vp(){Wp=ws=nu=null}function Hp(t){var e=tu.current;Ce(tu),t._currentValue=e}function cf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){nu=t,Wp=ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Wp!==t)if(t={context:t,memoizedValue:e,next:null},ws===null){if(nu===null)throw Error(D(308));ws=t,nu.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return e}var Cr=null;function $p(t){Cr===null?Cr=[t]:Cr.push(t)}function Sb(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,$p(e)):(n.next=r.next,r.next=n),e.interleaved=n,ni(t,i)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function Kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ni(t,n)}return r=i.interleaved,r===null?(e.next=e,$p(i)):(e.next=r.next,r.next=e),i.interleaved=e,ni(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Mp(t,n)}}function R_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function iu(t,e,n,i){var r=t.updateQueue;vi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Fe({},d,h);break e;case 2:vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Fr|=o,t.lanes=o,t.memoizedState=d}}function M_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(D(191,r));r.call(i)}}}var ol={},Pn=ir(ol),Pa=ir(ol),Ra=ir(ol);function kr(t){if(t===ol)throw Error(D(174));return t}function Yp(t,e){switch(xe(Ra,e),xe(Pa,t),xe(Pn,ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wh(e,t)}Ce(Pn),xe(Pn,e)}function Ws(){Ce(Pn),Ce(Pa),Ce(Ra)}function Cb(t){kr(Ra.current);var e=kr(Pn.current),n=Wh(e,t.type);e!==n&&(xe(Pa,t),xe(Pn,n))}function Gp(t){Pa.current===t&&(Ce(Pn),Ce(Pa))}var Oe=ir(0);function ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qd=[];function qp(){for(var t=0;t<qd.length;t++)qd[t]._workInProgressVersionPrimary=null;qd.length=0}var bc=li.ReactCurrentDispatcher,Qd=li.ReactCurrentBatchConfig,Lr=0,Le=null,Ke=null,Ze=null,su=!1,ea=!1,Ma=0,rT=0;function dt(){throw Error(D(321))}function Qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Xp(t,e,n,i,r,s){if(Lr=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?lT:cT,t=n(i,r),ea){s=0;do{if(ea=!1,Ma=0,25<=s)throw Error(D(301));s+=1,Ze=Ke=null,e.updateQueue=null,bc.current=uT,t=n(i,r)}while(ea)}if(bc.current=ou,e=Ke!==null&&Ke.next!==null,Lr=0,Ze=Ke=Le=null,su=!1,e)throw Error(D(300));return t}function Jp(){var t=Ma!==0;return Ma=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Le.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function rn(){if(Ke===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=Ze===null?Le.memoizedState:Ze.next;if(e!==null)Ze=e,Ke=t;else{if(t===null)throw Error(D(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?Le.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Da(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=rn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=Ke,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Lr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Le.lanes|=u,Fr|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,yn(i,e.memoizedState)||(Rt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Le.lanes|=s,Fr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=rn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);yn(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function kb(){}function Tb(t,e){var n=Le,i=rn(),r=e(),s=!yn(i.memoizedState,r);if(s&&(i.memoizedState=r,Rt=!0),i=i.queue,Zp(Rb.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Aa(9,Pb.bind(null,n,i,r,e),void 0,null),nt===null)throw Error(D(349));Lr&30||Ib(n,e,r)}return r}function Ib(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pb(t,e,n,i){e.value=n,e.getSnapshot=i,Mb(e)&&Db(t)}function Rb(t,e,n){return n(function(){Mb(e)&&Db(t)})}function Mb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function Db(t){var e=ni(t,1);e!==null&&gn(e,t,1,-1)}function D_(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=aT.bind(null,Le,t),[e.memoizedState,t]}function Aa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Ab(){return rn().memoizedState}function xc(t,e,n,i){var r=En();Le.flags|=t,r.memoizedState=Aa(1|e,n,void 0,i===void 0?null:i)}function Ju(t,e,n,i){var r=rn();i=i===void 0?null:i;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,i!==null&&Qp(i,o.deps)){r.memoizedState=Aa(e,n,s,i);return}}Le.flags|=t,r.memoizedState=Aa(1|e,n,s,i)}function A_(t,e){return xc(8390656,8,t,e)}function Zp(t,e){return Ju(2048,8,t,e)}function Ob(t,e){return Ju(4,2,t,e)}function Nb(t,e){return Ju(4,4,t,e)}function Lb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fb(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4,4,Lb.bind(null,e,t),n)}function eg(){}function zb(t,e){var n=rn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Qp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ub(t,e){var n=rn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Qp(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Bb(t,e,n){return Lr&21?(yn(n,e)||(n=$w(),Le.lanes|=n,Fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function sT(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var i=Qd.transition;Qd.transition={};try{t(!1),e()}finally{_e=n,Qd.transition=i}}function jb(){return rn().memoizedState}function oT(t,e,n){var i=Bi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Wb(t))Vb(e,n);else if(n=Sb(t,e,n,i),n!==null){var r=St();gn(n,t,i,r),Hb(n,e,i)}}function aT(t,e,n){var i=Bi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wb(t))Vb(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,yn(a,o)){var l=e.interleaved;l===null?(r.next=r,$p(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Sb(t,e,r,i),n!==null&&(r=St(),gn(n,t,i,r),Hb(n,e,i))}}function Wb(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Vb(t,e){ea=su=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hb(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Mp(t,n)}}var ou={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},lT={readContext:nn,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:A_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,Lb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=En();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=oT.bind(null,Le,t),[i.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:D_,useDebugValue:eg,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=D_(!1),e=t[0];return t=sT.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Le,r=En();if(Re){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),nt===null)throw Error(D(349));Lr&30||Ib(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,A_(Rb.bind(null,i,s,t),[t]),i.flags|=2048,Aa(9,Pb.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=En(),e=nt.identifierPrefix;if(Re){var n=Wn,i=jn;n=(i&~(1<<32-pn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cT={readContext:nn,useCallback:zb,useContext:nn,useEffect:Zp,useImperativeHandle:Fb,useInsertionEffect:Ob,useLayoutEffect:Nb,useMemo:Ub,useReducer:Xd,useRef:Ab,useState:function(){return Xd(Da)},useDebugValue:eg,useDeferredValue:function(t){var e=rn();return Bb(e,Ke.memoizedState,t)},useTransition:function(){var t=Xd(Da)[0],e=rn().memoizedState;return[t,e]},useMutableSource:kb,useSyncExternalStore:Tb,useId:jb,unstable_isNewReconciler:!1},uT={readContext:nn,useCallback:zb,useContext:nn,useEffect:Zp,useImperativeHandle:Fb,useInsertionEffect:Ob,useLayoutEffect:Nb,useMemo:Ub,useReducer:Jd,useRef:Ab,useState:function(){return Jd(Da)},useDebugValue:eg,useDeferredValue:function(t){var e=rn();return Ke===null?e.memoizedState=t:Bb(e,Ke.memoizedState,t)},useTransition:function(){var t=Jd(Da)[0],e=rn().memoizedState;return[t,e]},useMutableSource:kb,useSyncExternalStore:Tb,useId:jb,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zu={isMounted:function(t){return(t=t._reactInternals)?Xr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=St(),r=Bi(t),s=Qn(i,r);s.payload=e,n!=null&&(s.callback=n),e=zi(t,s,r),e!==null&&(gn(e,t,r,i),wc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=St(),r=Bi(t),s=Qn(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zi(t,s,r),e!==null&&(gn(e,t,r,i),wc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),i=Bi(t),r=Qn(n,i);r.tag=2,e!=null&&(r.callback=e),e=zi(t,r,i),e!==null&&(gn(e,t,i,n),wc(e,t,i))}};function O_(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,i)||!Ca(r,s):!0}function $b(t,e,n){var i=!1,r=Qi,s=e.contextType;return typeof s=="object"&&s!==null?s=nn(s):(r=At(e)?Or:_t.current,i=e.contextTypes,s=(i=i!=null)?Us(t,r):Qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function N_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zu.enqueueReplaceState(e,e.state,null)}function df(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Kp(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=nn(s):(s=At(e)?Or:_t.current,r.context=Us(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zu.enqueueReplaceState(r,r.state,null),iu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Vs(t,e){try{var n="",i=e;do n+=zk(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dT=typeof WeakMap=="function"?WeakMap:Map;function Kb(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){lu||(lu=!0,xf=i),hf(t,e)},n}function Yb(t,e,n){n=Qn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){hf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hf(t,e),typeof i!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new dT;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=CT.bind(null,t,e,n),e.then(t,t))}function F_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,zi(n,e,1))),n.lanes|=1),t)}var hT=li.ReactCurrentOwner,Rt=!1;function bt(t,e,n,i){e.child=t===null?xb(e,null,n,i):js(e,t.child,n,i)}function U_(t,e,n,i,r){n=n.render;var s=e.ref;return Ms(e,r),i=Xp(t,e,n,i,s,r),n=Jp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ii(t,e,r)):(Re&&n&&Up(e),e.flags|=1,bt(t,e,i,r),e.child)}function B_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!lg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gb(t,e,s,i,r)):(t=kc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,i)&&t.ref===e.ref)return ii(t,e,r)}return e.flags|=1,t=ji(s,i),t.ref=e.ref,t.return=e,e.child=t}function Gb(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Ca(s,i)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,ii(t,e,r)}return ff(t,e,n,i,r)}function qb(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(xs,zt),zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(xs,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,xe(xs,zt),zt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,xe(xs,zt),zt|=i;return bt(t,e,r,n),e.child}function Qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ff(t,e,n,i,r){var s=At(n)?Or:_t.current;return s=Us(e,s),Ms(e,r),n=Xp(t,e,n,i,s,r),i=Jp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ii(t,e,r)):(Re&&i&&Up(e),e.flags|=1,bt(t,e,n,r),e.child)}function j_(t,e,n,i,r){if(At(n)){var s=!0;Jc(e)}else s=!1;if(Ms(e,r),e.stateNode===null)Sc(t,e),$b(e,n,i),df(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=At(n)?Or:_t.current,c=Us(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&N_(e,o,i,c),vi=!1;var h=e.memoizedState;o.state=h,iu(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Dt.current||vi?(typeof u=="function"&&(uf(e,n,u,i),l=e.memoizedState),(a=vi||O_(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Eb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:on(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=At(n)?Or:_t.current,l=Us(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&N_(e,o,i,l),vi=!1,h=e.memoizedState,o.state=h,iu(e,i,o,r);var p=e.memoizedState;a!==d||h!==p||Dt.current||vi?(typeof f=="function"&&(uf(e,n,f,i),p=e.memoizedState),(c=vi||O_(e,n,c,i,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return pf(t,e,n,i,s,r)}function pf(t,e,n,i,r,s){Qb(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&k_(e,n,!1),ii(t,e,s);i=e.stateNode,hT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=js(e,t.child,null,s),e.child=js(e,null,a,s)):bt(t,e,a,s),e.memoizedState=i.state,r&&k_(e,n,!0),e.child}function Xb(t){var e=t.stateNode;e.pendingContext?C_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C_(t,e.context,!1),Yp(t,e.containerInfo)}function W_(t,e,n,i,r){return Bs(),jp(r),e.flags|=256,bt(t,e,n,i),e.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function mf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jb(t,e,n){var i=e.pendingProps,r=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),xe(Oe,r&1),t===null)return lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nd(o,i,0,null),t=Mr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mf(n),e.memoizedState=gf,t):tg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return fT(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ji(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ji(a,s):(s=Mr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?mf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gf,i}return s=t.child,t=s.sibling,i=ji(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function tg(t,e){return e=nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kl(t,e,n,i){return i!==null&&jp(i),js(e,t.child,null,n),t=tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fT(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Zd(Error(D(422))),Kl(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=nd({mode:"visible",children:i.children},r,0,null),s=Mr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&js(e,t.child,null,o),e.child.memoizedState=mf(o),e.memoizedState=gf,s);if(!(e.mode&1))return Kl(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(D(419)),i=Zd(s,i,void 0),Kl(t,e,o,i)}if(a=(o&t.childLanes)!==0,Rt||a){if(i=nt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ni(t,r),gn(i,t,r,-1))}return ag(),i=Zd(Error(D(421))),Kl(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=kT.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Bt=Fi(r.nextSibling),Wt=e,Re=!0,cn=null,t!==null&&(Xt[Jt++]=jn,Xt[Jt++]=Wn,Xt[Jt++]=Nr,jn=t.id,Wn=t.overflow,Nr=e),e=tg(e,i.children),e.flags|=4096,e)}function V_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),cf(t.return,e,n)}function eh(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Zb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(bt(t,e,i.children,n),i=Oe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&V_(t,n,e);else if(t.tag===19)V_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(xe(Oe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ru(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),eh(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ru(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}eh(e,!0,n,null,s);break;case"together":eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pT(t,e,n){switch(e.tag){case 3:Xb(e),Bs();break;case 5:Cb(e);break;case 1:At(e.type)&&Jc(e);break;case 4:Yp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;xe(tu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(xe(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?Jb(t,e,n):(xe(Oe,Oe.current&1),t=ii(t,e,n),t!==null?t.sibling:null);xe(Oe,Oe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Zb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(Oe,Oe.current),i)break;return null;case 22:case 23:return e.lanes=0,qb(t,e,n)}return ii(t,e,n)}var ex,_f,tx,nx;ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_f=function(){};tx=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,kr(Pn.current);var s=null;switch(n){case"input":r=zh(t,r),i=zh(t,i),s=[];break;case"select":r=Fe({},r,{value:void 0}),i=Fe({},i,{value:void 0}),s=[];break;case"textarea":r=jh(t,r),i=jh(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Qc)}Vh(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ya.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ya.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nx=function(t,e,n,i){n!==i&&(e.flags|=4)};function xo(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function gT(t,e,n){var i=e.pendingProps;switch(Bp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return At(e.type)&&Xc(),ht(e),null;case 3:return i=e.stateNode,Ws(),Ce(Dt),Ce(_t),qp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Hl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(Cf(cn),cn=null))),_f(t,e),ht(e),null;case 5:Gp(e);var r=kr(Ra.current);if(n=e.type,t!==null&&e.stateNode!=null)tx(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(D(166));return ht(e),null}if(t=kr(Pn.current),Hl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[kn]=e,i[Ia]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",i),Se("close",i);break;case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(r=0;r<Bo.length;r++)Se(Bo[r],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"input":Jm(i,s),Se("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Se("invalid",i);break;case"textarea":e_(i,s),Se("invalid",i)}Vh(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vl(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vl(i.textContent,a,t),r=["children",""+a]):ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",i)}switch(n){case"input":Nl(i),Zm(i,s,!0);break;case"textarea":Nl(i),t_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Qc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[kn]=e,t[Ia]=i,ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hh(n,i),n){case"dialog":Se("cancel",t),Se("close",t),r=i;break;case"iframe":case"object":case"embed":Se("load",t),r=i;break;case"video":case"audio":for(r=0;r<Bo.length;r++)Se(Bo[r],t);r=i;break;case"source":Se("error",t),r=i;break;case"img":case"image":case"link":Se("error",t),Se("load",t),r=i;break;case"details":Se("toggle",t),r=i;break;case"input":Jm(t,i),r=zh(t,i),Se("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Fe({},i,{value:void 0}),Se("invalid",t);break;case"textarea":e_(t,i),r=jh(t,i),Se("invalid",t);break;default:r=i}Vh(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Aw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&va(t,l):typeof l=="number"&&va(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ya.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&Cp(t,s,l,o))}switch(n){case"input":Nl(t),Zm(t,i,!1);break;case"textarea":Nl(t),t_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+qi(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ts(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ts(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Qc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)nx(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(D(166));if(n=kr(Ra.current),kr(Pn.current),Hl(e)){if(i=e.stateNode,n=e.memoizedProps,i[kn]=e,(s=i.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Vl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[kn]=e,e.stateNode=i}return ht(e),null;case 13:if(Ce(Oe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Bt!==null&&e.mode&1&&!(e.flags&128))wb(),Bs(),e.flags|=98560,s=!1;else if(s=Hl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[kn]=e}else Bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),s=!1}else cn!==null&&(Cf(cn),cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?qe===0&&(qe=3):ag())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Ws(),_f(t,e),t===null&&ka(e.stateNode.containerInfo),ht(e),null;case 10:return Hp(e.type._context),ht(e),null;case 17:return At(e.type)&&Xc(),ht(e),null;case 19:if(Ce(Oe),s=e.memoizedState,s===null)return ht(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)xo(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ru(t),o!==null){for(e.flags|=128,xo(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>Hs&&(e.flags|=128,i=!0,xo(s,!1),e.lanes=4194304)}else{if(!i)if(t=ru(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return ht(e),null}else 2*je()-s.renderingStartTime>Hs&&n!==1073741824&&(e.flags|=128,i=!0,xo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=Oe.current,xe(Oe,i?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return og(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?zt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function mT(t,e){switch(Bp(e),e.tag){case 1:return At(e.type)&&Xc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(),Ce(Dt),Ce(_t),qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gp(e),null;case 13:if(Ce(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Oe),null;case 4:return Ws(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var Yl=!1,pt=!1,_T=typeof WeakSet=="function"?WeakSet:Set,F=null;function bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ze(t,e,i)}else n.current=null}function yf(t,e,n){try{n()}catch(i){ze(t,e,i)}}var H_=!1;function yT(t,e){if(ef=Yc,t=ab(),zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tf={focusedElem:t,selectionRange:n},Yc=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),y);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){ze(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return p=H_,H_=!1,p}function ta(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&yf(e,n,s)}r=r.next}while(r!==i)}}function ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function vf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ix(t){var e=t.alternate;e!==null&&(t.alternate=null,ix(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ia],delete e[sf],delete e[eT],delete e[tT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rx(t){return t.tag===5||t.tag===3||t.tag===4}function $_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qc));else if(i!==4&&(t=t.child,t!==null))for(wf(t,e,n),t=t.sibling;t!==null;)wf(t,e,n),t=t.sibling}function bf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(bf(t,e,n),t=t.sibling;t!==null;)bf(t,e,n),t=t.sibling}var at=null,an=!1;function pi(t,e,n){for(n=n.child;n!==null;)sx(t,e,n),n=n.sibling}function sx(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 5:pt||bs(n,e);case 6:var i=at,r=an;at=null,pi(t,e,n),at=i,an=r,at!==null&&(an?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(an?(t=at,n=n.stateNode,t.nodeType===8?Yd(t.parentNode,n):t.nodeType===1&&Yd(t,n),Sa(t)):Yd(at,n.stateNode));break;case 4:i=at,r=an,at=n.stateNode.containerInfo,an=!0,pi(t,e,n),at=i,an=r;break;case 0:case 11:case 14:case 15:if(!pt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yf(n,e,o),r=r.next}while(r!==i)}pi(t,e,n);break;case 1:if(!pt&&(bs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ze(n,e,a)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(pt=(i=pt)||n.memoizedState!==null,pi(t,e,n),pt=i):pi(t,e,n);break;default:pi(t,e,n)}}function K_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _T),e.forEach(function(i){var r=TT.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,an=!1;break e;case 3:at=a.stateNode.containerInfo,an=!0;break e;case 4:at=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(at===null)throw Error(D(160));sx(s,o,r),at=null,an=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ze(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ox(e,t),e=e.sibling}function ox(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),xn(t),i&4){try{ta(3,t,t.return),ed(3,t)}catch(g){ze(t,t.return,g)}try{ta(5,t,t.return)}catch(g){ze(t,t.return,g)}}break;case 1:sn(e,t),xn(t),i&512&&n!==null&&bs(n,n.return);break;case 5:if(sn(e,t),xn(t),i&512&&n!==null&&bs(n,n.return),t.flags&32){var r=t.stateNode;try{va(r,"")}catch(g){ze(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Iw(r,s),Hh(a,o);var c=Hh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Aw(r,d):u==="dangerouslySetInnerHTML"?Mw(r,d):u==="children"?va(r,d):Cp(r,u,d,c)}switch(a){case"input":Uh(r,s);break;case"textarea":Pw(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ts(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ts(r,!!s.multiple,s.defaultValue,!0):Ts(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ia]=s}catch(g){ze(t,t.return,g)}}break;case 6:if(sn(e,t),xn(t),i&4){if(t.stateNode===null)throw Error(D(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){ze(t,t.return,g)}}break;case 3:if(sn(e,t),xn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(g){ze(t,t.return,g)}break;case 4:sn(e,t),xn(t);break;case 13:sn(e,t),xn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(rg=je())),i&4&&K_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(c=pt)||u,sn(e,t),pt=c):sn(e,t),xn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(F=t,u=t.child;u!==null;){for(d=F=u;F!==null;){switch(h=F,f=h.child,h.tag){case 0:case 11:case 14:case 15:ta(4,h,h.return);break;case 1:bs(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){ze(i,n,g)}}break;case 5:bs(h,h.return);break;case 22:if(h.memoizedState!==null){G_(d);continue}}f!==null?(f.return=h,F=f):G_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dw("display",o))}catch(g){ze(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ze(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:sn(e,t),xn(t),i&4&&K_(t);break;case 21:break;default:sn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rx(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(va(r,""),i.flags&=-33);var s=$_(t);bf(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=$_(t);wf(t,a,o);break;default:throw Error(D(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vT(t,e,n){F=t,ax(t)}function ax(t,e,n){for(var i=(t.mode&1)!==0;F!==null;){var r=F,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Yl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||pt;a=Yl;var c=pt;if(Yl=o,(pt=l)&&!c)for(F=r;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?q_(r):l!==null?(l.return=o,F=l):q_(r);for(;s!==null;)F=s,ax(s),s=s.sibling;F=r,Yl=a,pt=c}Y_(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,F=s):Y_(t)}}function Y_(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||ed(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!pt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M_(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Sa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}pt||e.flags&512&&vf(e)}catch(h){ze(e,e.return,h)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function G_(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function q_(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ed(4,e)}catch(l){ze(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ze(e,r,l)}}var s=e.return;try{vf(e)}catch(l){ze(e,s,l)}break;case 5:var o=e.return;try{vf(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var wT=Math.ceil,au=li.ReactCurrentDispatcher,ng=li.ReactCurrentOwner,tn=li.ReactCurrentBatchConfig,ue=0,nt=null,He=null,ct=0,zt=0,xs=ir(0),qe=0,Oa=null,Fr=0,td=0,ig=0,na=null,It=null,rg=0,Hs=1/0,zn=null,lu=!1,xf=null,Ui=null,Gl=!1,Ii=null,cu=0,ia=0,Sf=null,Ec=-1,Cc=0;function St(){return ue&6?je():Ec!==-1?Ec:Ec=je()}function Bi(t){return t.mode&1?ue&2&&ct!==0?ct&-ct:iT.transition!==null?(Cc===0&&(Cc=$w()),Cc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:Jw(t.type)),t):1}function gn(t,e,n,i){if(50<ia)throw ia=0,Sf=null,Error(D(185));il(t,n,i),(!(ue&2)||t!==nt)&&(t===nt&&(!(ue&2)&&(td|=n),qe===4&&bi(t,ct)),Ot(t,i),n===1&&ue===0&&!(e.mode&1)&&(Hs=je()+500,Xu&&rr()))}function Ot(t,e){var n=t.callbackNode;i1(t,e);var i=Kc(t,t===nt?ct:0);if(i===0)n!==null&&r_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&r_(n),e===1)t.tag===0?nT(Q_.bind(null,t)):_b(Q_.bind(null,t)),J1(function(){!(ue&6)&&rr()}),n=null;else{switch(Kw(i)){case 1:n=Rp;break;case 4:n=Vw;break;case 16:n=$c;break;case 536870912:n=Hw;break;default:n=$c}n=gx(n,lx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lx(t,e){if(Ec=-1,Cc=0,ue&6)throw Error(D(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var i=Kc(t,t===nt?ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=uu(t,i);else{e=i;var r=ue;ue|=2;var s=ux();(nt!==t||ct!==e)&&(zn=null,Hs=je()+500,Rr(t,e));do try{ST();break}catch(a){cx(t,a)}while(!0);Vp(),au.current=s,ue=r,He!==null?e=0:(nt=null,ct=0,e=qe)}if(e!==0){if(e===2&&(r=qh(t),r!==0&&(i=r,e=Ef(t,r))),e===1)throw n=Oa,Rr(t,0),bi(t,i),Ot(t,je()),n;if(e===6)bi(t,i);else{if(r=t.current.alternate,!(i&30)&&!bT(r)&&(e=uu(t,i),e===2&&(s=qh(t),s!==0&&(i=s,e=Ef(t,s))),e===1))throw n=Oa,Rr(t,0),bi(t,i),Ot(t,je()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(D(345));case 2:vr(t,It,zn);break;case 3:if(bi(t,i),(i&130023424)===i&&(e=rg+500-je(),10<e)){if(Kc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){St(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=rf(vr.bind(null,t,It,zn),e);break}vr(t,It,zn);break;case 4:if(bi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-pn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wT(i/1960))-i,10<i){t.timeoutHandle=rf(vr.bind(null,t,It,zn),i);break}vr(t,It,zn);break;case 5:vr(t,It,zn);break;default:throw Error(D(329))}}}return Ot(t,je()),t.callbackNode===n?lx.bind(null,t):null}function Ef(t,e){var n=na;return t.current.memoizedState.isDehydrated&&(Rr(t,e).flags|=256),t=uu(t,e),t!==2&&(e=It,It=n,e!==null&&Cf(e)),t}function Cf(t){It===null?It=t:It.push.apply(It,t)}function bT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!yn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~ig,e&=~td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),i=1<<n;t[n]=-1,e&=~i}}function Q_(t){if(ue&6)throw Error(D(327));Ds();var e=Kc(t,0);if(!(e&1))return Ot(t,je()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var i=qh(t);i!==0&&(e=i,n=Ef(t,i))}if(n===1)throw n=Oa,Rr(t,0),bi(t,e),Ot(t,je()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vr(t,It,zn),Ot(t,je()),null}function sg(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Hs=je()+500,Xu&&rr())}}function zr(t){Ii!==null&&Ii.tag===0&&!(ue&6)&&Ds();var e=ue;ue|=1;var n=tn.transition,i=_e;try{if(tn.transition=null,_e=1,t)return t()}finally{_e=i,tn.transition=n,ue=e,!(ue&6)&&rr()}}function og(){zt=xs.current,Ce(xs)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X1(n)),He!==null)for(n=He.return;n!==null;){var i=n;switch(Bp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xc();break;case 3:Ws(),Ce(Dt),Ce(_t),qp();break;case 5:Gp(i);break;case 4:Ws();break;case 13:Ce(Oe);break;case 19:Ce(Oe);break;case 10:Hp(i.type._context);break;case 22:case 23:og()}n=n.return}if(nt=t,He=t=ji(t.current,null),ct=zt=e,qe=0,Oa=null,ig=td=Fr=0,It=na=null,Cr!==null){for(e=0;e<Cr.length;e++)if(n=Cr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Cr=null}return t}function cx(t,e){do{var n=He;try{if(Vp(),bc.current=ou,su){for(var i=Le.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}su=!1}if(Lr=0,Ze=Ke=Le=null,ea=!1,Ma=0,ng.current=null,n===null||n.return===null){qe=1,Oa=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=F_(o);if(f!==null){f.flags&=-257,z_(f,o,a,s,e),f.mode&1&&L_(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){L_(s,c,e),ag();break e}l=Error(D(426))}}else if(Re&&a.mode&1){var y=F_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),z_(y,o,a,s,e),jp(Vs(l,a));break e}}s=l=Vs(l,a),qe!==4&&(qe=2),na===null?na=[s]:na.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Kb(s,l,e);R_(s,m);break e;case 1:a=l;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ui===null||!Ui.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Yb(s,a,e);R_(s,b);break e}}s=s.return}while(s!==null)}hx(n)}catch(x){e=x,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function ux(){var t=au.current;return au.current=ou,t===null?ou:t}function ag(){(qe===0||qe===3||qe===2)&&(qe=4),nt===null||!(Fr&268435455)&&!(td&268435455)||bi(nt,ct)}function uu(t,e){var n=ue;ue|=2;var i=ux();(nt!==t||ct!==e)&&(zn=null,Rr(t,e));do try{xT();break}catch(r){cx(t,r)}while(!0);if(Vp(),ue=n,au.current=i,He!==null)throw Error(D(261));return nt=null,ct=0,qe}function xT(){for(;He!==null;)dx(He)}function ST(){for(;He!==null&&!Gk();)dx(He)}function dx(t){var e=px(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?hx(t):He=e,ng.current=null}function hx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mT(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,He=null;return}}else if(n=gT(n,e,zt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);qe===0&&(qe=5)}function vr(t,e,n){var i=_e,r=tn.transition;try{tn.transition=null,_e=1,ET(t,e,n,i)}finally{tn.transition=r,_e=i}return null}function ET(t,e,n,i){do Ds();while(Ii!==null);if(ue&6)throw Error(D(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(r1(t,s),t===nt&&(He=nt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,gx($c,function(){return Ds(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var o=_e;_e=1;var a=ue;ue|=4,ng.current=null,yT(t,n),ox(n,t),H1(tf),Yc=!!ef,tf=ef=null,t.current=n,vT(n),qk(),ue=a,_e=o,tn.transition=s}else t.current=n;if(Gl&&(Gl=!1,Ii=t,cu=r),s=t.pendingLanes,s===0&&(Ui=null),Jk(n.stateNode),Ot(t,je()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(lu)throw lu=!1,t=xf,xf=null,t;return cu&1&&t.tag!==0&&Ds(),s=t.pendingLanes,s&1?t===Sf?ia++:(ia=0,Sf=t):ia=0,rr(),null}function Ds(){if(Ii!==null){var t=Kw(cu),e=tn.transition,n=_e;try{if(tn.transition=null,_e=16>t?16:t,Ii===null)var i=!1;else{if(t=Ii,Ii=null,cu=0,ue&6)throw Error(D(331));var r=ue;for(ue|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(F=c;F!==null;){var u=F;switch(u.tag){case 0:case 11:case 15:ta(8,u,s)}var d=u.child;if(d!==null)d.return=u,F=d;else for(;F!==null;){u=F;var h=u.sibling,f=u.return;if(ix(u),u===c){F=null;break}if(h!==null){h.return=f,F=h;break}F=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ta(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var _=t.current;for(F=_;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=_;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ed(9,a)}}catch(x){ze(a,a.return,x)}if(a===o){F=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,F=b;break e}F=a.return}}if(ue=r,rr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Ku,t)}catch{}i=!0}return i}finally{_e=n,tn.transition=e}}return!1}function X_(t,e,n){e=Vs(n,e),e=Kb(t,e,1),t=zi(t,e,1),e=St(),t!==null&&(il(t,1,e),Ot(t,e))}function ze(t,e,n){if(t.tag===3)X_(t,t,n);else for(;e!==null;){if(e.tag===3){X_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){t=Vs(n,t),t=Yb(e,t,1),e=zi(e,t,1),t=St(),e!==null&&(il(e,1,t),Ot(e,t));break}}e=e.return}}function CT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ct&n)===n&&(qe===4||qe===3&&(ct&130023424)===ct&&500>je()-rg?Rr(t,0):ig|=n),Ot(t,e)}function fx(t,e){e===0&&(t.mode&1?(e=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):e=1);var n=St();t=ni(t,e),t!==null&&(il(t,e,n),Ot(t,n))}function kT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fx(t,n)}function TT(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(e),fx(t,n)}var px;px=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,pT(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Re&&e.flags&1048576&&yb(e,eu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Sc(t,e),t=e.pendingProps;var r=Us(e,_t.current);Ms(e,n),r=Xp(null,e,i,t,r,n);var s=Jp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(i)?(s=!0,Jc(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Kp(e),r.updater=Zu,e.stateNode=r,r._reactInternals=e,df(e,i,t,n),e=pf(null,e,i,!0,s,n)):(e.tag=0,Re&&s&&Up(e),bt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=PT(i),t=on(i,t),r){case 0:e=ff(null,e,i,t,n);break e;case 1:e=j_(null,e,i,t,n);break e;case 11:e=U_(null,e,i,t,n);break e;case 14:e=B_(null,e,i,on(i.type,t),n);break e}throw Error(D(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:on(i,r),ff(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:on(i,r),j_(t,e,i,r,n);case 3:e:{if(Xb(e),t===null)throw Error(D(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Eb(t,e),iu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Vs(Error(D(423)),e),e=W_(t,e,i,n,r);break e}else if(i!==r){r=Vs(Error(D(424)),e),e=W_(t,e,i,n,r);break e}else for(Bt=Fi(e.stateNode.containerInfo.firstChild),Wt=e,Re=!0,cn=null,n=xb(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bs(),i===r){e=ii(t,e,n);break e}bt(t,e,i,n)}e=e.child}return e;case 5:return Cb(e),t===null&&lf(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,nf(i,r)?o=null:s!==null&&nf(i,s)&&(e.flags|=32),Qb(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&lf(e),null;case 13:return Jb(t,e,n);case 4:return Yp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=js(e,null,i,n):bt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:on(i,r),U_(t,e,i,r,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,xe(tu,i._currentValue),i._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===r.children&&!Dt.current){e=ii(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Qn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ms(e,n),r=nn(r),i=i(r),e.flags|=1,bt(t,e,i,n),e.child;case 14:return i=e.type,r=on(i,e.pendingProps),r=on(i.type,r),B_(t,e,i,r,n);case 15:return Gb(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:on(i,r),Sc(t,e),e.tag=1,At(i)?(t=!0,Jc(e)):t=!1,Ms(e,n),$b(e,i,r),df(e,i,r,n),pf(null,e,i,!0,t,n);case 19:return Zb(t,e,n);case 22:return qb(t,e,n)}throw Error(D(156,e.tag))};function gx(t,e){return Ww(t,e)}function IT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,i){return new IT(t,e,n,i)}function lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PT(t){if(typeof t=="function")return lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tp)return 11;if(t===Ip)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hs:return Mr(n.children,r,s,e);case kp:o=8,r|=8;break;case Oh:return t=en(12,n,e,r|2),t.elementType=Oh,t.lanes=s,t;case Nh:return t=en(13,n,e,r),t.elementType=Nh,t.lanes=s,t;case Lh:return t=en(19,n,e,r),t.elementType=Lh,t.lanes=s,t;case Cw:return nd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sw:o=10;break e;case Ew:o=9;break e;case Tp:o=11;break e;case Ip:o=14;break e;case yi:o=16,i=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=en(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Mr(t,e,n,i){return t=en(7,t,i,e),t.lanes=n,t}function nd(t,e,n,i){return t=en(22,t,i,e),t.elementType=Cw,t.lanes=n,t.stateNode={isHidden:!1},t}function th(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function nh(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RT(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function cg(t,e,n,i,r,s,o,a,l){return t=new RT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=en(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(s),t}function MT(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function mx(t){if(!t)return Qi;t=t._reactInternals;e:{if(Xr(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(At(n))return mb(t,n,e)}return e}function _x(t,e,n,i,r,s,o,a,l){return t=cg(n,i,!0,t,r,s,o,a,l),t.context=mx(null),n=t.current,i=St(),r=Bi(n),s=Qn(i,r),s.callback=e??null,zi(n,s,r),t.current.lanes=r,il(t,r,i),Ot(t,i),t}function id(t,e,n,i){var r=e.current,s=St(),o=Bi(r);return n=mx(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=zi(r,e,o),t!==null&&(gn(t,r,o,s),wc(t,r,o)),o}function du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ug(t,e){J_(t,e),(t=t.alternate)&&J_(t,e)}function DT(){return null}var yx=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}rd.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));id(t,e,null,null)};rd.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zr(function(){id(null,t,null,null)}),e[ti]=null}};function rd(t){this._internalRoot=t}rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=qw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&Xw(t)}};function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z_(){}function AT(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=du(o);s.call(c)}}var o=_x(e,i,t,0,null,!1,!1,"",Z_);return t._reactRootContainer=o,t[ti]=o.current,ka(t.nodeType===8?t.parentNode:t),zr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=du(l);a.call(c)}}var l=cg(t,0,!1,null,null,!1,!1,"",Z_);return t._reactRootContainer=l,t[ti]=l.current,ka(t.nodeType===8?t.parentNode:t),zr(function(){id(e,l,n,i)}),l}function od(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=du(o);a.call(l)}}id(e,o,t,r)}else o=AT(n,e,t,r,i);return du(o)}Yw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(Mp(e,n|1),Ot(e,je()),!(ue&6)&&(Hs=je()+500,rr()))}break;case 13:zr(function(){var i=ni(t,1);if(i!==null){var r=St();gn(i,t,1,r)}}),ug(t,1)}};Dp=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=St();gn(e,t,134217728,n)}ug(t,134217728)}};Gw=function(t){if(t.tag===13){var e=Bi(t),n=ni(t,e);if(n!==null){var i=St();gn(n,t,e,i)}ug(t,e)}};qw=function(){return _e};Qw=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Kh=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Qu(i);if(!r)throw Error(D(90));Tw(i),Uh(i,r)}}}break;case"textarea":Pw(t,n);break;case"select":e=n.value,e!=null&&Ts(t,!!n.multiple,e,!1)}};Lw=sg;Fw=zr;var OT={usingClientEntryPoint:!1,Events:[sl,ms,Qu,Ow,Nw,sg]},So={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NT={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bw(t),t===null?null:t.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||DT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Ku=ql.inject(NT),In=ql}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OT;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(e))throw Error(D(200));return MT(t,e,null,n)};$t.createRoot=function(t,e){if(!hg(t))throw Error(D(299));var n=!1,i="",r=yx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=cg(t,1,!1,null,null,n,!1,i,r),t[ti]=e.current,ka(t.nodeType===8?t.parentNode:t),new dg(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Bw(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return zr(t)};$t.hydrate=function(t,e,n){if(!sd(e))throw Error(D(200));return od(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!hg(t))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=yx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_x(e,null,t,1,n??null,r,!1,s,o),t[ti]=e.current,ka(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new rd(e)};$t.render=function(t,e,n){if(!sd(e))throw Error(D(200));return od(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!sd(t))throw Error(D(40));return t._reactRootContainer?(zr(function(){od(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};$t.unstable_batchedUpdates=sg;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!sd(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return od(t,e,n,!1,i)};$t.version="18.3.1-next-f1338f8080-20240426";function vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vx)}catch(t){console.error(t)}}vx(),vw.exports=$t;var fg=vw.exports;const LT=aw(fg),FT=ow({__proto__:null,default:LT},[fg]);var ey=fg;Dh.createRoot=ey.createRoot,Dh.hydrateRoot=ey.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ae(){return Ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ae.apply(this,arguments)}var Ve;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ve||(Ve={}));const ty="popstate";function zT(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=ci(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Na("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Br(s))}function i(r,s){Ur(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return BT(e,n,i,t)}function ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ur(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UT(){return Math.random().toString(36).substr(2,8)}function ny(t,e){return{usr:t.state,key:t.key,idx:e}}function Na(t,e,n,i){return n===void 0&&(n=null),Ae({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ci(e):e,{state:n,key:e&&e.key||i||UT()})}function Br(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function BT(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ve.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ae({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ve.Pop;let y=u(),m=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:m})}function h(y,m){a=Ve.Push;let _=Na(g.location,y,m);n&&n(_,y),c=u()+1;let v=ny(_,c),b=g.createHref(_);try{o.pushState(v,"",b)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(b)}s&&l&&l({action:a,location:g.location,delta:1})}function f(y,m){a=Ve.Replace;let _=Na(g.location,y,m);n&&n(_,y),c=u();let v=ny(_,c),b=g.createHref(_);o.replaceState(v,"",b),s&&l&&l({action:a,location:g.location,delta:0})}function p(y){let m=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof y=="string"?y:Br(y);return _=_.replace(/ $/,"%20"),ee(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let g={get action(){return a},get location(){return t(r,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ty,d),l=y,()=>{r.removeEventListener(ty,d),l=null}},createHref(y){return e(r,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(y){return o.go(y)}};return g}var Pe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pe||(Pe={}));const jT=new Set(["lazy","caseSensitive","path","id","index","children"]);function WT(t){return t.index===!0}function kf(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,s)=>{let o=[...n,s],a=typeof r.id=="string"?r.id:o.join("-");if(ee(r.index!==!0||!r.children,"Cannot specify children on an index route"),ee(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),WT(r)){let l=Ae({},r,e(r),{id:a});return i[a]=l,l}else{let l=Ae({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=kf(r.children,e,o,i)),l}})}function Ss(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?ci(e):e,r=Jr(i.pathname||"/",n);if(r==null)return null;let s=bx(t);VT(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=tI(r);o=JT(s[a],l)}return o}function wx(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function bx(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ee(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Xn([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bx(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:QT(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of xx(s.path))r(s,o,l)}),e}function xx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=xx(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const HT=/^:[\w-]+$/,$T=3,KT=2,YT=1,GT=10,qT=-2,iy=t=>t==="*";function QT(t,e){let n=t.split("/"),i=n.length;return n.some(iy)&&(i+=qT),e&&(i+=KT),n.filter(r=>!iy(r)).reduce((r,s)=>r+(HT.test(s)?$T:s===""?YT:GT),i)}function XT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function JT(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=ZT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let d=a.route;s.push({params:i,pathname:Xn([r,u.pathname]),pathnameBase:rI(Xn([r,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(r=Xn([r,u.pathnameBase]))}return s}function ZT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=eI(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function eI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ur(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function tI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ur(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function nI(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ci(t):t;return{pathname:n?n.startsWith("/")?n:iI(n,e):e,search:sI(i),hash:oI(r)}}function iI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ih(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pg(t,e){let n=Sx(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function gg(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ci(t):(r=Ae({},t),ee(!r.pathname||!r.pathname.includes("?"),ih("?","pathname","search",r)),ee(!r.pathname||!r.pathname.includes("#"),ih("#","pathname","hash",r)),ee(!r.search||!r.search.includes("#"),ih("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=nI(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Xn=t=>t.join("/").replace(/\/\/+/g,"/"),rI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class mg{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function _g(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ex=["post","put","patch","delete"],aI=new Set(Ex),lI=["get",...Ex],cI=new Set(lI),uI=new Set([301,302,303,307,308]),dI=new Set([307,308]),rh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Cx="remix-router-transitions";function pI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;r=k=>({hasErrorBoundary:S(k)})}else r=fI;let s={},o=kf(t.routes,r,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||yI,u=Ae({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),d=null,h=new Set,f=null,p=null,g=null,y=t.hydrationData!=null,m=Ss(o,t.history.location,l),_=null;if(m==null){let S=Qt(404,{pathname:t.history.location.pathname}),{matches:k,route:I}=fy(o);m=k,_={[I.id]:S}}let v,b=m.some(S=>S.route.lazy),x=m.some(S=>S.route.loader);if(b)v=!1;else if(!x)v=!0;else if(u.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null,I=A=>A.route.loader?typeof A.route.loader=="function"&&A.route.loader.hydrate===!0?!1:S&&S[A.route.id]!==void 0||k&&k[A.route.id]!==void 0:!0;if(k){let A=m.findIndex(z=>k[z.route.id]!==void 0);v=m.slice(0,A+1).every(I)}else v=m.every(I)}else v=t.hydrationData!=null;let C,w={historyAction:t.history.action,location:t.history.location,matches:m,initialized:v,navigation:rh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},E=Ve.Pop,P=!1,R,L=!1,W=new Map,X=null,fe=!1,Z=!1,le=[],pe=[],M=new Map,U=0,H=-1,ce=new Map,se=new Set,it=new Map,Be=new Map,$e=new Set,De=new Map,Yt=new Map,Id=!1;function YC(){if(d=t.history.listen(S=>{let{action:k,location:I,delta:A}=S;if(Id){Id=!1;return}Ur(Yt.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Wm({currentLocation:w.location,nextLocation:I,historyAction:k});if(z&&A!=null){Id=!0,t.history.go(A*-1),Pl(z,{state:"blocked",location:I,proceed(){Pl(z,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),t.history.go(A)},reset(){let q=new Map(w.blockers);q.set(z,Eo),Lt({blockers:q})}});return}return fr(k,I)}),n){RI(e,W);let S=()=>MI(e,W);e.addEventListener("pagehide",S),X=()=>e.removeEventListener("pagehide",S)}return w.initialized||fr(Ve.Pop,w.location,{initialHydration:!0}),C}function GC(){d&&d(),X&&X(),h.clear(),R&&R.abort(),w.fetchers.forEach((S,k)=>Il(k)),w.blockers.forEach((S,k)=>jm(k))}function qC(S){return h.add(S),()=>h.delete(S)}function Lt(S,k){k===void 0&&(k={}),w=Ae({},w,S);let I=[],A=[];u.v7_fetcherPersist&&w.fetchers.forEach((z,q)=>{z.state==="idle"&&($e.has(q)?A.push(q):I.push(q))}),[...h].forEach(z=>z(w,{deletedFetchers:A,unstable_viewTransitionOpts:k.viewTransitionOpts,unstable_flushSync:k.flushSync===!0})),u.v7_fetcherPersist&&(I.forEach(z=>w.fetchers.delete(z)),A.forEach(z=>Il(z)))}function co(S,k,I){var A,z;let{flushSync:q}=I===void 0?{}:I,V=w.actionData!=null&&w.navigation.formMethod!=null&&ln(w.navigation.formMethod)&&w.navigation.state==="loading"&&((A=S.state)==null?void 0:A._isRedirect)!==!0,B;k.actionData?Object.keys(k.actionData).length>0?B=k.actionData:B=null:V?B=w.actionData:B=null;let J=k.loaderData?dy(w.loaderData,k.loaderData,k.matches||[],k.errors):w.loaderData,G=w.blockers;G.size>0&&(G=new Map(G),G.forEach((Y,Ie)=>G.set(Ie,Eo)));let rt=P===!0||w.navigation.formMethod!=null&&ln(w.navigation.formMethod)&&((z=S.state)==null?void 0:z._isRedirect)!==!0;a&&(o=a,a=void 0),fe||E===Ve.Pop||(E===Ve.Push?t.history.push(S,S.state):E===Ve.Replace&&t.history.replace(S,S.state));let st;if(E===Ve.Pop){let Y=W.get(w.location.pathname);Y&&Y.has(S.pathname)?st={currentLocation:w.location,nextLocation:S}:W.has(S.pathname)&&(st={currentLocation:S,nextLocation:w.location})}else if(L){let Y=W.get(w.location.pathname);Y?Y.add(S.pathname):(Y=new Set([S.pathname]),W.set(w.location.pathname,Y)),st={currentLocation:w.location,nextLocation:S}}Lt(Ae({},k,{actionData:B,loaderData:J,historyAction:E,location:S,initialized:!0,navigation:rh,revalidation:"idle",restoreScrollPosition:Hm(S,k.matches||w.matches),preventScrollReset:rt,blockers:G}),{viewTransitionOpts:st,flushSync:q===!0}),E=Ve.Pop,P=!1,L=!1,fe=!1,Z=!1,le=[],pe=[]}async function Nm(S,k){if(typeof S=="number"){t.history.go(S);return}let I=Tf(w.location,w.matches,l,u.v7_prependBasename,S,u.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:A,submission:z,error:q}=ry(u.v7_normalizeFormMethod,!1,I,k),V=w.location,B=Na(w.location,A,k&&k.state);B=Ae({},B,t.history.encodeLocation(B));let J=k&&k.replace!=null?k.replace:void 0,G=Ve.Push;J===!0?G=Ve.Replace:J===!1||z!=null&&ln(z.formMethod)&&z.formAction===w.location.pathname+w.location.search&&(G=Ve.Replace);let rt=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,st=(k&&k.unstable_flushSync)===!0,Y=Wm({currentLocation:V,nextLocation:B,historyAction:G});if(Y){Pl(Y,{state:"blocked",location:B,proceed(){Pl(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),Nm(S,k)},reset(){let Ie=new Map(w.blockers);Ie.set(Y,Eo),Lt({blockers:Ie})}});return}return await fr(G,B,{submission:z,pendingError:q,preventScrollReset:rt,replace:k&&k.replace,enableViewTransition:k&&k.unstable_viewTransition,flushSync:st})}function QC(){if(Pd(),Lt({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){fr(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}fr(E||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function fr(S,k,I){R&&R.abort(),R=null,E=S,fe=(I&&I.startUninterruptedRevalidation)===!0,sk(w.location,w.matches),P=(I&&I.preventScrollReset)===!0,L=(I&&I.enableViewTransition)===!0;let A=a||o,z=I&&I.overrideNavigation,q=Ss(A,k,l),V=(I&&I.flushSync)===!0;if(!q){let Y=Qt(404,{pathname:k.pathname}),{matches:Ie,route:Xe}=fy(A);Rd(),co(k,{matches:Ie,loaderData:{},errors:{[Xe.id]:Y}},{flushSync:V});return}if(w.initialized&&!Z&&EI(w.location,k)&&!(I&&I.submission&&ln(I.submission.formMethod))){co(k,{matches:q},{flushSync:V});return}R=new AbortController;let B=as(t.history,k,R.signal,I&&I.submission),J;if(I&&I.pendingError)J=[ra(q).route.id,{type:Pe.error,error:I.pendingError}];else if(I&&I.submission&&ln(I.submission.formMethod)){let Y=await XC(B,k,I.submission,q,{replace:I.replace,flushSync:V});if(Y.shortCircuited)return;J=Y.pendingActionResult,z=sh(k,I.submission),V=!1,B=as(t.history,B.url,B.signal)}let{shortCircuited:G,loaderData:rt,errors:st}=await JC(B,k,q,z,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,V,J);G||(R=null,co(k,Ae({matches:q},hy(J),{loaderData:rt,errors:st})))}async function XC(S,k,I,A,z){z===void 0&&(z={}),Pd();let q=II(k,I);Lt({navigation:q},{flushSync:z.flushSync===!0});let V,B=Pf(A,k);if(!B.route.action&&!B.route.lazy)V={type:Pe.error,error:Qt(405,{method:S.method,pathname:k.pathname,routeId:B.route.id})};else if(V=(await ho("action",S,[B],A))[0],S.signal.aborted)return{shortCircuited:!0};if(Ir(V)){let J;return z&&z.replace!=null?J=z.replace:J=ly(V.response.headers.get("Location"),new URL(S.url),l)===w.location.pathname+w.location.search,await uo(S,V,{submission:I,replace:J}),{shortCircuited:!0}}if(Tr(V))throw Qt(400,{type:"defer-action"});if(Zt(V)){let J=ra(A,B.route.id);return(z&&z.replace)!==!0&&(E=Ve.Push),{pendingActionResult:[J.route.id,V]}}return{pendingActionResult:[B.route.id,V]}}async function JC(S,k,I,A,z,q,V,B,J,G){let rt=A||sh(k,z),st=z||q||my(rt),Y=a||o,[Ie,Xe]=sy(t.history,w,I,st,k,u.v7_partialHydration&&B===!0,u.unstable_skipActionErrorRevalidation,Z,le,pe,$e,it,se,Y,l,G);if(Rd(ae=>!(I&&I.some(wt=>wt.route.id===ae))||Ie&&Ie.some(wt=>wt.route.id===ae)),H=++U,Ie.length===0&&Xe.length===0){let ae=Um();return co(k,Ae({matches:I,loaderData:{},errors:G&&Zt(G[1])?{[G[0]]:G[1].error}:null},hy(G),ae?{fetchers:new Map(w.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(!fe&&(!u.v7_partialHydration||!B)){Xe.forEach(wt=>{let Gt=w.fetchers.get(wt.key),ot=Co(void 0,Gt?Gt.data:void 0);w.fetchers.set(wt.key,ot)});let ae;G&&!Zt(G[1])?ae={[G[0]]:G[1].data}:w.actionData&&(Object.keys(w.actionData).length===0?ae=null:ae=w.actionData),Lt(Ae({navigation:rt},ae!==void 0?{actionData:ae}:{},Xe.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:J})}Xe.forEach(ae=>{M.has(ae.key)&&hi(ae.key),ae.controller&&M.set(ae.key,ae.controller)});let po=()=>Xe.forEach(ae=>hi(ae.key));R&&R.signal.addEventListener("abort",po);let{loaderResults:fi,fetcherResults:is}=await Lm(w.matches,I,Ie,Xe,S);if(S.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",po),Xe.forEach(ae=>M.delete(ae.key));let rs=py([...fi,...is]);if(rs){if(rs.idx>=Ie.length){let ae=Xe[rs.idx-Ie.length].key;se.add(ae)}return await uo(S,rs.result,{replace:V}),{shortCircuited:!0}}let{loaderData:ss,errors:bn}=uy(w,I,Ie,fi,G,Xe,is,De);De.forEach((ae,wt)=>{ae.subscribe(Gt=>{(Gt||ae.done)&&De.delete(wt)})}),u.v7_partialHydration&&B&&w.errors&&Object.entries(w.errors).filter(ae=>{let[wt]=ae;return!Ie.some(Gt=>Gt.route.id===wt)}).forEach(ae=>{let[wt,Gt]=ae;bn=Object.assign(bn||{},{[wt]:Gt})});let Rl=Um(),Ml=Bm(H),Dl=Rl||Ml||Xe.length>0;return Ae({loaderData:ss,errors:bn},Dl?{fetchers:new Map(w.fetchers)}:{})}function ZC(S,k,I,A){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M.has(S)&&hi(S);let z=(A&&A.unstable_flushSync)===!0,q=a||o,V=Tf(w.location,w.matches,l,u.v7_prependBasename,I,u.v7_relativeSplatPath,k,A==null?void 0:A.relative),B=Ss(q,V,l);if(!B){fo(S,k,Qt(404,{pathname:V}),{flushSync:z});return}let{path:J,submission:G,error:rt}=ry(u.v7_normalizeFormMethod,!0,V,A);if(rt){fo(S,k,rt,{flushSync:z});return}let st=Pf(B,J);if(P=(A&&A.preventScrollReset)===!0,G&&ln(G.formMethod)){ek(S,k,J,st,B,z,G);return}it.set(S,{routeId:k,path:J}),tk(S,k,J,st,B,z,G)}async function ek(S,k,I,A,z,q,V){if(Pd(),it.delete(S),!A.route.action&&!A.route.lazy){let ot=Qt(405,{method:V.formMethod,pathname:I,routeId:k});fo(S,k,ot,{flushSync:q});return}let B=w.fetchers.get(S);di(S,PI(V,B),{flushSync:q});let J=new AbortController,G=as(t.history,I,J.signal,V);M.set(S,J);let rt=U,Y=(await ho("action",G,[A],z))[0];if(G.signal.aborted){M.get(S)===J&&M.delete(S);return}if(u.v7_fetcherPersist&&$e.has(S)){if(Ir(Y)||Zt(Y)){di(S,_i(void 0));return}}else{if(Ir(Y))if(M.delete(S),H>rt){di(S,_i(void 0));return}else return se.add(S),di(S,Co(V)),uo(G,Y,{fetcherSubmission:V});if(Zt(Y)){fo(S,k,Y.error);return}}if(Tr(Y))throw Qt(400,{type:"defer-action"});let Ie=w.navigation.location||w.location,Xe=as(t.history,Ie,J.signal),po=a||o,fi=w.navigation.state!=="idle"?Ss(po,w.navigation.location,l):w.matches;ee(fi,"Didn't find any matches after fetcher action");let is=++U;ce.set(S,is);let rs=Co(V,Y.data);w.fetchers.set(S,rs);let[ss,bn]=sy(t.history,w,fi,V,Ie,!1,u.unstable_skipActionErrorRevalidation,Z,le,pe,$e,it,se,po,l,[A.route.id,Y]);bn.filter(ot=>ot.key!==S).forEach(ot=>{let go=ot.key,$m=w.fetchers.get(go),ak=Co(void 0,$m?$m.data:void 0);w.fetchers.set(go,ak),M.has(go)&&hi(go),ot.controller&&M.set(go,ot.controller)}),Lt({fetchers:new Map(w.fetchers)});let Rl=()=>bn.forEach(ot=>hi(ot.key));J.signal.addEventListener("abort",Rl);let{loaderResults:Ml,fetcherResults:Dl}=await Lm(w.matches,fi,ss,bn,Xe);if(J.signal.aborted)return;J.signal.removeEventListener("abort",Rl),ce.delete(S),M.delete(S),bn.forEach(ot=>M.delete(ot.key));let ae=py([...Ml,...Dl]);if(ae){if(ae.idx>=ss.length){let ot=bn[ae.idx-ss.length].key;se.add(ot)}return uo(Xe,ae.result)}let{loaderData:wt,errors:Gt}=uy(w,w.matches,ss,Ml,void 0,bn,Dl,De);if(w.fetchers.has(S)){let ot=_i(Y.data);w.fetchers.set(S,ot)}Bm(is),w.navigation.state==="loading"&&is>H?(ee(E,"Expected pending action"),R&&R.abort(),co(w.navigation.location,{matches:fi,loaderData:wt,errors:Gt,fetchers:new Map(w.fetchers)})):(Lt({errors:Gt,loaderData:dy(w.loaderData,wt,fi,Gt),fetchers:new Map(w.fetchers)}),Z=!1)}async function tk(S,k,I,A,z,q,V){let B=w.fetchers.get(S);di(S,Co(V,B?B.data:void 0),{flushSync:q});let J=new AbortController,G=as(t.history,I,J.signal);M.set(S,J);let rt=U,Y=(await ho("loader",G,[A],z))[0];if(Tr(Y)&&(Y=await Px(Y,G.signal,!0)||Y),M.get(S)===J&&M.delete(S),!G.signal.aborted){if($e.has(S)){di(S,_i(void 0));return}if(Ir(Y))if(H>rt){di(S,_i(void 0));return}else{se.add(S),await uo(G,Y);return}if(Zt(Y)){fo(S,k,Y.error);return}ee(!Tr(Y),"Unhandled fetcher deferred data"),di(S,_i(Y.data))}}async function uo(S,k,I){let{submission:A,fetcherSubmission:z,replace:q}=I===void 0?{}:I;k.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let V=k.response.headers.get("Location");ee(V,"Expected a Location header on the redirect Response"),V=ly(V,new URL(S.url),l);let B=Na(w.location,V,{_isRedirect:!0});if(n){let Ie=!1;if(k.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(yg.test(V)){const Xe=t.history.createURL(V);Ie=Xe.origin!==e.location.origin||Jr(Xe.pathname,l)==null}if(Ie){q?e.location.replace(V):e.location.assign(V);return}}R=null;let J=q===!0?Ve.Replace:Ve.Push,{formMethod:G,formAction:rt,formEncType:st}=w.navigation;!A&&!z&&G&&rt&&st&&(A=my(w.navigation));let Y=A||z;if(dI.has(k.response.status)&&Y&&ln(Y.formMethod))await fr(J,B,{submission:Ae({},Y,{formAction:V}),preventScrollReset:P});else{let Ie=sh(B,A);await fr(J,B,{overrideNavigation:Ie,fetcherSubmission:z,preventScrollReset:P})}}async function ho(S,k,I,A){try{let z=await vI(c,S,k,I,A,s,r);return await Promise.all(z.map((q,V)=>{if(CI(q)){let B=q.result;return{type:Pe.redirect,response:xI(B,k,I[V].route.id,A,l,u.v7_relativeSplatPath)}}return bI(q)}))}catch(z){return I.map(()=>({type:Pe.error,error:z}))}}async function Lm(S,k,I,A,z){let[q,...V]=await Promise.all([I.length?ho("loader",z,I,k):[],...A.map(B=>{if(B.matches&&B.match&&B.controller){let J=as(t.history,B.path,B.controller.signal);return ho("loader",J,[B.match],B.matches).then(G=>G[0])}else return Promise.resolve({type:Pe.error,error:Qt(404,{pathname:B.path})})})]);return await Promise.all([gy(S,I,q,q.map(()=>z.signal),!1,w.loaderData),gy(S,A.map(B=>B.match),V,A.map(B=>B.controller?B.controller.signal:null),!0)]),{loaderResults:q,fetcherResults:V}}function Pd(){Z=!0,le.push(...Rd()),it.forEach((S,k)=>{M.has(k)&&(pe.push(k),hi(k))})}function di(S,k,I){I===void 0&&(I={}),w.fetchers.set(S,k),Lt({fetchers:new Map(w.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function fo(S,k,I,A){A===void 0&&(A={});let z=ra(w.matches,k);Il(S),Lt({errors:{[z.route.id]:I},fetchers:new Map(w.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function Fm(S){return u.v7_fetcherPersist&&(Be.set(S,(Be.get(S)||0)+1),$e.has(S)&&$e.delete(S)),w.fetchers.get(S)||hI}function Il(S){let k=w.fetchers.get(S);M.has(S)&&!(k&&k.state==="loading"&&ce.has(S))&&hi(S),it.delete(S),ce.delete(S),se.delete(S),$e.delete(S),w.fetchers.delete(S)}function nk(S){if(u.v7_fetcherPersist){let k=(Be.get(S)||0)-1;k<=0?(Be.delete(S),$e.add(S)):Be.set(S,k)}else Il(S);Lt({fetchers:new Map(w.fetchers)})}function hi(S){let k=M.get(S);ee(k,"Expected fetch controller: "+S),k.abort(),M.delete(S)}function zm(S){for(let k of S){let I=Fm(k),A=_i(I.data);w.fetchers.set(k,A)}}function Um(){let S=[],k=!1;for(let I of se){let A=w.fetchers.get(I);ee(A,"Expected fetcher: "+I),A.state==="loading"&&(se.delete(I),S.push(I),k=!0)}return zm(S),k}function Bm(S){let k=[];for(let[I,A]of ce)if(A<S){let z=w.fetchers.get(I);ee(z,"Expected fetcher: "+I),z.state==="loading"&&(hi(I),ce.delete(I),k.push(I))}return zm(k),k.length>0}function ik(S,k){let I=w.blockers.get(S)||Eo;return Yt.get(S)!==k&&Yt.set(S,k),I}function jm(S){w.blockers.delete(S),Yt.delete(S)}function Pl(S,k){let I=w.blockers.get(S)||Eo;ee(I.state==="unblocked"&&k.state==="blocked"||I.state==="blocked"&&k.state==="blocked"||I.state==="blocked"&&k.state==="proceeding"||I.state==="blocked"&&k.state==="unblocked"||I.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+k.state);let A=new Map(w.blockers);A.set(S,k),Lt({blockers:A})}function Wm(S){let{currentLocation:k,nextLocation:I,historyAction:A}=S;if(Yt.size===0)return;Yt.size>1&&Ur(!1,"A router only supports one blocker at a time");let z=Array.from(Yt.entries()),[q,V]=z[z.length-1],B=w.blockers.get(q);if(!(B&&B.state==="proceeding")&&V({currentLocation:k,nextLocation:I,historyAction:A}))return q}function Rd(S){let k=[];return De.forEach((I,A)=>{(!S||S(A))&&(I.cancel(),k.push(A),De.delete(A))}),k}function rk(S,k,I){if(f=S,g=k,p=I||null,!y&&w.navigation===rh){y=!0;let A=Hm(w.location,w.matches);A!=null&&Lt({restoreScrollPosition:A})}return()=>{f=null,g=null,p=null}}function Vm(S,k){return p&&p(S,k.map(A=>wx(A,w.loaderData)))||S.key}function sk(S,k){if(f&&g){let I=Vm(S,k);f[I]=g()}}function Hm(S,k){if(f){let I=Vm(S,k),A=f[I];if(typeof A=="number")return A}return null}function ok(S){s={},a=kf(S,r,void 0,s)}return C={get basename(){return l},get future(){return u},get state(){return w},get routes(){return o},get window(){return e},initialize:YC,subscribe:qC,enableScrollRestoration:rk,navigate:Nm,fetch:ZC,revalidate:QC,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Fm,deleteFetcher:nk,dispose:GC,getBlocker:ik,deleteBlocker:jm,_internalFetchControllers:M,_internalActiveDeferreds:De,_internalSetRoutes:ok},C}function gI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tf(t,e,n,i,r,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=gg(r||".",pg(l,s),Jr(t.pathname,n)||t.pathname,a==="path");return r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&c&&c.route.index&&!vg(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Xn([n,u.pathname])),Br(u)}function ry(t,e,n,i){if(!i||!gI(i))return{path:n};if(i.formMethod&&!TI(i.formMethod))return{path:n,error:Qt(405,{method:i.formMethod})};let r=()=>({path:n,error:Qt(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Tx(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ln(o))return r();let h=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((f,p)=>{let[g,y]=p;return""+f+g+"="+y+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:h}}}else if(i.formEncType==="application/json"){if(!ln(o))return r();try{let h=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}ee(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=If(i.formData),c=i.formData;else if(i.body instanceof FormData)l=If(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=cy(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=cy(l)}catch{return r()}let u={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ln(u.formMethod))return{path:n,submission:u};let d=ci(n);return e&&d.search&&vg(d.search)&&l.append("index",""),d.search="?"+l,{path:Br(d),submission:u}}function mI(t,e){let n=t;if(e){let i=t.findIndex(r=>r.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function sy(t,e,n,i,r,s,o,a,l,c,u,d,h,f,p,g){let y=g?Zt(g[1])?g[1].error:g[1].data:void 0,m=t.createURL(e.location),_=t.createURL(r),v=g&&Zt(g[1])?g[0]:void 0,b=v?mI(n,v):n,x=g?g[1].statusCode:void 0,C=o&&x&&x>=400,w=b.filter((P,R)=>{let{route:L}=P;if(L.lazy)return!0;if(L.loader==null)return!1;if(s)return typeof L.loader!="function"||L.loader.hydrate?!0:e.loaderData[L.id]===void 0&&(!e.errors||e.errors[L.id]===void 0);if(_I(e.loaderData,e.matches[R],P)||l.some(fe=>fe===P.route.id))return!0;let W=e.matches[R],X=P;return oy(P,Ae({currentUrl:m,currentParams:W.params,nextUrl:_,nextParams:X.params},i,{actionResult:y,unstable_actionStatus:x,defaultShouldRevalidate:C?!1:a||m.pathname+m.search===_.pathname+_.search||m.search!==_.search||kx(W,X)}))}),E=[];return d.forEach((P,R)=>{if(s||!n.some(Z=>Z.route.id===P.routeId)||u.has(R))return;let L=Ss(f,P.path,p);if(!L){E.push({key:R,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let W=e.fetchers.get(R),X=Pf(L,P.path),fe=!1;h.has(R)?fe=!1:c.includes(R)?fe=!0:W&&W.state!=="idle"&&W.data===void 0?fe=a:fe=oy(X,Ae({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},i,{actionResult:y,unstable_actionStatus:x,defaultShouldRevalidate:C?!1:a})),fe&&E.push({key:R,routeId:P.routeId,path:P.path,matches:L,match:X,controller:new AbortController})}),[w,E]}function _I(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function kx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function oy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function ay(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];ee(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Ur(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!jT.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,Ae({},e(r),{lazy:void 0}))}function yI(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function vI(t,e,n,i,r,s,o,a){let l=i.reduce((d,h)=>d.add(h.route.id),new Set),c=new Set,u=await t({matches:r.map(d=>{let h=l.has(d.route.id);return Ae({},d,{shouldLoad:h,resolve:p=>(c.add(d.route.id),h?wI(e,n,d,s,o,p,a):Promise.resolve({type:Pe.data,result:void 0}))})}),request:n,params:r[0].params,context:a});return r.forEach(d=>ee(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((d,h)=>l.has(r[h].route.id))}async function wI(t,e,n,i,r,s,o){let a,l,c=u=>{let d,h=new Promise((g,y)=>d=y);l=()=>d(),e.signal.addEventListener("abort",l);let f=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},...g!==void 0?[g]:[]),p;return s?p=s(g=>f(g)):p=(async()=>{try{return{type:"data",result:await f()}}catch(g){return{type:"error",result:g}}})(),Promise.race([p,h])};try{let u=n.route[t];if(n.route.lazy)if(u){let d,[h]=await Promise.all([c(u).catch(f=>{d=f}),ay(n.route,r,i)]);if(d!==void 0)throw d;a=h}else if(await ay(n.route,r,i),u=n.route[t],u)a=await c(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Qt(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(u)a=await c(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw Qt(404,{pathname:h})}ee(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Pe.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function bI(t){let{result:e,type:n,status:i}=t;if(Ix(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Pe.error,error:a}}return n===Pe.error?{type:Pe.error,error:new mg(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Pe.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Pe.error)return{type:Pe.error,error:e,statusCode:_g(e)?e.status:i};if(kI(e)){var r,s;return{type:Pe.deferred,deferredData:e,statusCode:(r=e.init)==null?void 0:r.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Pe.data,data:e,statusCode:i}}function xI(t,e,n,i,r,s){let o=t.headers.get("Location");if(ee(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!yg.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=Tf(new URL(e.url),a,r,!0,o,s),t.headers.set("Location",o)}return t}function ly(t,e,n){if(yg.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Jr(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function as(t,e,n,i){let r=t.createURL(Tx(e)).toString(),s={signal:n};if(i&&ln(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=If(i.formData):s.body=i.formData}return new Request(r,s)}function If(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function cy(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function SI(t,e,n,i,r,s){let o={},a=null,l,c=!1,u={},d=i&&Zt(i[1])?i[1].error:void 0;return n.forEach((h,f)=>{let p=e[f].route.id;if(ee(!Ir(h),"Cannot handle redirect results in processLoaderData"),Zt(h)){let g=h.error;d!==void 0&&(g=d,d=void 0),a=a||{};{let y=ra(t,p);a[y.route.id]==null&&(a[y.route.id]=g)}o[p]=void 0,c||(c=!0,l=_g(h.error)?h.error.status:500),h.headers&&(u[p]=h.headers)}else Tr(h)?(r.set(p,h.deferredData),o[p]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[p]=h.headers)):(o[p]=h.data,h.statusCode&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[p]=h.headers))}),d!==void 0&&i&&(a={[i[0]]:d},o[i[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:u}}function uy(t,e,n,i,r,s,o,a){let{loaderData:l,errors:c}=SI(e,n,i,r,a);for(let u=0;u<s.length;u++){let{key:d,match:h,controller:f}=s[u];ee(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let p=o[u];if(!(f&&f.signal.aborted))if(Zt(p)){let g=ra(t.matches,h==null?void 0:h.route.id);c&&c[g.route.id]||(c=Ae({},c,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(Ir(p))ee(!1,"Unhandled fetcher revalidation redirect");else if(Tr(p))ee(!1,"Unhandled fetcher deferred data");else{let g=_i(p.data);t.fetchers.set(d,g)}}return{loaderData:l,errors:c}}function dy(t,e,n,i){let r=Ae({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):t[o]!==void 0&&s.route.loader&&(r[o]=t[o]),i&&i.hasOwnProperty(o))break}return r}function hy(t){return t?Zt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ra(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function fy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qt(t,e){let{pathname:n,routeId:i,method:r,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&n&&i?a="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",r&&n&&i?a="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new mg(t||500,o,new Error(a),!0)}function py(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ir(n))return{result:n,idx:e}}}function Tx(t){let e=typeof t=="string"?ci(t):t;return Br(Ae({},e,{hash:""}))}function EI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function CI(t){return Ix(t.result)&&uI.has(t.result.status)}function Tr(t){return t.type===Pe.deferred}function Zt(t){return t.type===Pe.error}function Ir(t){return(t&&t.type)===Pe.redirect}function kI(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TI(t){return cI.has(t.toLowerCase())}function ln(t){return aI.has(t.toLowerCase())}async function gy(t,e,n,i,r,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!kx(c,l)&&(s&&s[l.route.id])!==void 0;if(Tr(a)&&(r||u)){let d=i[o];ee(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Px(a,d,r).then(h=>{h&&(n[o]=h||n[o])})}}}async function Px(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pe.data,data:t.deferredData.unwrappedData}}catch(r){return{type:Pe.error,error:r}}return{type:Pe.data,data:t.deferredData.data}}}function vg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Pf(t,e){let n=typeof e=="string"?ci(e).search:e.search;if(t[t.length-1].route.index&&vg(n||""))return t[t.length-1];let i=Sx(t);return i[i.length-1]}function my(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:o}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function sh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function II(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Co(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function PI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _i(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RI(t,e){try{let n=t.sessionStorage.getItem(Cx);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function MI(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(Cx,JSON.stringify(n))}catch(i){Ur(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hu.apply(this,arguments)}const al=T.createContext(null),wg=T.createContext(null),sr=T.createContext(null),bg=T.createContext(null),or=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Rx=T.createContext(null);function DI(t,e){let{relative:n}=e===void 0?{}:e;ll()||ee(!1);let{basename:i,navigator:r}=T.useContext(sr),{hash:s,pathname:o,search:a}=Dx(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Xn([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ll(){return T.useContext(bg)!=null}function cl(){return ll()||ee(!1),T.useContext(bg).location}function Mx(t){T.useContext(sr).static||T.useLayoutEffect(t)}function ad(){let{isDataRoute:t}=T.useContext(or);return t?YI():AI()}function AI(){ll()||ee(!1);let t=T.useContext(al),{basename:e,future:n,navigator:i}=T.useContext(sr),{matches:r}=T.useContext(or),{pathname:s}=cl(),o=JSON.stringify(pg(r,n.v7_relativeSplatPath)),a=T.useRef(!1);return Mx(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=gg(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xn([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,s,t])}const OI=T.createContext(null);function NI(t){let e=T.useContext(or).outlet;return e&&T.createElement(OI.Provider,{value:t},e)}function Dx(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=T.useContext(sr),{matches:r}=T.useContext(or),{pathname:s}=cl(),o=JSON.stringify(pg(r,i.v7_relativeSplatPath));return T.useMemo(()=>gg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function LI(t,e,n,i){ll()||ee(!1);let{navigator:r}=T.useContext(sr),{matches:s}=T.useContext(or),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cl(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=Ss(t,{pathname:h});return jI(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Xn([l,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Xn([l,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,i)}function FI(){let t=KI(),e=_g(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,null)}const zI=T.createElement(FI,null);class UI extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(or.Provider,{value:this.props.routeContext},T.createElement(Rx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BI(t){let{routeContext:e,match:n,children:i}=t,r=T.useContext(al);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(or.Provider,{value:e},i)}function jI(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ee(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||zI,l&&(c<0&&h===0?(p=!0,y=null):c===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),_=()=>{let v;return f?v=g:p?v=y:d.route.Component?v=T.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,T.createElement(BI,{match:d,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(UI,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:_(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):_()},null)}var Ax=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ax||{}),$s=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($s||{});function WI(t){let e=T.useContext(al);return e||ee(!1),e}function xg(t){let e=T.useContext(wg);return e||ee(!1),e}function VI(t){let e=T.useContext(or);return e||ee(!1),e}function Ox(t){let e=VI(),n=e.matches[e.matches.length-1];return n.route.id||ee(!1),n.route.id}function HI(){return xg($s.UseNavigation).navigation}function $I(){let{matches:t,loaderData:e}=xg($s.UseMatches);return T.useMemo(()=>t.map(n=>wx(n,e)),[t,e])}function KI(){var t;let e=T.useContext(Rx),n=xg($s.UseRouteError),i=Ox($s.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function YI(){let{router:t}=WI(Ax.UseNavigateStable),e=Ox($s.UseNavigateStable),n=T.useRef(!1);return Mx(()=>{n.current=!0}),T.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,hu({fromRouteId:e},s)))},[t,e])}function GI(t){return NI(t.context)}function qI(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ve.Pop,navigator:s,static:o=!1,future:a}=t;ll()&&ee(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:hu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=ci(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,g=T.useMemo(()=>{let y=Jr(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:p},navigationType:r}},[l,u,d,h,f,p,r]);return g==null?null:T.createElement(sr.Provider,{value:c},T.createElement(bg.Provider,{children:n,value:g}))}new Promise(()=>{});function QI(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ks.apply(this,arguments)}function XI(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function JI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZI(t,e){return t.button===0&&(!e||e==="_self")&&!JI(t)}const eP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tP="6";try{window.__reactRouterVersion=tP}catch{}function nP(t,e){return pI({basename:void 0,future:Ks({},void 0,{v7_prependBasename:!0}),history:zT({window:void 0}),hydrationData:iP(),routes:t,mapRouteProperties:QI,unstable_dataStrategy:void 0,window:void 0}).initialize()}function iP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ks({},e,{errors:rP(e.errors)})),e}function rP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new mg(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const sP=T.createContext({isTransitioning:!1}),oP=T.createContext(new Map),aP="startTransition",_y=Ck[aP],lP="flushSync",yy=FT[lP];function cP(t){_y?_y(t):t()}function ko(t){yy?yy(t):t()}let uP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function dP(t){let{fallbackElement:e,router:n,future:i}=t,[r,s]=T.useState(n.state),[o,a]=T.useState(),[l,c]=T.useState({isTransitioning:!1}),[u,d]=T.useState(),[h,f]=T.useState(),[p,g]=T.useState(),y=T.useRef(new Map),{v7_startTransition:m}=i||{},_=T.useCallback(w=>{m?cP(w):w()},[m]),v=T.useCallback((w,E)=>{let{deletedFetchers:P,unstable_flushSync:R,unstable_viewTransitionOpts:L}=E;P.forEach(X=>y.current.delete(X)),w.fetchers.forEach((X,fe)=>{X.data!==void 0&&y.current.set(fe,X.data)});let W=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!L||W){R?ko(()=>s(w)):_(()=>s(w));return}if(R){ko(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let X=n.window.document.startViewTransition(()=>{ko(()=>s(w))});X.finished.finally(()=>{ko(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),ko(()=>f(X));return}h?(u&&u.resolve(),h.skipTransition(),g({state:w,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,h,u,y,_]);T.useLayoutEffect(()=>n.subscribe(v),[n,v]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new uP)},[l]),T.useEffect(()=>{if(u&&o&&n.window){let w=o,E=u.promise,P=n.window.document.startViewTransition(async()=>{_(()=>s(w)),await E});P.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(P)}},[_,o,u,n.window]),T.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,h,r.location,o]),T.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),T.useEffect(()=>{},[]);let b=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,E,P)=>n.navigate(w,{state:E,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(w,E,P)=>n.navigate(w,{replace:!0,state:E,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),x=n.basename||"/",C=T.useMemo(()=>({router:n,navigator:b,static:!1,basename:x}),[n,b,x]);return T.createElement(T.Fragment,null,T.createElement(al.Provider,{value:C},T.createElement(wg.Provider,{value:r},T.createElement(oP.Provider,{value:y.current},T.createElement(sP.Provider,{value:l},T.createElement(qI,{basename:x,location:r.location,navigationType:r.historyAction,navigator:b,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},r.initialized||n.future.v7_partialHydration?T.createElement(hP,{routes:n.routes,future:n.future,state:r}):e))))),null)}function hP(t){let{routes:e,future:n,state:i}=t;return LI(e,void 0,i,n)}const fP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rf=T.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=XI(e,eP),{basename:f}=T.useContext(sr),p,g=!1;if(typeof c=="string"&&pP.test(c)&&(p=c,fP))try{let v=new URL(window.location.href),b=c.startsWith("//")?new URL(v.protocol+c):new URL(c),x=Jr(b.pathname,f);b.origin===v.origin&&x!=null?c=x+b.search+b.hash:g=!0}catch{}let y=DI(c,{relative:r}),m=yP(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:d});function _(v){i&&i(v),v.defaultPrevented||m(v)}return T.createElement("a",Ks({},h,{href:p||y,onClick:g||s?i:_,ref:n,target:l}))});function gP(t){let{getKey:e,storageKey:n}=t;return vP({getKey:e,storageKey:n}),null}var Mf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mf||(Mf={}));var Df;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Df||(Df={}));function mP(t){let e=T.useContext(al);return e||ee(!1),e}function _P(t){let e=T.useContext(wg);return e||ee(!1),e}function yP(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=ad(),c=cl(),u=Dx(t,{relative:o});return T.useCallback(d=>{if(ZI(d,n)){d.preventDefault();let h=i!==void 0?i:Br(c)===Br(u);l(t,{replace:h,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}const vy="react-router-scroll-positions";let Ql={};function vP(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:i}=mP(Mf.UseScrollRestoration),{restoreScrollPosition:r,preventScrollReset:s}=_P(Df.UseScrollRestoration),{basename:o}=T.useContext(sr),a=cl(),l=$I(),c=HI();T.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),wP(T.useCallback(()=>{if(c.state==="idle"){let u=(e?e(a,l):null)||a.key;Ql[u]=window.scrollY}try{sessionStorage.setItem(n||vy,JSON.stringify(Ql))}catch{}window.history.scrollRestoration="auto"},[n,e,c.state,a,l])),typeof document<"u"&&(T.useLayoutEffect(()=>{try{let u=sessionStorage.getItem(n||vy);u&&(Ql=JSON.parse(u))}catch{}},[n]),T.useLayoutEffect(()=>{let u=e&&o!=="/"?(h,f)=>e(Ks({},h,{pathname:Jr(h.pathname,o)||h.pathname}),f):e,d=i==null?void 0:i.enableScrollRestoration(Ql,()=>window.scrollY,u);return()=>d&&d()},[i,o,e]),T.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}if(a.hash){let u=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(u){u.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[a,r,s]))}function wP(t,e){let{capture:n}={};T.useEffect(()=>{let i=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,i),()=>{window.removeEventListener("pagehide",t,i)}},[t,n])}let bP={data:""},xP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||bP,SP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,EP=/\/\*[^]*?\*\/|  +/g,wy=/\n+/g,xi=(t,e)=>{let n="",i="",r="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":i+=s[1]=="f"?xi(o,s):s+"{"+xi(o,s[1]=="k"?"":e)+"}":typeof o=="object"?i+=xi(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=xi.p?xi.p(s,o):s+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+i},On={},Nx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Nx(t[n]);return e}return t},CP=(t,e,n,i,r)=>{let s=Nx(t),o=On[s]||(On[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!On[o]){let l=s!==t?t:(c=>{let u,d,h=[{}];for(;u=SP.exec(c.replace(EP,""));)u[4]?h.shift():u[3]?(d=u[3].replace(wy," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(wy," ").trim();return h[0]})(t);On[o]=xi(r?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&On.g?On.g:null;return n&&(On.g=On[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(On[o],e,i,a),o},kP=(t,e,n)=>t.reduce((i,r,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":xi(a,""):a===!1?"":a}return i+r+(o??"")},"");function ld(t){let e=this||{},n=t.call?t(e.p):t;return CP(n.unshift?n.raw?kP(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,xP(e.target),e.g,e.o,e.k)}let Lx,Af,Of;ld.bind({g:1});let ri=ld.bind({k:1});function TP(t,e,n,i){xi.p=e,Lx=t,Af=n,Of=i}function ar(t,e){let n=this||{};return function(){let i=arguments;function r(s,o){let a=Object.assign({},s),l=a.className||r.className;n.p=Object.assign({theme:Af&&Af()},a),n.o=/ *go\d+/.test(l),a.className=ld.apply(n,i)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Of&&c[0]&&Of(a),Lx(c,a)}return r}}var IP=t=>typeof t=="function",fu=(t,e)=>IP(t)?t(e):t,PP=(()=>{let t=0;return()=>(++t).toString()})(),Fx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),RP=20,Tc=new Map,MP=1e3,by=t=>{if(Tc.has(t))return;let e=setTimeout(()=>{Tc.delete(t),Zr({type:4,toastId:t})},MP);Tc.set(t,e)},DP=t=>{let e=Tc.get(t);e&&clearTimeout(e)},Nf=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,RP)};case 1:return e.toast.id&&DP(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?Nf(t,{type:1,toast:n}):Nf(t,{type:0,toast:n});case 3:let{toastId:i}=e;return i?by(i):t.toasts.forEach(s=>{by(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},Ic=[],Pc={toasts:[],pausedAt:void 0},Zr=t=>{Pc=Nf(Pc,t),Ic.forEach(e=>{e(Pc)})},AP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OP=(t={})=>{let[e,n]=T.useState(Pc);T.useEffect(()=>(Ic.push(n),()=>{let r=Ic.indexOf(n);r>-1&&Ic.splice(r,1)}),[e]);let i=e.toasts.map(r=>{var s,o;return{...t,...t[r.type],...r,duration:r.duration||((s=t[r.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||AP[r.type],style:{...t.style,...(o=t[r.type])==null?void 0:o.style,...r.style}}});return{...e,toasts:i}},NP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||PP()}),ul=t=>(e,n)=>{let i=NP(e,t,n);return Zr({type:2,toast:i}),i.id},jt=(t,e)=>ul("blank")(t,e);jt.error=ul("error");jt.success=ul("success");jt.loading=ul("loading");jt.custom=ul("custom");jt.dismiss=t=>{Zr({type:3,toastId:t})};jt.remove=t=>Zr({type:4,toastId:t});jt.promise=(t,e,n)=>{let i=jt.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(r=>(jt.success(fu(e.success,r),{id:i,...n,...n==null?void 0:n.success}),r)).catch(r=>{jt.error(fu(e.error,r),{id:i,...n,...n==null?void 0:n.error})}),t};var LP=(t,e)=>{Zr({type:1,toast:{id:t,height:e}})},FP=()=>{Zr({type:5,time:Date.now()})},zP=t=>{let{toasts:e,pausedAt:n}=OP(t);T.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&jt.dismiss(a.id);return}return setTimeout(()=>jt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let i=T.useCallback(()=>{n&&Zr({type:6,time:Date.now()})},[n]),r=T.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(f=>(f.position||c)===(s.position||c)&&f.height),d=u.findIndex(f=>f.id===s.id),h=u.filter((f,p)=>p<d&&f.visible).length;return u.filter(f=>f.visible).slice(...a?[h+1]:[0,h]).reduce((f,p)=>f+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:LP,startPause:FP,endPause:i,calculateOffset:r}}},UP=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BP=ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jP=ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WP=ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VP=ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HP=ar("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${VP} 1s linear infinite;
`,$P=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KP=ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,YP=ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$P} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GP=ar("div")`
  position: absolute;
`,qP=ar("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QP=ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XP=ar("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,JP=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?T.createElement(XP,null,e):e:n==="blank"?null:T.createElement(qP,null,T.createElement(HP,{...i}),n!=="loading"&&T.createElement(GP,null,n==="error"?T.createElement(WP,{...i}):T.createElement(YP,{...i})))},ZP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,tR="0%{opacity:0;} 100%{opacity:1;}",nR="0%{opacity:1;} 100%{opacity:0;}",iR=ar("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rR=ar("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sR=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=Fx()?[tR,nR]:[ZP(n),eR(n)];return{animation:e?`${ri(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ri(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oR=T.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?sR(t.position||e||"top-center",t.visible):{opacity:0},s=T.createElement(JP,{toast:t}),o=T.createElement(rR,{...t.ariaProps},fu(t.message,t));return T.createElement(iR,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:s,message:o}):T.createElement(T.Fragment,null,s,o))});TP(T.createElement);var aR=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let s=T.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;i(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return T.createElement("div",{ref:s,className:e,style:n},r)},lR=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},cR=ld`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xl=16,uR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=zP(n);return T.createElement("div",{style:{position:"fixed",zIndex:9999,top:Xl,left:Xl,right:Xl,bottom:Xl,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:i,defaultPosition:e}),h=lR(u,d);return T.createElement(aR,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?cR:"",style:h},c.type==="custom"?fu(c.message,c):r?r(c):T.createElement(oR,{toast:c,position:u}))}))},To=jt,xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw io(e)},io=function(t){return new Error("Firebase Database ("+zx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},dR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ux(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new hR;const h=s<<2|a>>4;if(i.push(h),c!==64){const f=a<<4&240|c>>2;if(i.push(f),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bx=function(t){const e=Ux(t);return Sg.encodeByteArray(e,!0)},pu=function(t){return Bx(t).replace(/\./g,"")},gu=function(t){try{return Sg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){return jx(void 0,t)}function jx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!pR(n)||(t[n]=jx(t[n],e[n]));return t}function pR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>gR().__FIREBASE_DEFAULTS__,_R=()=>{if(typeof process>"u"||typeof xy>"u")return;const t=xy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gu(t[1]);return e&&JSON.parse(e)},Eg=()=>{try{return mR()||_R()||yR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wx=t=>{var e,n;return(n=(e=Eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vR=t=>{const e=Wx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Vx=()=>{var t;return(t=Eg())===null||t===void 0?void 0:t.config},Hx=t=>{var e;return(e=Eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pu(JSON.stringify(n)),pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function bR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kx(){return zx.NODE_ADMIN===!0}function SR(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class lr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=CR,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?kR(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new lr(r,a,i)}}function kR(t,e){return t.replace(TR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const TR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){return JSON.parse(t)}function Ye(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=La(gu(s[0])||""),n=La(gu(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},IR=function(t){const e=Yx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PR=function(t){const e=Yx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ys(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mu(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function _u(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Sy(s)&&Sy(o)){if(!_u(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Sy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Wo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function MR(t,e){const n=new DR(t,e);return n.subscribe.bind(n)}class DR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=oh),r.error===void 0&&(r.error=oh),r.complete===void 0&&(r.complete=oh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oh(){}function cd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,O(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ud=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Cg;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LR(t){return t===wr?void 0:t}function FR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const UR={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},BR=ye.INFO,jR={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},WR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=jR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const VR=(t,e)=>e.some(n=>t instanceof n);let Ey,Cy;function HR(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gx=new WeakMap,Ff=new WeakMap,qx=new WeakMap,ah=new WeakMap,Ig=new WeakMap;function KR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gx.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function YR(t){if(Ff.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ff.set(t,e)}let zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ff.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GR(t){zf=t(zf)}function qR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(lh(this),e,...n);return qx.set(i,e.sort?e.sort():[e]),Wi(i)}:$R().includes(t)?function(...e){return t.apply(lh(this),e),Wi(Gx.get(this))}:function(...e){return Wi(t.apply(lh(this),e))}}function QR(t){return typeof t=="function"?qR(t):(t instanceof IDBTransaction&&YR(t),VR(t,HR())?new Proxy(t,zf):t)}function Wi(t){if(t instanceof IDBRequest)return KR(t);if(ah.has(t))return ah.get(t);const e=QR(t);return e!==t&&(ah.set(t,e),Ig.set(e,t)),e}const lh=t=>Ig.get(t);function XR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],ch=new Map;function ky(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=ZR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||JR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ch.set(e,s),s}GR(t=>({...t,get:(e,n,i)=>ky(e,n)||t.get(e,n,i),has:(e,n)=>!!ky(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function tM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",Ty="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Tg("@firebase/app"),nM="@firebase/app-compat",iM="@firebase/analytics-compat",rM="@firebase/analytics",sM="@firebase/app-check-compat",oM="@firebase/app-check",aM="@firebase/auth",lM="@firebase/auth-compat",cM="@firebase/database",uM="@firebase/database-compat",dM="@firebase/functions",hM="@firebase/functions-compat",fM="@firebase/installations",pM="@firebase/installations-compat",gM="@firebase/messaging",mM="@firebase/messaging-compat",_M="@firebase/performance",yM="@firebase/performance-compat",vM="@firebase/remote-config",wM="@firebase/remote-config-compat",bM="@firebase/storage",xM="@firebase/storage-compat",SM="@firebase/firestore",EM="@firebase/vertexai-preview",CM="@firebase/firestore-compat",kM="firebase",TM="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",IM={[Uf]:"fire-core",[nM]:"fire-core-compat",[rM]:"fire-analytics",[iM]:"fire-analytics-compat",[oM]:"fire-app-check",[sM]:"fire-app-check-compat",[aM]:"fire-auth",[lM]:"fire-auth-compat",[cM]:"fire-rtdb",[uM]:"fire-rtdb-compat",[dM]:"fire-fn",[hM]:"fire-fn-compat",[fM]:"fire-iid",[pM]:"fire-iid-compat",[gM]:"fire-fcm",[mM]:"fire-fcm-compat",[_M]:"fire-perf",[yM]:"fire-perf-compat",[vM]:"fire-rc",[wM]:"fire-rc-compat",[bM]:"fire-gcs",[xM]:"fire-gcs-compat",[SM]:"fire-fst",[CM]:"fire-fst-compat",[EM]:"fire-vertex","fire-js":"fire-js",[kM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,PM=new Map,jf=new Map;function Iy(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(jf.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,t);for(const n of yu.values())Iy(n,t);for(const n of PM.values())Iy(n,t);return!0}function Pg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new dl("app","Firebase",RM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=TM;function Qx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Vi.create("bad-app-name",{appName:String(r)});if(n||(n=Vx()),!n)throw Vi.create("no-options");const s=yu.get(r);if(s){if(_u(n,s.options)&&_u(i,s.config))return s;throw Vi.create("duplicate-app",{appName:r})}const o=new zR(r);for(const l of jf.values())o.addComponent(l);const a=new MM(n,i,o);return yu.set(r,a),a}function Xx(t=Bf){const e=yu.get(t);if(!e&&t===Bf&&Vx())return Qx();if(!e)throw Vi.create("no-app",{appName:t});return e}function Hi(t,e,n){var i;let r=(i=IM[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}Gs(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-heartbeat-database",AM=1,Fa="firebase-heartbeat-store";let uh=null;function Jx(){return uh||(uh=XR(DM,AM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),uh}async function OM(t){try{const n=(await Jx()).transaction(Fa),i=await n.objectStore(Fa).get(Zx(t));return await n.done,i}catch(e){if(e instanceof lr)Wr.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function Py(t,e){try{const i=(await Jx()).transaction(Fa,"readwrite");await i.objectStore(Fa).put(e,Zx(t)),await i.done}catch(n){if(n instanceof lr)Wr.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(i.message)}}}function Zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=1024,LM=30*24*60*60*1e3;class FM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ry();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=LM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ry(),{heartbeatsToSend:i,unsentEntries:r}=zM(this._heartbeatsCache.heartbeats),s=pu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ry(){return new Date().toISOString().substring(0,10)}function zM(t,e=NM){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),My(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),My(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class UM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SR()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function My(t){return pu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){Gs(new jr("platform-logger",e=>new eM(e),"PRIVATE")),Gs(new jr("heartbeat",e=>new FM(e),"PRIVATE")),Hi(Uf,Ty,t),Hi(Uf,Ty,"esm2017"),Hi("fire-js","")}BM("");var jM="firebase",WM="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(jM,WM,"app");var Dy={};const Ay="@firebase/database",Oy="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS="";function VM(t){eS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ye(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:La(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return An(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HM(e)}}catch{}return new $M},Pr=tS("localStorage"),KM=tS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Tg("@firebase/database"),YM=function(){let t=1;return function(){return t++}}(),nS=function(t){const e=OR(t),n=new RR;n.update(e);const i=n.digest();return Sg.encodeByteArray(i)},hl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=hl.apply(null,i):typeof i=="object"?e+=Ye(i):e+=i,e+=" "}return e};let sa=null,Ny=!0;const GM=function(t,e){O(!e,"Can't turn on custom loggers persistently."),As.logLevel=ye.VERBOSE,sa=As.log.bind(As)},gt=function(...t){if(Ny===!0&&(Ny=!1,sa===null&&KM.get("logging_enabled")===!0&&GM()),sa){const e=hl.apply(null,t);sa(e)}},fl=function(t){return function(...e){gt(t,...e)}},Wf=function(...t){const e="FIREBASE INTERNAL ERROR: "+hl(...t);As.error(e)},si=function(...t){const e=`FIREBASE FATAL ERROR: ${hl(...t)}`;throw As.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+hl(...t);As.warn(e)},qM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vr="[MIN_NAME]",oi="[MAX_NAME]",oo=function(t,e){if(t===e)return 0;if(t===Vr||e===oi)return-1;if(e===Vr||t===oi)return 1;{const n=Ly(t),i=Ly(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},XM=function(t,e){return t===e?0:t<e?-1:1},Io=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ye(e))},Mg=function(t){if(typeof t!="object"||t===null)return Ye(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ye(e[i]),n+=":",n+=Mg(t[e[i]]);return n+="}",n},iS=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rS=function(t){O(!Rg(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},JM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const tD=new RegExp("^-?(0*)\\d{1,10}$"),nD=-2147483648,iD=2147483647,Ly=function(t){if(tD.test(t)){const e=Number(t);if(e>=nD&&e<=iD)return e}return null},pl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},rD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},oa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class Rc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Rc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="5",sS="v",oS="s",aS="r",lS="f",cS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uS="ls",dS="p",Vf="ac",hS="websocket",fS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function aD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gS(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let i;if(e===hS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aD(t)&&(n.ns=t.namespace);const r=[];return Nt(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.counters_={}}incrementCounter(e,n=1){An(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return fR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={},hh={};function Ag(t){const e=t.toString();return dh[e]||(dh[e]=new lD),dh[e]}function cD(t,e){const n=t.toString();return hh[n]||(hh[n]=e()),hh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&pl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="start",dD="close",hD="pLPCommand",fD="pRTLPCB",mS="id",_S="pw",yS="ser",pD="cb",gD="seg",mD="ts",_D="d",yD="dframe",vS=1870,wS=30,vD=vS-wS,wD=25e3,bD=3e4;class Es{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fl(e),this.stats_=Ag(n),this.urlFn=l=>(this.appCheckToken&&(l[Vf]=this.appCheckToken),gS(n,fS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new uD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bD)),QM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Og((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Fy)this.id=a,this.password=l;else if(o===dD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Fy]="t",i[yS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[pD]=this.scriptTagHolder.uniqueCallbackIdentifier),i[sS]=Dg,this.transportSessionId&&(i[oS]=this.transportSessionId),this.lastSessionId&&(i[uS]=this.lastSessionId),this.applicationId&&(i[dS]=this.applicationId),this.appCheckToken&&(i[Vf]=this.appCheckToken),typeof location<"u"&&location.hostname&&cS.test(location.hostname)&&(i[aS]=lS);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Es.forceAllow_=!0}static forceDisallow(){Es.forceDisallow_=!0}static isAvailable(){return Es.forceAllow_?!0:!Es.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JM()&&!ZM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ye(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Bx(n),r=iS(i,vD);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[yD]="t",i[mS]=e,i[_S]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ye(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Og{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YM(),window[hD+this.uniqueCallbackIdentifier]=e,window[fD+this.uniqueCallbackIdentifier]=n,this.myIFrame=Og.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){gt("frame writing exception"),a.stack&&gt(a.stack),gt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mS]=this.myID,e[_S]=this.myPW,e[yS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wS+i.length<=vS;){const o=this.pendingSegs.shift();i=i+"&"+gD+r+"="+o.seg+"&"+mD+r+"="+o.ts+"&"+_D+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(wD)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=16384,SD=45e3;let vu=null;typeof MozWebSocket<"u"?vu=MozWebSocket:typeof WebSocket<"u"&&(vu=WebSocket);class un{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fl(this.connId),this.stats_=Ag(n),this.connURL=un.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[sS]=Dg,typeof location<"u"&&location.hostname&&cS.test(location.hostname)&&(o[aS]=lS),n&&(o[oS]=n),i&&(o[uS]=i),r&&(o[Vf]=r),s&&(o[dS]=s),gS(e,hS,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pr.set("previous_websocket_failure",!0);try{let i;Kx(),this.mySock=new vu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&vu!==null&&!un.forceDisallow_}static previouslyFailed(){return Pr.isInMemoryStorage||Pr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=La(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ye(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=iS(n,xD);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Es,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=un&&un.isAvailable();let i=n&&!un.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[un];else{const r=this.transports_=[];for(const s of za.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);za.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}za.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=6e4,CD=5e3,kD=10*1024,TD=100*1024,fh="t",zy="d",ID="s",Uy="r",PD="e",By="o",jy="a",Wy="n",Vy="p",RD="h";class MD{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fl("c:"+this.id+":"),this.transportManager_=new za(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=oa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fh in e){const n=e[fh];n===jy?this.upgradeIfSecondaryHealthy_():n===Uy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===By&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Io("t",e),i=Io("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Vy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Io("t",e),i=Io("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Io(fh,e);if(zy in e){const i=e[zy];if(n===RD){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Wy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ID?this.onConnectionShutdown_(i):n===Uy?this.onReset_(i):n===PD?Wf("Server Error: "+i):n===By?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Dg!==i&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),oa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ED))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Vy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends xS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wu}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=32,$y=768;class ve{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new ve("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xi(t){return t.pieces_.length-t.pieceNum_}function be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ve(t.pieces_,e)}function SS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function DD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ES(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function CS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ve(e,0)}function Ge(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ve)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ve(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function xt(t,e){const n=oe(t),i=oe(e);if(n===null)return e;if(n===i)return xt(be(t),be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function kS(t,e){if(Xi(t)!==Xi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function dn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Xi(t)>Xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class AD{constructor(e,n){this.errorPrefix_=n,this.parts_=ES(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ud(this.parts_[i]);TS(this)}}function OD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ud(e),TS(t)}function ND(t){const e=t.parts_.pop();t.byteLength_-=ud(e),t.parts_.length>0&&(t.byteLength_-=1)}function TS(t){if(t.byteLength_>$y)throw new Error(t.errorPrefix_+"has a key path longer than "+$y+" bytes ("+t.byteLength_+").");if(t.parts_.length>Hy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hy+") or object contains a cycle "+br(t))}function br(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends xS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ng}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=1e3,LD=60*5*1e3,Ky=30*1e3,FD=1.3,zD=3e4,UD="server_kill",Yy=3;class Jn extends bS{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Jn.nextPersistentConnectionId_++,this.log_=fl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Po,this.maxReconnectDelay_=LD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Kx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ng.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Ye(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Cg,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Jn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&An(e,"w")){const i=Ys(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ky)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=IR(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ye(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Wf("Unrecognized action received from server: "+Ye(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zD&&(this.reconnectDelay_=Po),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Jn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new MD(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Vt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(UD)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Vt(d),l())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lf(this.interruptReasons_)&&(this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>Mg(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new ve(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yy&&(this.reconnectDelay_=Ky,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+eS.replace(/\./g,"-")]=1,kg()?e["framework.cordova"]=1:$x()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wu.getInstance().currentlyOnline();return Lf(this.interruptReasons_)&&e}}Jn.nextPersistentConnectionId_=0;Jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ne(Vr,e),r=new ne(Vr,n);return this.compare(i,r)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl;class IS extends dd{static get __EMPTY_NODE(){return Jl}static set __EMPTY_NODE(e){Jl=e}compare(e,n){return oo(e.name,n.name)}isDefinedOn(e){throw io("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(oi,Jl)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,Jl)}toString(){return".key"}}const $i=new IS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??et.RED,this.left=r??Mt.EMPTY_NODE,this.right=s??Mt.EMPTY_NODE}copy(e,n,i,r,s){return new et(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class BD{copy(e,n,i,r,s){return this}insert(e,n,i){return new et(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,n=Mt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zl(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new BD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){return oo(t.name,e.name)}function Lg(t,e){return oo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;function WD(t){Hf=t}const PS=function(t){return typeof t=="number"?"number:"+rS(t):"string:"+t},RS=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&An(e,".sv"),"Priority must be a string or number.")}else O(t===Hf||t.isEmpty(),"priority of unexpected type.");O(t===Hf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy;class Je{constructor(e,n=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RS(this.priorityNode_)}static set __childrenNodeConstructor(e){Gy=e}static get __childrenNodeConstructor(){return Gy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:oe(e)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=oe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(O(i!==".priority"||Xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rS(this.value_):e+=this.value_,this.lazyHash_=nS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Je.VALUE_TYPE_ORDER.indexOf(n),s=Je.VALUE_TYPE_ORDER.indexOf(i);return O(r>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MS,DS;function VD(t){MS=t}function HD(t){DS=t}class $D extends dd{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?oo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(oi,new Je("[PRIORITY-POST]",DS))}makePost(e,n){const i=MS(e);return new ne(n,new Je("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ne=new $D;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=Math.log(2);class YD{constructor(e){const n=s=>parseInt(Math.log(s)/KD,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bu=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new et(h,d.node,et.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=t[f],h=n?n(d):d,new et(h,d.node,et.BLACK,p,g)}},s=function(l){let c=null,u=null,d=t.length;const h=function(p,g){const y=d-p,m=d;d-=p;const _=r(y+1,m),v=t[y],b=n?n(v):v;f(new et(b,v.node,g,null,_))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,et.BLACK):(h(y,et.BLACK),h(y,et.RED))}return u},o=new YD(t.length),a=s(o);return new Mt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph;const ls={};class Vn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(ls&&Ne,"ChildrenNode.ts has not been loaded"),ph=ph||new Vn({".priority":ls},{".priority":Ne}),ph}get(e){const n=Ys(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mt?n:null}hasIndex(e){return An(this.indexSet_,e.toString())}addIndex(e,n){O(e!==$i,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(ne.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=bu(i,e.getCompare()):a=ls;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Vn(u,c)}addToIndexes(e,n){const i=mu(this.indexes_,(r,s)=>{const o=Ys(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),r===ls)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ne.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),bu(a,o.getCompare())}else return ls;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new ne(e.name,a))),l.insert(e,e.node)}});return new Vn(i,this.indexSet_)}removeFromIndexes(e,n){const i=mu(this.indexes_,r=>{if(r===ls)return r;{const s=n.get(e.name);return s?r.remove(new ne(e.name,s)):r}});return new Vn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class ${constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&RS(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ro||(Ro=new $(new Mt(Lg),null,Vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ro}updatePriority(e){return this.children_.isEmpty()?this:new $(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ro:n}}getChild(e){const n=oe(e);return n===null?this:this.getImmediateChild(n).getChild(be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ne(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Ro:this.priorityNode_;return new $(r,o,s)}}updateChild(e,n){const i=oe(e);if(i===null)return n;{O(oe(e)!==".priority"||Xi(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(be(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Ne,(o,a)=>{n[o]=a.val(e),i++,s&&$.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+PS(this.getPriority().val())+":"),this.forEachChild(Ne,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":nS(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new ne(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ne.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gl?-1:0}withIndex(e){if(e===$i||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$i||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ne),r=n.getIterator(Ne);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===$i?null:this.indexMap_.get(e.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GD extends ${constructor(){super(new Mt(Lg),$.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}}const gl=new GD;Object.defineProperties(ne,{MIN:{value:new ne(Vr,$.EMPTY_NODE)},MAX:{value:new ne(oi,gl)}});IS.__EMPTY_NODE=$.EMPTY_NODE;Je.__childrenNodeConstructor=$;WD(gl);HD(gl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=!0;function lt(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Je(n,lt(e))}if(!(t instanceof Array)&&qD){const n=[];let i=!1;if(Nt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=lt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ne(o,l)))}}),n.length===0)return $.EMPTY_NODE;const s=bu(n,jD,o=>o.name,Lg);if(i){const o=bu(n,Ne.getCompare());return new $(s,lt(e),new Vn({".priority":o},{".priority":Ne}))}else return new $(s,lt(e),Vn.Default)}else{let n=$.EMPTY_NODE;return Nt(t,(i,r)=>{if(An(t,i)&&i.substring(0,1)!=="."){const s=lt(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(lt(e))}}VD(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends dd{constructor(e){super(),this.indexPath_=e,O(!te(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?oo(e.name,n.name):s}makePost(e,n){const i=lt(e),r=$.EMPTY_NODE.updateChild(this.indexPath_,i);return new ne(n,r)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,gl);return new ne(oi,e)}toString(){return ES(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends dd{compare(e,n){const i=e.node.compareTo(n.node);return i===0?oo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const i=lt(e);return new ne(n,i)}toString(){return".value"}}const AS=new QD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){return{type:"value",snapshotNode:t}}function qs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ua(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ba(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function XD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Ua(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qs(n,i)):o.trackChildChange(Ba(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ne,(r,s)=>{n.hasChild(r)||i.trackChildChange(Ua(r,s))}),n.isLeafNode()||n.forEachChild(Ne,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Ba(r,s,o))}else i.trackChildChange(qs(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.indexedFilter_=new zg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ja.getStartPost_(e),this.endPost_=ja.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new ne(n,i))||(i=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=$.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority($.EMPTY_NODE);const s=this;return n.forEachChild(Ne,(o,a)=>{s.matches(new ne(o,a))||(r=r.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ja(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new ne(n,i))||(i=$.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new ne(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Ba(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Ua(n,d));const g=a.updateImmediateChild(n,$.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(qs(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Ua(c.name,c.node)),s.trackChildChange(qs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const e=new Ug;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ZD(t){return t.loadsAllData()?new zg(t.getIndex()):t.hasLimit()?new JD(t):new ja(t)}function qy(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function eA(t,e,n){let i;return t.index_===$i||n?i=qy(t,e,n):i=qy(t,e,oi),i.startAfterSet_=!0,i}function tA(t,e){const n=t.copy();return n.index_=e,n}function Qy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===AS?n="$value":t.index_===$i?n="$key":(O(t.index_ instanceof Fg,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ye(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ye(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ye(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ye(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ye(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends bS{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=fl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=xu.getListenId_(e,i),a={};this.listens_[o]=a;const l=Qy(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),Ys(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=xu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Qy(e._queryParams),i=e._path.toString(),r=new Cg;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ro(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=La(a.responseText)}catch{Vt("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Vt("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return{value:null,children:new Map}}function NS(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=oe(e);t.children.has(i)||t.children.set(i,Su());const r=t.children.get(i);e=be(e),NS(r,e,n)}}function $f(t,e,n){t.value!==null?n(e,t.value):iA(t,(i,r)=>{const s=new ve(e.toString()+"/"+i);$f(r,s,n)})}function iA(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Nt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=10*1e3,sA=30*1e3,oA=5*60*1e3;class aA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rA(e);const i=Jy+(sA-Jy)*Math.random();oa(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Nt(e,(r,s)=>{s>0&&An(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),oa(this.reportStats_.bind(this),Math.floor(Math.random()*2*oA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(hn||(hn={}));function LS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=hn.ACK_USER_WRITE,this.source=LS()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ve(e));return new Eu(he(),n,this.revert)}}else return O(oe(this.path)===e,"operationForChild called for unrelated child."),new Eu(be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.source=e,this.path=n,this.type=hn.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new Wa(this.source,he()):new Wa(this.source,be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=hn.OVERWRITE}operationForChild(e){return te(this.path)?new Hr(this.source,he(),this.snap.getImmediateChild(e)):new Hr(this.source,be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=hn.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new ve(e));return n.isEmpty()?null:n.value?new Hr(this.source,he(),n.value):new Va(this.source,he(),n)}else return O(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Va(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cA(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(XD(o.childName,o.snapshotNode))}),Mo(t,r,"child_removed",e,i,n),Mo(t,r,"child_added",e,i,n),Mo(t,r,"child_moved",s,i,n),Mo(t,r,"child_changed",e,i,n),Mo(t,r,"value",e,i,n),r}function Mo(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>dA(t,a,l)),o.forEach(a=>{const l=uA(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function uA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dA(t,e,n){if(e.childName==null||n.childName==null)throw io("Should only compare child_ events.");const i=new ne(e.childName,e.snapshotNode),r=new ne(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e){return{eventCache:t,serverCache:e}}function aa(t,e,n,i){return hd(new Ji(e,n,i),t.serverCache)}function FS(t,e,n,i){return hd(t.eventCache,new Ji(e,n,i))}function Cu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $r(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;const hA=()=>(gh||(gh=new Mt(XM)),gh);class Ee{constructor(e,n=hA()){this.value=e,this.children=n}static fromObject(e){let n=new Ee(null);return Nt(e,(i,r)=>{n=n.set(new ve(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(te(e))return null;{const i=oe(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(be(e),n);return s!=null?{path:Ge(new ve(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=oe(e),i=this.children.get(n);return i!==null?i.subtree(be(e)):new Ee(null)}}set(e,n){if(te(e))return new Ee(n,this.children);{const i=oe(e),s=(this.children.get(i)||new Ee(null)).set(be(e),n),o=this.children.insert(i,s);return new Ee(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const n=oe(e),i=this.children.get(n);if(i){const r=i.remove(be(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Ee(null):new Ee(this.value,s)}else return this}}get(e){if(te(e))return this.value;{const n=oe(e),i=this.children.get(n);return i?i.get(be(e)):null}}setTree(e,n){if(te(e))return n;{const i=oe(e),s=(this.children.get(i)||new Ee(null)).setTree(be(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Ee(this.value,o)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ge(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(te(e))return null;{const s=oe(e),o=this.children.get(s);return o?o.findOnPath_(be(e),Ge(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,i){if(te(e))return this;{this.value&&i(n,this.value);const r=oe(e),s=this.children.get(r);return s?s.foreachOnPath_(be(e),Ge(n,r),i):new Ee(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ge(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.writeTree_=e}static empty(){return new mn(new Ee(null))}}function la(t,e,n){if(te(e))return new mn(new Ee(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=xt(r,e);return s=s.updateChild(o,n),new mn(t.writeTree_.set(r,s))}else{const r=new Ee(n),s=t.writeTree_.setTree(e,r);return new mn(s)}}}function Zy(t,e,n){let i=t;return Nt(n,(r,s)=>{i=la(i,Ge(e,r),s)}),i}function ev(t,e){if(te(e))return mn.empty();{const n=t.writeTree_.setTree(e,new Ee(null));return new mn(n)}}function Kf(t,e){return es(t,e)!=null}function es(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xt(n.path,e)):null}function tv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(i,r)=>{e.push(new ne(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ne(i,r.value))}),e}function Ki(t,e){if(te(e))return t;{const n=es(t,e);return n!=null?new mn(new Ee(n)):new mn(t.writeTree_.subtree(e))}}function Yf(t){return t.writeTree_.isEmpty()}function Qs(t,e){return zS(he(),t.writeTree_,e)}function zS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=zS(Ge(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ge(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e){return WS(e,t)}function fA(t,e,n,i,r){O(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=la(t.visibleWrites,e,n)),t.lastWriteId=i}function pA(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function gA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&mA(a,i.path)?r=!1:dn(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return _A(t),!0;if(i.snap)t.visibleWrites=ev(t.visibleWrites,i.path);else{const a=i.children;Nt(a,l=>{t.visibleWrites=ev(t.visibleWrites,Ge(i.path,l))})}return!0}else return!1}function mA(t,e){if(t.snap)return dn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&dn(Ge(t.path,n),e))return!0;return!1}function _A(t){t.visibleWrites=US(t.allWrites,yA,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yA(t){return t.visible}function US(t,e,n){let i=mn.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)dn(n,o)?(a=xt(n,o),i=la(i,a,s.snap)):dn(o,n)&&(a=xt(o,n),i=la(i,he(),s.snap.getChild(a)));else if(s.children){if(dn(n,o))a=xt(n,o),i=Zy(i,a,s.children);else if(dn(o,n))if(a=xt(o,n),te(a))i=Zy(i,he(),s.children);else{const l=Ys(s.children,oe(a));if(l){const c=l.getChild(be(a));i=la(i,he(),c)}}}else throw io("WriteRecord should have .snap or .children")}}return i}function BS(t,e,n,i,r){if(!i&&!r){const s=es(t.visibleWrites,e);if(s!=null)return s;{const o=Ki(t.visibleWrites,e);if(Yf(o))return n;if(n==null&&!Kf(o,he()))return null;{const a=n||$.EMPTY_NODE;return Qs(o,a)}}}else{const s=Ki(t.visibleWrites,e);if(!r&&Yf(s))return n;if(!r&&n==null&&!Kf(s,he()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(dn(c.path,e)||dn(e,c.path))},a=US(t.allWrites,o,e),l=n||$.EMPTY_NODE;return Qs(a,l)}}}function vA(t,e,n){let i=$.EMPTY_NODE;const r=es(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ne,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Ki(t.visibleWrites,e);return n.forEachChild(Ne,(o,a)=>{const l=Qs(Ki(s,new ve(o)),a);i=i.updateImmediateChild(o,l)}),tv(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Ki(t.visibleWrites,e);return tv(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function wA(t,e,n,i,r){O(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ge(e,n);if(Kf(t.visibleWrites,s))return null;{const o=Ki(t.visibleWrites,s);return Yf(o)?r.getChild(n):Qs(o,r.getChild(n))}}function bA(t,e,n,i){const r=Ge(e,n),s=es(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Ki(t.visibleWrites,r);return Qs(o,i.getNode().getImmediateChild(n))}else return null}function xA(t,e){return es(t.visibleWrites,e)}function SA(t,e,n,i,r,s,o){let a;const l=Ki(t.visibleWrites,e),c=es(l,he());if(c!=null)a=c;else if(n!=null)a=Qs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function EA(){return{visibleWrites:mn.empty(),allWrites:[],lastWriteId:-1}}function ku(t,e,n,i){return BS(t.writeTree,t.treePath,e,n,i)}function Wg(t,e){return vA(t.writeTree,t.treePath,e)}function nv(t,e,n,i){return wA(t.writeTree,t.treePath,e,n,i)}function Tu(t,e){return xA(t.writeTree,Ge(t.treePath,e))}function CA(t,e,n,i,r,s){return SA(t.writeTree,t.treePath,e,n,i,r,s)}function Vg(t,e,n){return bA(t.writeTree,t.treePath,e,n)}function jS(t,e){return WS(Ge(t.treePath,e),t.writeTree)}function WS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Ba(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Ua(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,qs(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Ba(i,e.snapshotNode,r.oldSnap));else throw io("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const VS=new TA;class Hg{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vg(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$r(this.viewCache_),s=CA(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){return{filter:t}}function PA(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RA(t,e,n,i,r){const s=new kA;let o,a;if(n.type===hn.OVERWRITE){const c=n;c.source.fromUser?o=Gf(t,e,c.path,c.snap,i,r,s):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),o=Iu(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===hn.MERGE){const c=n;c.source.fromUser?o=DA(t,e,c.path,c.children,i,r,s):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=qf(t,e,c.path,c.children,i,r,a,s))}else if(n.type===hn.ACK_USER_WRITE){const c=n;c.revert?o=NA(t,e,c.path,i,r,s):o=AA(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===hn.LISTEN_COMPLETE)o=OA(t,e,n.path,i,s);else throw io("Unknown operation type: "+n.type);const l=s.getChanges();return MA(e,o,l),{viewCache:o,changes:l}}function MA(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Cu(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(OS(Cu(e)))}}function HS(t,e,n,i,r,s){const o=e.eventCache;if(Tu(i,n)!=null)return e;{let a,l;if(te(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=$r(e),u=c instanceof $?c:$.EMPTY_NODE,d=Wg(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=ku(i,$r(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=oe(n);if(c===".priority"){O(Xi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=nv(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=be(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=nv(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Vg(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return aa(e,a,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Iu(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(te(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=oe(n);if(!l.isCompleteForPath(n)&&Xi(n)>1)return e;const p=be(n),y=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),f,y,p,VS,null)}const d=FS(e,c,l.isFullyInitialized()||te(n),u.filtersNodes()),h=new Hg(r,d,s);return HS(t,d,n,r,h,a)}function Gf(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new Hg(r,e,s);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=aa(e,c,!0,t.filter.filtersNodes());else{const d=oe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=aa(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=be(n),f=a.getNode().getImmediateChild(d);let p;if(te(h))p=i;else{const g=u.getCompleteChild(d);g!=null?SS(h)===".priority"&&g.getChild(CS(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=$.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=aa(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function iv(t,e){return t.eventCache.isCompleteForChild(e)}function DA(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=Ge(n,l);iv(e,oe(u))&&(a=Gf(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=Ge(n,l);iv(e,oe(u))||(a=Gf(t,a,u,c,r,s,o))}),a}function rv(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function qf(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;te(n)?c=i:c=new Ee(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=rv(t,f,h);l=Iu(t,l,new ve(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=rv(t,p,h);l=Iu(t,l,new ve(d),g,r,s,o,a)}}),l}function AA(t,e,n,i,r,s,o){if(Tu(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Iu(t,e,n,l.getNode().getChild(n),r,s,a,o);if(te(n)){let c=new Ee(null);return l.getNode().forEachChild($i,(u,d)=>{c=c.set(new ve(u),d)}),qf(t,e,n,c,r,s,a,o)}else return e}else{let c=new Ee(null);return i.foreach((u,d)=>{const h=Ge(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),qf(t,e,n,c,r,s,a,o)}}function OA(t,e,n,i,r){const s=e.serverCache,o=FS(e,s.getNode(),s.isFullyInitialized()||te(n),s.isFiltered());return HS(t,o,n,i,VS,r)}function NA(t,e,n,i,r,s){let o;if(Tu(i,n)!=null)return e;{const a=new Hg(i,e,r),l=e.eventCache.getNode();let c;if(te(n)||oe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ku(i,$r(e));else{const d=e.serverCache.getNode();O(d instanceof $,"serverChildren would be complete if leaf node"),u=Wg(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=oe(n);let d=Vg(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,be(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,$.EMPTY_NODE,be(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ku(i,$r(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Tu(i,he())!=null,aa(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new zg(i.getIndex()),s=ZD(i);this.processor_=IA(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode($.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new Ji(l,o.isFullyInitialized(),r.filtersNodes()),d=new Ji(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=hd(d,u),this.eventGenerator_=new lA(this.query_)}get query(){return this.query_}}function FA(t){return t.viewCache_.serverCache.getNode()}function zA(t){return Cu(t.viewCache_)}function UA(t,e){const n=$r(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function sv(t){return t.eventRegistrations_.length===0}function BA(t,e){t.eventRegistrations_.push(e)}function ov(t,e,n){const i=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function av(t,e,n,i){e.type===hn.MERGE&&e.source.queryId!==null&&(O($r(t.viewCache_),"We should always have a full cache before handling merges"),O(Cu(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=RA(t.processor_,r,e,n,i);return PA(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,$S(t,s.changes,s.viewCache.eventCache.getNode(),null)}function jA(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(s,o)=>{i.push(qs(s,o))}),n.isFullyInitialized()&&i.push(OS(n.getNode())),$S(t,i,n.getNode(),e)}function $S(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return cA(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;class KS{constructor(){this.views=new Map}}function WA(t){O(!Pu,"__referenceConstructor has already been defined"),Pu=t}function VA(){return O(Pu,"Reference.ts has not been loaded"),Pu}function HA(t){return t.views.size===0}function $g(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return O(s!=null,"SyncTree gave us an op for an invalid query."),av(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(av(o,e,n,i));return s}}function YS(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ku(n,r?i:null),l=!1;a?l=!0:i instanceof $?(a=Wg(n,i),l=!1):(a=$.EMPTY_NODE,l=!1);const c=hd(new Ji(a,l,!1),new Ji(i,r,!1));return new LA(e,c)}return o}function $A(t,e,n,i,r,s){const o=YS(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),BA(o,n),jA(o,n)}function KA(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Zi(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(ov(c,n,i)),sv(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(ov(l,n,i)),sv(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Zi(t)&&s.push(new(VA())(e._repo,e._path)),{removed:s,events:o}}function GS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yi(t,e){let n=null;for(const i of t.views.values())n=n||UA(i,e);return n}function qS(t,e){if(e._queryParams.loadsAllData())return pd(t);{const i=e._queryIdentifier;return t.views.get(i)}}function QS(t,e){return qS(t,e)!=null}function Zi(t){return pd(t)!=null}function pd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;function YA(t){O(!Ru,"__referenceConstructor has already been defined"),Ru=t}function GA(){return O(Ru,"Reference.ts has not been loaded"),Ru}let qA=1;class lv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=EA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QA(t,e,n,i,r){return fA(t.pendingWriteTree_,e,n,i,r),r?_l(t,new Hr(LS(),e,n)):[]}function Cs(t,e,n=!1){const i=pA(t.pendingWriteTree_,e);if(gA(t.pendingWriteTree_,e)){let s=new Ee(null);return i.snap!=null?s=s.set(he(),!0):Nt(i.children,o=>{s=s.set(new ve(o),!0)}),_l(t,new Eu(i.path,s,n))}else return[]}function ml(t,e,n){return _l(t,new Hr(Bg(),e,n))}function XA(t,e,n){const i=Ee.fromObject(n);return _l(t,new Va(Bg(),e,i))}function JA(t,e){return _l(t,new Wa(Bg(),e))}function ZA(t,e,n){const i=Kg(t,n);if(i){const r=Yg(i),s=r.path,o=r.queryId,a=xt(s,e),l=new Wa(jg(o),a);return Gg(t,s,l)}else return[]}function XS(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||QS(o,e))){const l=KA(o,e,n,i);HA(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Zi(f));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=iO(h);for(let p=0;p<f.length;++p){const g=f[p],y=g.query,m=nE(t,g);t.listenProvider_.startListening(ca(y),Ha(t,y),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(ca(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(gd(h));t.listenProvider_.stopListening(ca(h),f)}))}rO(t,c)}return a}function JS(t,e,n,i){const r=Kg(t,i);if(r!=null){const s=Yg(r),o=s.path,a=s.queryId,l=xt(o,e),c=new Hr(jg(a),l,n);return Gg(t,o,c)}else return[]}function eO(t,e,n,i){const r=Kg(t,i);if(r){const s=Yg(r),o=s.path,a=s.queryId,l=xt(o,e),c=Ee.fromObject(n),u=new Va(jg(a),l,c);return Gg(t,o,u)}else return[]}function tO(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{const p=xt(h,r);s=s||Yi(f,p),o=o||Zi(f)});let a=t.syncPointTree_.get(r);a?(o=o||Zi(a),s=s||Yi(a,he())):(a=new KS,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=$.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{const g=Yi(p,he());g&&(s=s.updateImmediateChild(f,g))}));const c=QS(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=gd(e);O(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=sO();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=fd(t.pendingWriteTree_,r);let d=$A(a,e,n,u,s,l);if(!c&&!o&&!i){const h=qS(a,e);d=d.concat(oO(t,e,h))}return d}function ZS(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=xt(o,e),c=Yi(a,l);if(c)return c});return BS(r,e,s,n,!0)}function nO(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=xt(c,n);i=i||Yi(u,d)});let r=t.syncPointTree_.get(n);r?i=i||Yi(r,he()):(r=new KS,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Ji(i,!0,!1):null,a=fd(t.pendingWriteTree_,e._path),l=YS(r,e,a,s?o.getNode():$.EMPTY_NODE,s);return zA(l)}function _l(t,e){return eE(e,t.syncPointTree_,null,fd(t.pendingWriteTree_,he()))}function eE(t,e,n,i){if(te(t.path))return tE(t,e,n,i);{const r=e.get(he());n==null&&r!=null&&(n=Yi(r,he()));let s=[];const o=oe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=jS(i,o);s=s.concat(eE(a,l,c,u))}return r&&(s=s.concat($g(r,t,i,n))),s}}function tE(t,e,n,i){const r=e.get(he());n==null&&r!=null&&(n=Yi(r,he()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=jS(i,o),u=t.operationForChild(o);u&&(s=s.concat(tE(u,a,l,c)))}),r&&(s=s.concat($g(r,t,i,n))),s}function nE(t,e){const n=e.query,i=Ha(t,n);return{hashFn:()=>(FA(e)||$.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?ZA(t,n._path,i):JA(t,n._path);{const s=eD(r,n);return XS(t,n,null,s)}}}}function Ha(t,e){const n=gd(e);return t.queryToTagMap.get(n)}function gd(t){return t._path.toString()+"$"+t._queryIdentifier}function Kg(t,e){return t.tagToQueryMap.get(e)}function Yg(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ve(t.substr(0,e))}}function Gg(t,e,n){const i=t.syncPointTree_.get(e);O(i,"Missing sync point for query tag that we're tracking");const r=fd(t.pendingWriteTree_,e);return $g(i,n,r,null)}function iO(t){return t.fold((e,n,i)=>{if(n&&Zi(n))return[pd(n)];{let r=[];return n&&(r=GS(n)),Nt(i,(s,o)=>{r=r.concat(o)}),r}})}function ca(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(GA())(t._repo,t._path):t}function rO(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=gd(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function sO(){return qA++}function oO(t,e,n){const i=e._path,r=Ha(t,e),s=nE(t,n),o=t.listenProvider_.startListening(ca(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)O(!Zi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!te(c)&&u&&Zi(u))return[pd(u).query];{let h=[];return u&&(h=h.concat(GS(u).map(f=>f.query))),Nt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ca(u),Ha(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new qg(n)}node(){return this.node_}}class Qg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ge(this.path_,e);return new Qg(this.syncTree_,n)}node(){return ZS(this.syncTree_,this.path_)}}const aO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cv=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return cO(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},cO=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&O(!1,"Unexpected increment value: "+i);const r=e.node();if(O(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},uO=function(t,e,n,i){return Xg(e,new Qg(n,t),i)},dO=function(t,e,n){return Xg(t,new qg(e),n)};function Xg(t,e,n){const i=t.getPriority().val(),r=cv(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=cv(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Je(a,lt(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Je(r))),o.forEachChild(Ne,(a,l)=>{const c=Xg(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Zg(t,e){let n=e instanceof ve?e:new ve(e),i=t,r=oe(n);for(;r!==null;){const s=Ys(i.node.children,r)||{children:{},childCount:0};i=new Jg(r,i,s),n=be(n),r=oe(n)}return i}function ao(t){return t.node.value}function iE(t,e){t.node.value=e,Qf(t)}function rE(t){return t.node.childCount>0}function hO(t){return ao(t)===void 0&&!rE(t)}function md(t,e){Nt(t.node.children,(n,i)=>{e(new Jg(n,t,i))})}function sE(t,e,n,i){n&&!i&&e(t),md(t,r=>{sE(r,e,!0,i)}),n&&i&&e(t)}function fO(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function yl(t){return new ve(t.parent===null?t.name:yl(t.parent)+"/"+t.name)}function Qf(t){t.parent!==null&&pO(t.parent,t.name,t)}function pO(t,e,n){const i=hO(n),r=An(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Qf(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Qf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/[\[\].#$\/\u0000-\u001F\u007F]/,mO=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,em=function(t){return typeof t=="string"&&t.length!==0&&!gO.test(t)},oE=function(t){return typeof t=="string"&&t.length!==0&&!mO.test(t)},_O=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),oE(t)},uv=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Rg(t)||t&&typeof t=="object"&&An(t,".sv")},yO=function(t,e,n,i){tm(cd(t,"value"),e,n)},tm=function(t,e,n){const i=n instanceof ve?new AD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+br(i));if(typeof e=="function")throw new Error(t+"contains a function "+br(i)+" with contents = "+e.toString());if(Rg(e))throw new Error(t+"contains "+e.toString()+" "+br(i));if(typeof e=="string"&&e.length>mh/3&&ud(e)>mh)throw new Error(t+"contains a string greater than "+mh+" utf8 bytes "+br(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Nt(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!em(o)))throw new Error(t+" contains an invalid key ("+o+") "+br(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OD(i,o),tm(t,a,i),ND(i)}),r&&s)throw new Error(t+' contains ".value" child '+br(i)+" in addition to actual children.")}},vO=function(t,e,n,i){if(!em(n))throw new Error(cd(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},nm=function(t,e,n,i){if(!oE(n))throw new Error(cd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wO=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nm(t,e,n)},bO=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!em(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_O(n))throw new Error(cd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SO(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!kS(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function cr(t,e,n){SO(t,n),EO(t,i=>dn(i,e)||dn(e,i))}function EO(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(CO(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function CO(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();sa&&gt("event: "+n.toString()),pl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="repo_interrupt",TO=25;class IO{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Su(),this.transactionQueueTree_=new Jg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function PO(t,e,n){if(t.stats_=Ag(t.repoInfo_),t.forceRestClient_||rD())t.server_=new xu(t.repoInfo_,(i,r,s,o)=>{dv(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Jn(t.repoInfo_,e,(i,r,s,o)=>{dv(t,i,r,s,o)},i=>{hv(t,i)},i=>{MO(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=cD(t.repoInfo_,()=>new aA(t.stats_,t.server_)),t.infoData_=new nA,t.infoSyncTree_=new lv({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=ml(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),im(t,"connected",!1),t.serverSyncTree_=new lv({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);cr(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function RO(t){const n=t.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function aE(t){return aO({timestamp:RO(t)})}function dv(t,e,n,i,r){t.dataUpdateCount++;const s=new ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=mu(n,c=>lt(c));o=eO(t.serverSyncTree_,s,l,r)}else{const l=lt(n);o=JS(t.serverSyncTree_,s,l,r)}else if(i){const l=mu(n,c=>lt(c));o=XA(t.serverSyncTree_,s,l)}else{const l=lt(n);o=ml(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=om(t,s)),cr(t.eventQueue_,a,o)}function hv(t,e){im(t,"connected",e),e===!1&&OO(t)}function MO(t,e){Nt(e,(n,i)=>{im(t,n,i)})}function im(t,e,n){const i=new ve("/.info/"+e),r=lt(n);t.infoData_.updateSnapshot(i,r);const s=ml(t.infoSyncTree_,i,r);cr(t.eventQueue_,i,s)}function DO(t){return t.nextWriteId_++}function AO(t,e,n){const i=nO(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=lt(r).withIndex(e._queryParams.getIndex());tO(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ml(t.serverSyncTree_,e._path,s);else{const a=Ha(t.serverSyncTree_,e);o=JS(t.serverSyncTree_,e._path,s,a)}return cr(t.eventQueue_,e._path,o),XS(t.serverSyncTree_,e,n,null,!0),s},r=>(rm(t,"get for query "+Ye(e)+" failed: "+r),Promise.reject(new Error(r))))}function OO(t){rm(t,"onDisconnectEvents");const e=aE(t),n=Su();$f(t.onDisconnect_,he(),(r,s)=>{const o=uO(r,s,t.serverSyncTree_,e);NS(n,r,o)});let i=[];$f(n,he(),(r,s)=>{i=i.concat(ml(t.serverSyncTree_,r,s));const o=zO(t,r);om(t,o)}),t.onDisconnect_=Su(),cr(t.eventQueue_,he(),i)}function NO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kO)}function rm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function lE(t,e,n){return ZS(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function sm(t,e=t.transactionQueueTree_){if(e||_d(t,e),ao(e)){const n=uE(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&LO(t,yl(e),n)}else rE(e)&&md(e,n=>{sm(t,n)})}function LO(t,e,n){const i=n.map(c=>c.currentWriteId),r=lE(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];O(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=xt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{rm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Cs(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();_d(t,Zg(t.transactionQueueTree_,e)),sm(t,t.transactionQueueTree_),cr(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)pl(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Vt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}om(t,e)}},o)}function om(t,e){const n=cE(t,e),i=yl(n),r=uE(t,n);return FO(t,r,i),i}function FO(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=xt(n,l.path);let u=!1,d;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Cs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=TO)u=!0,d="maxretry",r=r.concat(Cs(t.serverSyncTree_,l.currentWriteId,!0));else{const h=lE(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){tm("transaction failed: Data returned ",f,l.path);let p=lt(f);typeof f=="object"&&f!=null&&An(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,m=aE(t),_=dO(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=DO(t),o.splice(o.indexOf(y),1),r=r.concat(QA(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),r=r.concat(Cs(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",r=r.concat(Cs(t.serverSyncTree_,l.currentWriteId,!0))}cr(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}_d(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)pl(i[a]);sm(t,t.transactionQueueTree_)}function cE(t,e){let n,i=t.transactionQueueTree_;for(n=oe(e);n!==null&&ao(i)===void 0;)i=Zg(i,n),e=be(e),n=oe(e);return i}function uE(t,e){const n=[];return dE(t,e,n),n.sort((i,r)=>i.order-r.order),n}function dE(t,e,n){const i=ao(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);md(e,r=>{dE(t,r,n)})}function _d(t,e){const n=ao(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,iE(e,n.length>0?n:void 0)}md(e,i=>{_d(t,i)})}function zO(t,e){const n=yl(cE(t,e)),i=Zg(t.transactionQueueTree_,e);return fO(i,r=>{_h(t,r)}),_h(t,i),sE(i,r=>{_h(t,r)}),n}function _h(t,e){const n=ao(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Cs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?iE(e,void 0):n.length=s+1,cr(t.eventQueue_,yl(e),r);for(let o=0;o<i.length;o++)pl(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function BO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const fv=function(t,e){const n=jO(t),i=n.namespace;n.domain==="firebase.com"&&si(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&si("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qM();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pS(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new ve(n.pathString)}},jO=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=UO(t.substring(u,d)));const h=BO(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class VO{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return te(this._path)?null:SS(this._path)}get ref(){return new ui(this._repo,this._path)}get _queryIdentifier(){const e=Xy(this._queryParams),n=Mg(e);return n==="{}"?"default":n}get _queryObject(){return Xy(this._queryParams)}isEqual(e){if(e=kt(e),!(e instanceof vl))return!1;const n=this._repo===e._repo,i=kS(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+DD(this._path)}}function $O(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hE(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===$i){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Vr)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==oi)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Ne){if(e!=null&&!uv(e)||n!=null&&!uv(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.getIndex()instanceof Fg||t.getIndex()===AS,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function KO(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ui extends vl{constructor(e,n){super(e,n,new Ug,!1)}get parent(){const e=CS(this._path);return e===null?null:new ui(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $a{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ve(e),i=Xf(this.ref,e);return new $a(this._node.getChild(n),i,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new $a(r,Xf(this.ref,i),Ne)))}hasChild(e){const n=new ve(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function YO(t,e){return t=kt(t),t._checkNotDeleted("ref"),Xf(t._root,e)}function Xf(t,e){return t=kt(t),oe(t._path)===null?wO("child","path",e):nm("child","path",e),new ui(t._repo,Ge(t._path,e))}function GO(t){t=kt(t);const e=new HO(()=>{}),n=new am(e);return AO(t._repo,t,n).then(i=>new $a(i,new ui(t._repo,t._path),t._queryParams.getIndex()))}class am{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new WO("value",this,new $a(e.snapshotNode,new ui(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new VO(this,e,n):null}matches(e){return e instanceof am?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class fE{}class qO extends fE{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){yO("startAfter",this._value,e._path);const n=eA(e._queryParams,this._value,this._key);if(KO(n),hE(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vl(e._repo,e._path,n,e._orderByCalled)}}function QO(t,e){return vO("startAfter","key",e),new qO(t,e)}class XO extends fE{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){$O(e,"orderByChild");const n=new ve(this._path);if(te(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Fg(n),r=tA(e._queryParams,i);return hE(r),new vl(e._repo,e._path,r,!0)}}function JO(t){return nm("orderByChild","path",t),new XO(t)}function ZO(t,...e){let n=kt(t);for(const i of e)n=i._apply(n);return n}WA(ui);YA(ui);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="FIREBASE_DATABASE_EMULATOR_HOST",Jf={};let tN=!1;function nN(t,e,n,i){t.repoInfo_=new pS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function iN(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||si("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=fv(s,r),a=o.repoInfo,l;typeof process<"u"&&Dy&&(l=Dy[eN]),l?(s=`http://${l}?ns=${a.namespace}`,o=fv(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new oD(t.name,t.options,e);bO("Invalid Firebase Database URL",o),te(o.path)||si("Database URL must point to the root of a Firebase Database (not including a child path).");const u=sN(a,t,c,new sD(t.name,n));return new oN(u,t)}function rN(t,e){const n=Jf[e];(!n||n[t.key]!==t)&&si(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NO(t),delete n[t.key]}function sN(t,e,n,i){let r=Jf[e.name];r||(r={},Jf[e.name]=r);let s=r[t.toURLString()];return s&&si("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new IO(t,tN,n,i),r[t.toURLString()]=s,s}class oN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(PO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ui(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&si("Cannot call "+e+" on a deleted database.")}}function aN(t=Xx(),e){const n=Pg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=vR("database");i&&lN(n,...i)}return n}function lN(t,e,n,i={}){t=kt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&si("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&si('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Rc(Rc.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:wR(i.mockUserToken,t.app.options.projectId);s=new Rc(o)}nN(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){VM(so),Gs(new jr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return iN(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Hi(Ay,Oy,t),Hi(Ay,Oy,"esm2017")}Jn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cN();function lm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=pE,gE=new dl("auth","Firebase",pE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Tg("@firebase/auth");function dN(t,...e){Mu.logLevel<=ye.WARN&&Mu.warn(`Auth (${so}): ${t}`,...e)}function Mc(t,...e){Mu.logLevel<=ye.ERROR&&Mu.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw cm(t,...e)}function Rn(t,...e){return cm(t,...e)}function mE(t,e,n){const i=Object.assign(Object.assign({},uN()),{[e]:n});return new dl("auth","Firebase",i).create(e,{appName:t.name})}function Zn(t){return mE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gE.create(t,...e)}function K(t,e,...n){if(!t)throw cm(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mc(e),new Error(e)}function ai(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hN(){return pv()==="http:"||pv()==="https:"}function pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||bR()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=kg()||$x()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new wl(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function dr(t,e,n,i,r={}){return yE(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=ro(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),_E.fetch()(vE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function yE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},gN),e);try{const r=new yN(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ec(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ec(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ec(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ec(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mE(t,u,c);vn(t,u)}}catch(r){if(r instanceof lr)throw r;vn(t,"network-request-failed",{message:String(r)})}}async function bl(t,e,n,i,r={}){const s=await dr(t,e,n,i,r);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vE(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?um(t.config,r):`${t.config.apiScheme}://${r}`}function _N(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Rn(this.auth,"network-request-failed")),mN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ec(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Rn(t,e,i);return r.customData._tokenResponse=n,r}function gv(t){return t!==void 0&&t.enterprise!==void 0}class vN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _N(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wN(t,e){return dr(t,"GET","/v2/recaptchaConfig",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e){return dr(t,"POST","/v1/accounts:delete",e)}async function wE(t,e){return dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xN(t,e=!1){const n=kt(t),i=await n.getIdToken(e),r=dm(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ua(yh(r.auth_time)),issuedAtTime:ua(yh(r.iat)),expirationTime:ua(yh(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yh(t){return Number(t)*1e3}function dm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const r=gu(n);return r?JSON.parse(r):(Mc("Failed to decode base64 JWT payload"),null)}catch(r){return Mc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function mv(t){const e=dm(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof lr&&SN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function SN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ka(t,wE(n,{idToken:i}));K(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bE(s.providerUserInfo):[],a=kN(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ep(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function CN(t){const e=kt(t);await Du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function bE(t){return t.map(e=>{var{providerId:n}=e,i=lm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e){const n=await yE(t,{},async()=>{const i=ro({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=vE(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_E.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IN(t,e){return dr(t,"POST","/v2/accounts:revokeToken",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await TN(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Os;return i&&(K(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Os,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ep(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xN(this,e)}reload(){return CN(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Du(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await Ka(this,bN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:C,stsTokenManager:w}=n;K(v&&w,e,"internal-error");const E=Os.fromJSON(this.name,w);K(typeof v=="string",e,"internal-error"),gi(d,e.name),gi(h,e.name),K(typeof b=="boolean",e,"internal-error"),K(typeof x=="boolean",e,"internal-error"),gi(f,e.name),gi(p,e.name),gi(g,e.name),gi(y,e.name),gi(m,e.name),gi(_,e.name);const P=new $n({uid:v,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:E,createdAt:m,lastLoginAt:_});return C&&Array.isArray(C)&&(P.providerData=C.map(R=>Object.assign({},R))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,i=!1){const r=new Os;r.updateFromServerResponse(n);const s=new $n({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Du(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?bE(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Os;a.updateFromIdToken(i);const l=new $n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ep(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;function Kn(t){ai(t instanceof Function,"Expected a class definition");let e=_v.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_v.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xE.type="NONE";const yv=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ns{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Dc(this.userKey,r.apiKey,s),this.fullPersistenceKey=Dc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$n._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ns(Kn(yv),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Kn(yv);const o=Dc(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=$n._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ns(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ns(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(IE(e))return"Webos";if(hm(e))return"Safari";if((e.includes("chrome/")||EE(e))&&!e.includes("edge/"))return"Chrome";if(kE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SE(t=yt()){return/firefox\//i.test(t)}function hm(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EE(t=yt()){return/crios\//i.test(t)}function CE(t=yt()){return/iemobile/i.test(t)}function kE(t=yt()){return/android/i.test(t)}function TE(t=yt()){return/blackberry/i.test(t)}function IE(t=yt()){return/webos/i.test(t)}function yd(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PN(t=yt()){var e;return yd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RN(){return xR()&&document.documentMode===10}function PE(t=yt()){return yd(t)||kE(t)||IE(t)||TE(t)||/windows phone/i.test(t)||CE(t)}function MN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e=[]){let n;switch(t){case"Browser":n=vv(yt());break;case"Worker":n=`${vv(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e={}){return dr(t,"GET","/v2/passwordPolicy",ur(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=6;class NN{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ON,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wE(this,{idToken:e}),i=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Du(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Zn(this));const n=e?kt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AN(this),n=new NN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await IN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return kt(t)}class wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=MR(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FN(t){vd=t}function ME(t){return vd.loadJS(t)}function zN(){return vd.recaptchaEnterpriseScript}function UN(){return vd.gapiScript}function BN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jN="recaptcha-enterprise",WN="NO_RECAPTCHA";class VN{constructor(e){this.type=jN,this.auth=ts(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new vN(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;gv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(WN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&gv(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zN();l.length!==0&&(l+=a),ME(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bv(t,e,n,i=!1){const r=new VN(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bv(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bv(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){const n=Pg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(_u(s,e??{}))return r;vn(r,"already-initialized")}return n.initialize({options:e})}function $N(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function KN(t,e,n){const i=ts(t);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=DE(e),{host:o,port:a}=YN(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),GN()}function DE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YN(t){const e=DE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:xv(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:xv(o)}}}function xv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function qN(t,e){return dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e){return bl(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){return bl(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))}async function JN(t,e){return bl(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends fm{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ya(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ya(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signInWithPassword",QN);case"emailLink":return XN(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,i,"signUpPassword",qN);case"emailLink":return JN(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return bl(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="http://localhost";class Kr extends fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=lm(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Kr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ls(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:ZN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ro(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tL(t){const e=jo(Wo(t)).link,n=e?jo(Wo(e)).deep_link_id:null,i=jo(Wo(t)).deep_link_id;return(i?jo(Wo(i)).link:null)||i||n||e||t}class pm{constructor(e){var n,i,r,s,o,a;const l=jo(Wo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=eL((r=l.mode)!==null&&r!==void 0?r:null);K(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=tL(e);try{return new pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,n){return Ya._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=pm.parseLink(n);return K(i,"argument-error"),Ya._fromEmailAndCode(e,i.code,i.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends AE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends xl{constructor(){super("facebook.com")}static credential(e){return Kr._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kr._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ei.credential(n,i)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends xl{constructor(){super("github.com")}static credential(e){return Kr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends xl{constructor(){super("twitter.com")}static credential(e,n){return Kr._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){return bl(t,"POST","/v1/accounts:signUp",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await $n._fromIdTokenResponse(e,i,r),o=Sv(i);return new Yr({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Sv(i);return new Yr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Sv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends lr{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Au.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Au(e,n,i,r)}}function OE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Au._fromErrorAndOperation(t,s,e,i):s})}async function iL(t,e,n=!1){const i=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e,n=!1){const{auth:i}=t;if(Tn(i.app))return Promise.reject(Zn(i));const r="reauthenticate";try{const s=await Ka(t,OE(i,r,e,t),n);K(s.idToken,i,"internal-error");const o=dm(s.idToken);K(o,i,"internal-error");const{sub:a}=o;return K(t.uid===a,i,"user-mismatch"),Yr._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(t,e,n=!1){if(Tn(t.app))return Promise.reject(Zn(t));const i="signIn",r=await OE(t,i,e),s=await Yr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function sL(t,e){return NE(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oL(t,e,n){if(Tn(t.app))return Promise.reject(Zn(t));const i=ts(t),o=await tp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&LE(t),l}),a=await Yr._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function aL(t,e,n){return Tn(t.app)?Promise.reject(Zn(t)):sL(kt(t),lo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&LE(t),i})}function lL(t,e,n,i){return kt(t).onIdTokenChanged(e,n,i)}function cL(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function uL(t,e,n,i){return kt(t).onAuthStateChanged(e,n,i)}function dL(t){return kt(t).signOut()}const Ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ou,"1"),this.storage.removeItem(Ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){const t=yt();return hm(t)||yd(t)}const fL=1e3,pL=10;class zE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hL()&&MN(),this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);RN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,pL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zE.type="LOCAL";const gL=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UE.type="SESSION";const BE=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await mL(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=gm("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function yL(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function vL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bL(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",xL=1,Nu="firebaseLocalStorage",VE="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([Nu],e?"readwrite":"readonly").objectStore(Nu)}function SL(){const t=indexedDB.deleteDatabase(WE);return new Sl(t).toPromise()}function np(){const t=indexedDB.open(WE,xL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Nu,{keyPath:VE})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Nu)?e(i):(i.close(),await SL(),e(await np()))})})}async function Ev(t,e,n){const i=bd(t,!0).put({[VE]:e,value:n});return new Sl(i).toPromise()}async function EL(t,e){const n=bd(t,!1).get(e),i=await new Sl(n).toPromise();return i===void 0?null:i.value}function Cv(t,e){const n=bd(t,!0).delete(e);return new Sl(n).toPromise()}const CL=800,kL=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>kL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(bL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vL(),!this.activeServiceWorker)return;this.sender=new _L(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await Ev(e,Ou,"1"),await Cv(e,Ou),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ev(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>EL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=bd(r,!1).getAll();return new Sl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const TL=HE;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e){return e?Kn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PL(t){return NE(t.auth,new mm(t),t.bypassAuthState)}function RL(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),rL(n,new mm(t),t.bypassAuthState)}async function ML(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),iL(n,new mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PL;case"linkViaPopup":case"linkViaRedirect":return ML;case"reauthViaPopup":case"reauthViaRedirect":return RL;default:vn(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new wl(2e3,1e4);class ks extends $E{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DL.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="pendingRedirect",Ac=new Map;class OL extends $E{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ac.get(this.auth._key());if(!e){try{const i=await NL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ac.set(this.auth._key(),e)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NL(t,e){const n=zL(e),i=FL(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function LL(t,e){Ac.set(t._key(),e)}function FL(t){return Kn(t._redirectPersistence)}function zL(t){return Dc(AL,t.config.apiKey,t.name)}async function UL(t,e,n=!1){if(Tn(t.app))return Promise.reject(Zn(t));const i=ts(t),r=IL(i,e),o=await new OL(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=10*60*1e3;class jL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!KE(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BL&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e={}){return dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$L=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VL(t);for(const n of e)try{if(YL(n))return}catch{}vn(t,"unauthorized-domain")}function YL(t){const e=Zf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!$L.test(n))return!1;if(HL.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new wl(3e4,6e4);function Tv(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qL(t){return new Promise((e,n)=>{var i,r,s;function o(){Tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tv(),n(Rn(t,"network-request-failed"))},timeout:GL.get()})}if(!((r=(i=Mn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Mn().gapi)===null||s===void 0)&&s.load)o();else{const a=BN("iframefcb");return Mn()[a]=()=>{gapi.load?o():n(Rn(t,"network-request-failed"))},ME(`${UN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function QL(t){return Oc=Oc||qL(t),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new wl(5e3,15e3),JL="__/auth/iframe",ZL="emulator/auth/iframe",eF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nF(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?um(e,ZL):`https://${t.config.authDomain}/${JL}`,i={apiKey:e.apiKey,appName:t.name,v:so},r=tF.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ro(i).slice(1)}`}async function iF(t){const e=await QL(t),n=Mn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:nF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Rn(t,"network-request-failed"),a=Mn().setTimeout(()=>{s(o)},XL.get());function l(){Mn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sF=500,oF=600,aF="_blank",lF="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cF(t,e,n,i=sF,r=oF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rF),{width:i.toString(),height:r.toString(),top:s,left:o}),c=yt().toLowerCase();n&&(a=EE(c)?aF:n),SE(c)&&(e=e||lF,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(PN(c)&&a!=="_self")return uF(e||"",a),new Iv(null);const d=window.open(e||"",a,u);K(d,t,"popup-blocked");try{d.focus()}catch{}return new Iv(d)}function uF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="__/auth/handler",hF="emulator/auth/handler",fF=encodeURIComponent("fac");async function Pv(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:so,eventId:r};if(e instanceof AE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Lf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof xl){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${fF}=${encodeURIComponent(l)}`:"";return`${pF(t)}?${ro(a).slice(1)}${c}`}function pF({config:t}){return t.emulator?um(t,hF):`https://${t.authDomain}/${dF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="webStorageSupport";class gF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=UL,this._overrideRedirectResult=LL}async _openPopup(e,n,i,r){var s;ai((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Pv(e,n,i,Zf(),r);return cF(e,o,gm())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Pv(e,n,i,Zf(),r);return yL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ai(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await iF(e),i=new jL(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vh,{type:vh},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[vh];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||hm()||yd()}}const mF=gF;var Rv="@firebase/auth",Mv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vF(t){Gs(new jr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(t)},c=new LN(i,r,s,l);return $N(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gs(new jr("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(i=>new _F(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(Rv,Mv,yF(t)),Hi(Rv,Mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=5*60,bF=Hx("authIdTokenMaxAge")||wF;let Dv=null;const xF=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>bF)return;const r=n==null?void 0:n.token;Dv!==r&&(Dv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function El(t=Xx()){const e=Pg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HN(t,{popupRedirectResolver:mF,persistence:[TL,gL,BE]}),i=Hx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=xF(s.toString());cL(n,o,()=>o(n.currentUser)),lL(n,a=>o(a))}}const r=Wx("auth");return r&&KN(n,`http://${r}`),n}function SF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Rn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",SF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vF("Browser");const EF={apiKey:"AIzaSyDR5p_Wi1XpErHBcNDiL-aulHLNFdNeoRA",authDomain:"gs-ano1-sem2.firebaseapp.com",databaseURL:"https://gs-ano1-sem2-default-rtdb.firebaseio.com",projectId:"gs-ano1-sem2",storageBucket:"gs-ano1-sem2.appspot.com",messagingSenderId:"301128640619",appId:"1:301128640619:web:3565eda704caeaa6ae292e"},CF=Qx(EF),kF=aN(CF);function TF(){return El()}function YE(){const t=El();return new Promise(e=>{uL(t,n=>{e(!!n)})})}function IF(t,e){const n=El();return oL(n,t,e).then(i=>i.user).catch(i=>["auth/email-already-in-use","auth/weak-password"].some(r=>r===i.code)?i.code:null)}function PF(t,e){const n=El();return aL(n,t,e).then(i=>i.user).catch(i=>(console.error(i),null))}function RF(){const t=El();return dL(t).then(()=>!0).catch(e=>(console.error(e),!1))}function MF(){const t=ad();return T.useEffect(()=>{YE().then(e=>{t(e?"/Home":"/Login")})},[]),j.jsxs("div",{id:"app-page",children:[j.jsx(GI,{}),j.jsx(gP,{}),j.jsx(uR,{position:"top-right",toastOptions:{style:{background:"#05273A",color:"#FFFFFF"}}})]})}const DF="/GS02-front/assets/error-404-csqABqcg.svg";function AF(){return j.jsx("div",{id:"error-page",children:j.jsxs("div",{className:"container",children:[j.jsx("img",{src:DF,alt:"erro 404"}),j.jsxs("div",{children:[j.jsx("h1",{children:"Página não encontrada"}),j.jsx(Rf,{to:"/",children:"Voltar para o site."})]})]})})}function Av(t){return j.jsx("div",{className:"text-field",style:{width:t.width},children:j.jsxs("fieldset",{children:[j.jsx("input",{required:!0,type:t.type?t.type:"text",id:t.id,name:t.id,placeholder:t.placeholder,style:{width:t.width},onChange:t.onChange?t.onChange:()=>{},className:t.className?t.className:""}),j.jsx("legend",{children:j.jsx("span",{children:t.placeholder})}),j.jsx("label",{htmlFor:t.id,className:"placeholder",children:t.placeholder})]})})}function Ov(t){return j.jsx("button",{className:"button-default",onClick:t.onClick?t.onClick:()=>{},children:t.text})}const OF="/GS02-front/assets/ocean-D5G-Y6Kt.svg";function Nv(t){const[e,n]=T.useState({email:"",password:""}),[i,r]=T.useState(!1),s=ad();T.useEffect(()=>{i&&s("/Home")},[i]);function o(){YE().then(d=>{r(d)})}function a(){const d=document.querySelector("#email").value,h=document.querySelector("#password").value;n({email:d,password:h})}function l(){const d=document.querySelector("#email"),h=document.querySelector("#password");let f=!1;return d.checkValidity()?d.classList.remove("invalid"):(d.classList.add("invalid"),f=!0),h.checkValidity()?h.classList.remove("invalid"):(h.classList.add("invalid"),f=!0),f&&To.error("Dados inválidos!",{id:"login"}),f}function c(){l()||PF(e.email,e.password).then(d=>{d===null&&To.error("Login inválido!",{id:"login"}),o()})}function u(){l()||IF(e.email,e.password).then(d=>{d==="auth/email-already-in-use"?(document.querySelector("#email").classList.add("invalid"),To.error("Email já utilizado em uma conta!",{id:"login"})):d==="auth/weak-password"?(document.querySelector("#password").classList.add("invalid"),To.error("Senha deve ter mínimo de 6 caracteres!",{id:"login"})):d===null&&To.error("Erro ao Cadastrar!",{id:"login"}),o()})}return j.jsx("div",{id:"login-page",children:j.jsxs("div",{className:"background-mask",children:[j.jsxs("div",{className:"infos",children:[j.jsx("img",{src:OF,alt:"Oceano"}),j.jsx("h1",{children:"Monitoramento dos Mares"}),j.jsx("p",{children:"Verifique a qualidade dos mares com gráficos de fácil utilização."})]}),j.jsx("div",{className:"login",children:j.jsxs("div",{className:"login-container",children:[j.jsxs("div",{className:"login-fields",children:[j.jsx(Av,{id:"email",placeholder:"Email",type:"email",onChange:a}),j.jsx(Av,{id:"password",placeholder:"Senha",type:"password",onChange:a})]}),t.SignUp?j.jsxs(j.Fragment,{children:[j.jsx(Ov,{text:"Cadastrar",onClick:u}),j.jsx(Rf,{to:"/Login",children:"Já possuo uma conta."})]}):j.jsxs(j.Fragment,{children:[j.jsx(Ov,{text:"Entrar",onClick:c}),j.jsxs("p",{children:["Crie uma conta clicando ",j.jsx(Rf,{to:"/SignUp",children:"aqui"}),"."]})]})]})})]})})}const NF=YO(kF,"leituras/");function LF(t,e){const n=new Date(t);return n.setDate(t.getDate()+e),n}function FF(){const t=LF(new Date,-7).toLocaleDateString().split("/").reverse().join("/").replaceAll("/","-");return GO(ZO(NF,JO("dt_leitura"),QO(t,"dt_leitura"))).then(e=>e.exists()?e.val():[]).catch(e=>(console.error(e),[]))}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Cl(t){return t+.5|0}const Pi=(t,e,n)=>Math.max(Math.min(t,n),e);function Vo(t){return Pi(Cl(t*2.55),0,255)}function Gi(t){return Pi(Cl(t*255),0,255)}function Bn(t){return Pi(Cl(t/2.55)/100,0,1)}function Lv(t){return Pi(Cl(t*100),0,100)}const qt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ip=[..."0123456789ABCDEF"],zF=t=>ip[t&15],UF=t=>ip[(t&240)>>4]+ip[t&15],tc=t=>(t&240)>>4===(t&15),BF=t=>tc(t.r)&&tc(t.g)&&tc(t.b)&&tc(t.a);function jF(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&qt[t[1]]*17,g:255&qt[t[2]]*17,b:255&qt[t[3]]*17,a:e===5?qt[t[4]]*17:255}:(e===7||e===9)&&(n={r:qt[t[1]]<<4|qt[t[2]],g:qt[t[3]]<<4|qt[t[4]],b:qt[t[5]]<<4|qt[t[6]],a:e===9?qt[t[7]]<<4|qt[t[8]]:255})),n}const WF=(t,e)=>t<255?e(t):"";function VF(t){var e=BF(t)?zF:UF;return t?"#"+e(t.r)+e(t.g)+e(t.b)+WF(t.a,e):void 0}const HF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GE(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function $F(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function KF(t,e,n){const i=GE(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function YF(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function _m(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=YF(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function ym(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Gi)}function vm(t,e,n){return ym(GE,t,e,n)}function GF(t,e,n){return ym(KF,t,e,n)}function qF(t,e,n){return ym($F,t,e,n)}function qE(t){return(t%360+360)%360}function QF(t){const e=HF.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Vo(+e[5]):Gi(+e[5]));const r=qE(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=GF(r,s,o):e[1]==="hsv"?i=qF(r,s,o):i=vm(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function XF(t,e){var n=_m(t);n[0]=qE(n[0]+e),n=vm(n),t.r=n[0],t.g=n[1],t.b=n[2]}function JF(t){if(!t)return;const e=_m(t),n=e[0],i=Lv(e[1]),r=Lv(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Bn(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Fv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZF(){const t={},e=Object.keys(zv),n=Object.keys(Fv);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Fv[s]);s=parseInt(zv[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let nc;function e2(t){nc||(nc=ZF(),nc.transparent=[0,0,0,0]);const e=nc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const t2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function n2(t){const e=t2.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Vo(o):Pi(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Vo(i):Pi(i,0,255)),r=255&(e[4]?Vo(r):Pi(r,0,255)),s=255&(e[6]?Vo(s):Pi(s,0,255)),{r:i,g:r,b:s,a:n}}}function i2(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const wh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,cs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function r2(t,e,n){const i=cs(Bn(t.r)),r=cs(Bn(t.g)),s=cs(Bn(t.b));return{r:Gi(wh(i+n*(cs(Bn(e.r))-i))),g:Gi(wh(r+n*(cs(Bn(e.g))-r))),b:Gi(wh(s+n*(cs(Bn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function ic(t,e,n){if(t){let i=_m(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=vm(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function QE(t,e){return t&&Object.assign(e||{},t)}function Uv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Gi(t[3]))):(e=QE(t,{r:0,g:0,b:0,a:1}),e.a=Gi(e.a)),e}function s2(t){return t.charAt(0)==="r"?n2(t):QF(t)}class Ga{constructor(e){if(e instanceof Ga)return e;const n=typeof e;let i;n==="object"?i=Uv(e):n==="string"&&(i=jF(e)||e2(e)||s2(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=QE(this._rgb);return e&&(e.a=Bn(e.a)),e}set rgb(e){this._rgb=Uv(e)}rgbString(){return this._valid?i2(this._rgb):void 0}hexString(){return this._valid?VF(this._rgb):void 0}hslString(){return this._valid?JF(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=r2(this._rgb,e._rgb,n)),this}clone(){return new Ga(this.rgb)}alpha(e){return this._rgb.a=Gi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Cl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ic(this._rgb,2,e),this}darken(e){return ic(this._rgb,2,-e),this}saturate(e){return ic(this._rgb,1,e),this}desaturate(e){return ic(this._rgb,1,-e),this}rotate(e){return XF(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Nn(){}const o2=(()=>{let t=0;return()=>t++})();function de(t){return t===null||typeof t>"u"}function Me(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ue(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ft(t,e){return Ue(t)?t:e}function Q(t,e){return typeof t>"u"?e:t}const a2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,XE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function we(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ge(t,e,n,i){let r,s,o;if(Me(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(re(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Lu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Fu(t){if(Me(t))return t.map(Fu);if(re(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Fu(t[n[r]]);return e}return t}function JE(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function l2(t,e,n,i){if(!JE(t))return;const r=e[t],s=n[t];re(r)&&re(s)?qa(r,s,i):e[t]=Fu(s)}function qa(t,e,n){const i=Me(e)?e:[e],r=i.length;if(!re(t))return t;n=n||{};const s=n.merger||l2;let o;for(let a=0;a<r;++a){if(o=i[a],!re(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function da(t,e){return qa(t,e,{merger:c2})}function c2(t,e,n){if(!JE(t))return;const i=e[t],r=n[t];re(i)&&re(r)?da(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Fu(r))}const Bv={"":t=>t,x:t=>t.x,y:t=>t.y};function u2(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function d2(t){const e=u2(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function er(t,e){return(Bv[e]||(Bv[e]=d2(e)))(t)}function wm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Qa=t=>typeof t<"u",tr=t=>typeof t=="function",jv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function h2(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Te=Math.PI,ke=2*Te,f2=ke+Te,zu=Number.POSITIVE_INFINITY,p2=Te/180,We=Te/2,pr=Te/4,Wv=Te*2/3,Ri=Math.log10,Dn=Math.sign;function ha(t,e,n){return Math.abs(t-e)<n}function Vv(t){const e=Math.round(t);t=ha(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ri(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function g2(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Xs(t){return!isNaN(parseFloat(t))&&isFinite(t)}function m2(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function ZE(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function fn(t){return t*(Te/180)}function bm(t){return t*(180/Te)}function Hv(t){if(!Ue(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function eC(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Te&&(s+=ke),{angle:s,distance:r}}function rp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _2(t,e){return(t-e+f2)%ke-Te}function Ut(t){return(t%ke+ke)%ke}function Xa(t,e,n,i){const r=Ut(t),s=Ut(e),o=Ut(n),a=Ut(s-r),l=Ut(o-r),c=Ut(r-s),u=Ut(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function tt(t,e,n){return Math.max(e,Math.min(n,t))}function y2(t){return tt(t,-32768,32767)}function Yn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function xm(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Gn=(t,e,n,i)=>xm(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),v2=(t,e,n)=>xm(t,n,i=>t[i][e]>=n);function w2(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const tC=["push","pop","shift","splice","unshift"];function b2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tC.forEach(n=>{const i="_onData"+wm(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function $v(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(tC.forEach(s=>{delete t[s]}),delete t._chartjs)}function nC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const iC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function rC(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,iC.call(window,()=>{i=!1,t.apply(e,n)}))}}function x2(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Sm=t=>t==="start"?"left":t==="end"?"right":"center",ft=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,S2=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function sC(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=tt(Math.min(Gn(a,l,c).lo,n?i:Gn(e,l,o.getPixelForValue(c)).lo),0,i-1)),h?s=tt(Math.max(Gn(a,o.axis,u,!0).hi+1,n?0:Gn(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function oC(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const rc=t=>t===0||t===1,Kv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ke/n)),Yv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ke/n)+1,fa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*We)+1,easeOutSine:t=>Math.sin(t*We),easeInOutSine:t=>-.5*(Math.cos(Te*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>rc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rc(t)?t:Kv(t,.075,.3),easeOutElastic:t=>rc(t)?t:Yv(t,.075,.3),easeInOutElastic(t){return rc(t)?t:t<.5?.5*Kv(t*2,.1125,.45):.5+.5*Yv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-fa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fa.easeInBounce(t*2)*.5:fa.easeOutBounce(t*2-1)*.5+.5};function Em(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Gv(t){return Em(t)?t:new Ga(t)}function bh(t){return Em(t)?t:new Ga(t).saturate(.5).darken(.1).hexString()}const E2=["x","y","borderWidth","radius","tension"],C2=["color","borderColor","backgroundColor"];function k2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:C2},numbers:{type:"number",properties:E2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function T2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qv=new Map;function I2(t,e){e=e||{};const n=t+JSON.stringify(e);let i=qv.get(n);return i||(i=new Intl.NumberFormat(t,e),qv.set(n,i)),i}function kl(t,e,n){return I2(e,n).format(t)}const aC={values(t){return Me(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=P2(t,n)}const o=Ri(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),kl(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Ri(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?aC.numeric.call(this,t,e,n):""}};function P2(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var xd={formatters:aC};function R2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gr=Object.create(null),sp=Object.create(null);function pa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function xh(t,e,n){return typeof e=="string"?qa(pa(t,e),n):qa(pa(t,""),e)}class M2{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>bh(r.backgroundColor),this.hoverBorderColor=(i,r)=>bh(r.borderColor),this.hoverColor=(i,r)=>bh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return xh(this,e,n)}get(e){return pa(this,e)}describe(e,n){return xh(sp,e,n)}override(e,n){return xh(Gr,e,n)}route(e,n,i,r){const s=pa(this,e),o=pa(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return re(l)?Object.assign({},c,l):Q(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var me=new M2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[k2,T2,R2]);function D2(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Uu(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function A2(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Me(d))o=Uu(t,r,s,o,d);else if(Me(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Me(h)&&(o=Uu(t,r,s,o,h));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function gr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Qv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function op(t,e,n,i){lC(t,e,n,i,null)}function lC(t,e,n,i,r){let s,o,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,g=e.radius;let y=(p||0)*p2;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,ke):t.arc(n,i,g,0,ke),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(y)*u,i-Math.cos(y)*g),y+=Wv,t.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*g),y+=Wv,t.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(y+pr)*l,d=Math.cos(y+pr)*(r?r/2-c:l),a=Math.sin(y+pr)*l,h=Math.sin(y+pr)*(r?r/2-c:l),t.arc(n-d,i-a,c,y-Te,y-We),t.arc(n+h,i-o,c,y-We,y),t.arc(n+d,i+a,c,y,y+We),t.arc(n-h,i+o,c,y+We,y+Te),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}y+=pr;case"rectRot":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+h,i-o),t.lineTo(n+d,i+a),t.lineTo(n-h,i+o),t.closePath();break;case"crossRot":y+=pr;case"cross":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"star":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o),y+=pr,d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(y)*g,a=Math.sin(y)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(y)*(r?r/2:g),i+Math.sin(y)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Sd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ed(t){t.restore()}function O2(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function N2(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function L2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function F2(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function z2(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function qr(t,e,n,i,r,s={}){const o=Me(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,L2(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&z2(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),de(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),F2(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Ja(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Te,Te,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Te,We,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,We,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-We,!0),t.lineTo(n+o.topLeft,i)}const U2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,B2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j2(t,e){const n=(""+t).match(U2);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const W2=t=>+t||0;function Cm(t,e){const n={},i=re(e),r=i?Object.keys(e):e,s=re(t)?i?o=>Q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=W2(s(o));return n}function cC(t){return Cm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dr(t){return Cm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vt(t){const e=cC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qe(t,e){t=t||{},e=e||me.font;let n=Q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Q(t.style,e.style);i&&!(""+i).match(B2)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Q(t.family,e.family),lineHeight:j2(Q(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Q(t.weight,e.weight),string:""};return r.string=D2(r),r}function Ho(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function V2(t,e,n){const{min:i,max:r}=t,s=XE(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function hr(t,e){return Object.assign(Object.create(t),e)}function km(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=fC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>km([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return dC(a,l,()=>X2(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Jv(a).includes(l)},ownKeys(a){return Jv(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Js(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:uC(t,i),setContext:s=>Js(t,s,n,i),override:s=>Js(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return dC(s,o,()=>$2(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function uC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:tr(n)?n:()=>n,isIndexable:tr(i)?i:()=>i}}const H2=(t,e)=>t?t+wm(e):e,Tm=(t,e)=>re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function $2(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return tr(a)&&o.isScriptable(e)&&(a=K2(e,a,t,n)),Me(a)&&a.length&&(a=Y2(e,a,t,o.isIndexable)),Tm(e,a)&&(a=Js(a,r,s&&s[e],o)),a}function K2(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),Tm(t,l)&&(l=Im(r._scopes,r,t,l)),l}function Y2(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(re(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Im(c,r,t,u);e.push(Js(d,s,o&&o[t],a))}}return e}function hC(t,e,n){return tr(t)?t(e,n):t}const G2=(t,e)=>t===!0?e:typeof t=="string"?er(e,t):void 0;function q2(t,e,n,i,r){for(const s of e){const o=G2(n,s);if(o){t.add(o);const a=hC(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Im(t,e,n,i){const r=e._rootScopes,s=hC(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=Xv(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=Xv(a,o,s,l,i),l===null)?!1:km(Array.from(a),[""],r,s,()=>Q2(e,n,i))}function Xv(t,e,n,i,r){for(;n;)n=q2(t,e,n,i,r);return n}function Q2(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Me(r)&&re(n)?n:r||{}}function X2(t,e,n,i){let r;for(const s of e)if(r=fC(H2(s,t),n),typeof r<"u")return Tm(t,r)?Im(n,i,t,r):r}function fC(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Jv(t){let e=t._keys;return e||(e=t._keys=J2(t._scopes)),e}function J2(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function pC(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(er(u,s),c)};return o}const Z2=Number.EPSILON||1e-14,Zs=(t,e)=>e<t.length&&!t[e].skip&&t[e],gC=t=>t==="x"?"y":"x";function ez(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=rp(s,r),l=rp(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function tz(t,e,n){const i=t.length;let r,s,o,a,l,c=Zs(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Zs(t,u+1),!(!l||!c)){if(ha(e[u],0,Z2)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function nz(t,e,n="x"){const i=gC(n),r=t.length;let s,o,a,l=Zs(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Zs(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function iz(t,e="x"){const n=gC(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Zs(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zs(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Dn(r[o-1])!==Dn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}tz(t,r,s),nz(t,s,e)}function sc(t,e,n){return Math.max(Math.min(t,n),e)}function rz(t,e){let n,i,r,s,o,a=qn(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&qn(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=sc(r.cp1x,e.left,e.right),r.cp1y=sc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=sc(r.cp2x,e.left,e.right),r.cp2y=sc(r.cp2y,e.top,e.bottom)))}function sz(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")iz(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=ez(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&rz(t,n)}function Pm(){return typeof window<"u"&&typeof document<"u"}function Rm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Cd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function oz(t,e){return Cd(t).getPropertyValue(e)}const az=["top","right","bottom","left"];function Ar(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=az[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function cz(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(lz(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function xr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Cd(n),s=r.boxSizing==="border-box",o=Ar(r,"padding"),a=Ar(r,"border","width"),{x:l,y:c,box:u}=cz(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function uz(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Rm(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Cd(s),l=Ar(a,"border","width"),c=Ar(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Bu(a.maxWidth,s,"clientWidth"),r=Bu(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||zu,maxHeight:r||zu}}const oc=t=>Math.round(t*10)/10;function dz(t,e,n,i){const r=Cd(t),s=Ar(r,"margin"),o=Bu(r.maxWidth,t,"clientWidth")||zu,a=Bu(r.maxHeight,t,"clientHeight")||zu,l=uz(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=Ar(r,"border","width"),f=Ar(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=oc(Math.min(c,o,l.maxWidth)),u=oc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=oc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=oc(Math.floor(u*i))),{width:c,height:u}}function Zv(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Pm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function e0(t,e){const n=oz(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Sr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function fz(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function pz(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Sr(t,r,n),a=Sr(r,s,n),l=Sr(s,e,n),c=Sr(o,a,n),u=Sr(a,l,n);return Sr(c,u,n)}const gz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},mz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Fs(t,e,n){return t?gz(e,n):mz()}function mC(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function _C(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yC(t){return t==="angle"?{between:Xa,compare:_2,normalize:Ut}:{between:Yn,compare:(e,n)=>e-n,normalize:e=>e}}function t0({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function _z(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=yC(i),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),r,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function vC(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=yC(i),{start:u,end:d,loop:h,style:f}=_z(t,e,n),p=[];let g=!1,y=null,m,_,v;const b=()=>l(r,v,m)&&a(r,v)!==0,x=()=>a(s,m)===0||l(s,v,m),C=()=>g||b(),w=()=>!g||x();for(let E=u,P=u;E<=d;++E)_=e[E%o],!_.skip&&(m=c(_[i]),m!==v&&(g=l(m,r,s),y===null&&C()&&(y=a(m,r)===0?E:P),y!==null&&w()&&(p.push(t0({start:y,end:E,loop:h,count:o,style:f})),y=null),P=E,v=m));return y!==null&&p.push(t0({start:y,end:d,loop:h,count:o,style:f})),p}function wC(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=vC(i[r],t.points,e);s.length&&n.push(...s)}return n}function yz(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function vz(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function wz(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=yz(n,r,s,i);if(i===!0)return n0(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return n0(t,vz(n,o,l,c),n,e)}function n0(t,e,n,i){return!i||!i.setContext||!n?e:bz(t,e,n,i)}function bz(t,e,n,i){const r=t._chart.getContext(),s=i0(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,h=d;function f(p,g,y,m){const _=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=_;for(;n[g%l].skip;)g+=_;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:y,style:m}),u=m,d=g%l)}}for(const p of e){d=a?d:p.start;let g=n[d%l],y;for(h=d+1;h<=p.end;h++){const m=n[h%l];y=i0(i.setContext(hr(r,{type:"segment",p0:g,p1:m,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),xz(y,u)&&f(d,h-1,p.loop,u),g=m,u=y}d<h-1&&f(d,h-1,p.loop,u)}return c}function i0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xz(t,e){if(!e)return!1;const n=[],i=function(r,s){return Em(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Sz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=iC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ln=new Sz;const r0="transparent",Ez={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Gv(t||r0),r=i.valid&&Gv(e||r0);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Cz{constructor(e,n,i,r){const s=n[i];r=Ho([e.to,r,s,e.from]);const o=Ho([e.from,s,r]);this._active=!0,this._fn=e.fn||Ez[e.type||typeof o],this._easing=fa[e.easing]||fa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ho([e.to,n,r,e.from]),this._from=Ho([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class bC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!re(e))return;const n=Object.keys(me.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!re(s))return;const o={};for(const a of n)o[a]=s[a];(Me(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=Tz(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&kz(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new Cz(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ln.add(this._chart,i),!0}}function kz(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Tz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function s0(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Iz(t,e,n){if(n===!1)return!1;const i=s0(t,n),r=s0(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Pz(t){let e,n,i,r;return re(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function xC(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function o0(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],Ue(c)&&(s||e===0||Dn(e)===Dn(c))&&(e+=c)}return e}}function Rz(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}function a0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Mz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Dz(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Az(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function l0(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function c0(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=Mz(s,o,i),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:g,[c]:y}=p,m=p._stacks||(p._stacks={});h=m[c]=Az(r,u,g),h[a]=y,h._top=l0(h,o,!0,i.type),h._bottom=l0(h,o,!1,i.type);const _=h._visualValues||(h._visualValues={});_[a]=y}}function Sh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Oz(t,e){return hr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Nz(t,e,n){return hr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Do(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Eh=t=>t==="reset"||t==="none",u0=(t,e)=>e?t:Object.assign({},t),Lz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:xC(n,!0),values:null};class _n{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=a0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Do(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,s=n.xAxisID=Q(i.xAxisID,Sh(e,"x")),o=n.yAxisID=Q(i.yAxisID,Sh(e,"y")),a=n.rAxisID=Q(i.rAxisID,Sh(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$v(this._data,this),e._stacked&&Do(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(re(n)){const r=this._cachedMeta;this._data=Rz(n,r)}else if(i!==n){if(i){$v(i,this);const r=this._cachedMeta;Do(r),r._parsed=[]}n&&Object.isExtensible(n)&&b2(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=a0(n.vScale,n),n.stack!==i.stack&&(r=!0,Do(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&c0(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{Me(r[e])?h=this.parseArrayData(i,r,e,n):re(r[e])?h=this.parseObjectData(i,r,e,n):h=this.parsePrimitiveData(i,r,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}o&&c0(this,h)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let h,f,p;for(h=0,f=r;h<f;++h)p=h+i,d[h]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,h,f;for(u=0,d=r;u<d;++u)h=u+i,f=n[h],c[u]={x:s.parse(er(f,a),h),y:o.parse(er(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:xC(r,!0),values:n._stacks[e.axis]._visualValues};return o0(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=o0(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=Lz(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Dz(a);let h,f;function p(){f=r[h];const g=f[a.axis];return!Ue(f[e.axis])||u>g||d<g}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Ue(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Pz(Q(this.options.clip,Iz(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Nz(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Oz(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Qa(i);if(a)return u0(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(me.elements[e]),p=()=>this.getContext(i,r,n),g=c.resolveNamedOptions(h,f,p,d);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(u0(g,l))),g}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,i,n))}const c=new bC(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Eh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Eh(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Eh(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Do(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}N(_n,"defaults",{}),N(_n,"datasetElementType",null),N(_n,"dataElementType",null);function Fz(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=nC(i.sort((r,s)=>r-s))}return t._cache.$bar}function zz(t){const e=t.iScale,n=Fz(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Qa(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function Uz(t,e,n,i){const r=n.barThickness;let s,o;return de(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function Bz(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function jz(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function SC(t,e,n,i){return Me(t)?jz(t,e,n,i):e[n.axis]=n.parse(t,i),e}function d0(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(SC(h,d,s,c));return l}function Ch(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Wz(t,e,n){return t!==0?Dn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Vz(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function Hz(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Vz(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[h0(u,o,a,l)]=!0,r=c)),s[h0(r,o,a,l)]=!0,t.borderSkipped=s}function h0(t,e,n,i){return i?(t=$z(t,e,n),t=f0(t,n,e)):t=f0(t,e,n),t}function $z(t,e,n){return t===e?n:t===n?e:t}function f0(t,e,n){return t==="start"?e:t==="end"?n:t}function Kz(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ga extends _n{parsePrimitiveData(e,n,i,r){return d0(e,n,i,r)}parseArrayData(e,n,i,r){return d0(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,p,g;for(h=i,f=i+r;h<f;++h)g=n[h],p={},p[s.axis]=s.parse(er(g,c),h),d.push(SC(er(g,u),p,o,h));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Ch(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=s||de(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),m=(p._stacks||{})[a.axis],_={horizontal:c,base:g.base,enableBorderRadius:!m||Ch(p._custom)||o===m._top||o===m._bottom,x:c?g.head:y.center,y:c?y.center:g.head,height:c?y.size:Math.abs(g.size),width:c?Math.abs(g.size):y.size};h&&(_.options=d||this.resolveDataElementOptions(f,e[f].active?"active":r));const v=_.options||e[f].options;Hz(_,v,m,o),Kz(_,v,u.ratio),this.updateElement(e[f],f,_,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(de(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||zz(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Ch(c);let d=l[n.axis],h=0,f=i?this.applyStack(n,l,i):d,p,g;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Dn(d)!==Dn(c.barEnd)&&(h=0),h+=d);const y=!de(s)&&!u?s:h;let m=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=m,g=p-m,Math.abs(g)<o){g=Wz(g,n,a)*o,d===a&&(m-=g/2);const _=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),b=Math.min(_,v),x=Math.max(_,v);m=Math.max(Math.min(m,x),b),p=m+g,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const _=Dn(g)*n.getLineWidthForValue(a)/2;m+=_,g-=_}return{size:g,base:m,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=Q(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?Bz(e,n,r,c):Uz(e,n,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}N(ga,"id","bar"),N(ga,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),N(ga,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Nc extends _n{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=Q(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=Q(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,d=a.axis;for(let h=n;h<n+i;h++){const f=e[h],p=!s&&this.getParsed(h),g={},y=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),m=g[d]=s?a.getBasePixel():a.getPixelForValue(p[d]);g.skip=isNaN(y)||isNaN(m),c&&(g.options=l||this.resolveDataElementOptions(h,f.active?"active":r),s&&(g.options.radius=0)),this.updateElement(f,h,g,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Q(i&&i._custom,s),r}}N(Nc,"id","bubble"),N(Nc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),N(Nc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Yz(t,e,n){let i=1,r=1,s=0,o=0;if(e<ke){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(v,b,x)=>Xa(v,a,l,!0)?1:Math.max(b,b*n,x,x*n),p=(v,b,x)=>Xa(v,a,l,!0)?-1:Math.min(b,b*n,x,x*n),g=f(0,c,d),y=f(We,u,h),m=p(Te,c,d),_=p(Te+We,u,h);i=(g-m)/2,r=(y-_)/2,s=-(g+m)/2,o=-(y+_)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Mi extends _n{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(re(i[e])){const{key:l="value"}=this._parsing;s=c=>+er(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return fn(this.options.rotation-90)}_getCircumference(){return fn(this.options.circumference)}_getRotationExtents(){let e=ke,n=-ke;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(a2(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:g}=Yz(d,u,l),y=(i.width-o)/h,m=(i.height-o)/f,_=Math.max(Math.min(y,m)/2,0),v=XE(this.options.radius,_),b=Math.max(v*l,0),x=(v-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,r.total=this.calculateTotal(),this.outerRadius=v-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ke)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,r);let m=this._getRotation(),_;for(_=0;_<n;++_)m+=this._circumference(_,s);for(_=n;_<n+i;++_){const v=this._circumference(_,s),b=e[_],x={x:u+this.offsetX,y:d+this.offsetY,startAngle:m,endAngle:m+v,circumference:v,outerRadius:p,innerRadius:f};y&&(x.options=g||this.resolveDataElementOptions(_,b.active?"active":r)),m+=v,this.updateElement(b,_,x,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ke*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=kl(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}N(Mi,"id","doughnut"),N(Mi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),N(Mi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),N(Mi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class ma extends _n{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=sC(n,r,o);this._drawStart=a,this._drawCount=l,oC(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),h=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,y=Xs(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none",_=n+i,v=e.length;let b=n>0&&this.getParsed(n-1);for(let x=0;x<v;++x){const C=e[x],w=m?C:{};if(x<n||x>=_){w.skip=!0;continue}const E=this.getParsed(x),P=de(E[f]),R=w[h]=o.getPixelForValue(E[h],x),L=w[f]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[f],x);w.skip=isNaN(R)||isNaN(L)||P,w.stop=x>0&&Math.abs(E[h]-b[h])>y,g&&(w.parsed=E,w.raw=c.data[x]),d&&(w.options=u||this.resolveDataElementOptions(x,C.active?"active":r)),m||this.updateElement(C,x,w,r),b=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}N(ma,"id","line"),N(ma,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),N(ma,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _a extends _n{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=kl(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return pC.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Te;let f=h,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,r,g);for(p=n;p<n+i;p++){const y=e[p];let m=f,_=f+this._computeAngle(p,r,g),v=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=_,s&&(l.animateScale&&(v=0),l.animateRotate&&(m=_=h));const b={x:u,y:d,innerRadius:0,outerRadius:v,startAngle:m,endAngle:_,options:this.resolveDataElementOptions(p,y.active?"active":r)};this.updateElement(y,p,b,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?fn(this.resolveDataElementOptions(e,n).angle||i):0}}N(_a,"id","polarArea"),N(_a,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),N(_a,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ap extends Mi{}N(ap,"id","pie"),N(ap,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Lc extends _n{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return pC.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:u.x,h=o?s.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,r)}}}N(Lc,"id","radar"),N(Lc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),N(Lc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Fc extends _n{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=sC(n,i,r);if(this._drawStart=s,this._drawCount=o,oC(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),d=this.getSharedOptions(u),h=this.includeOptions(r,d),f=o.axis,p=a.axis,{spanGaps:g,segment:y}=this.options,m=Xs(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none";let v=n>0&&this.getParsed(n-1);for(let b=n;b<n+i;++b){const x=e[b],C=this.getParsed(b),w=_?x:{},E=de(C[p]),P=w[f]=o.getPixelForValue(C[f],b),R=w[p]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[p],b);w.skip=isNaN(P)||isNaN(R)||E,w.stop=b>0&&Math.abs(C[f]-v[f])>m,y&&(w.parsed=C,w.raw=c.data[b]),h&&(w.options=d||this.resolveDataElementOptions(b,x.active?"active":r)),_||this.updateElement(x,b,w,r),v=C}this.updateSharedOptions(d,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}N(Fc,"id","scatter"),N(Fc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),N(Fc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Gz=Object.freeze({__proto__:null,BarController:ga,BubbleController:Nc,DoughnutController:Mi,LineController:ma,PieController:ap,PolarAreaController:_a,RadarController:Lc,ScatterController:Fc});function mr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mm{constructor(e){N(this,"options");this.options=e||{}}static override(e){Object.assign(Mm.prototype,e)}init(){}formats(){return mr()}parse(){return mr()}format(){return mr()}add(){return mr()}diff(){return mr()}startOf(){return mr()}endOf(){return mr()}}var qz={_date:Mm};function Qz(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?v2:Gn;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),h=l(s,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Tl(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:h}=Qz(s[a],e,o,r);for(let f=d;f<=h;++f){const p=u[f];p.skip||i(p,c,f)}}}function Xz(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function kh(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Tl(t,n,e,function(a,l,c){!r&&!qn(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Jz(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=eC(o,{x:e.x,y:e.y});Xa(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Tl(t,n,e,s),r}function Zz(t,e,n,i,r,s){let o=[];const a=Xz(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;const y=a(e,p);y<l?(o=[{element:u,datasetIndex:d,index:h}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:h})}return Tl(t,n,e,c),o}function Th(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?Jz(t,e,n,r):Zz(t,e,n,i,r,s)}function p0(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Tl(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var eU={evaluateInteractionItems:Tl,modes:{index(t,e,n,i){const r=xr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?kh(t,r,s,i,o):Th(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=xr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?kh(t,r,s,i,o):Th(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=xr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return kh(t,r,s,i,o)},nearest(t,e,n,i){const r=xr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Th(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=xr(e,t);return p0(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=xr(e,t);return p0(t,r,"y",n.intersect,i)}}};const EC=["left","top","right","bottom"];function Ao(t,e){return t.filter(n=>n.pos===e)}function g0(t,e){return t.filter(n=>EC.indexOf(n.pos)===-1&&n.box.axis===e)}function Oo(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function tU(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function nU(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!EC.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function iU(t,e){const n=nU(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function rU(t){const e=tU(t),n=Oo(e.filter(c=>c.box.fullSize),!0),i=Oo(Ao(e,"left"),!0),r=Oo(Ao(e,"right")),s=Oo(Ao(e,"top"),!0),o=Oo(Ao(e,"bottom")),a=g0(e,"x"),l=g0(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Ao(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function m0(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function CC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sU(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!re(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&CC(o,s.getPadding());const a=Math.max(0,e.outerWidth-m0(o,t,"left","right")),l=Math.max(0,e.outerHeight-m0(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function oU(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function aU(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function $o(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,aU(a.horizontal,e));const{same:d,other:h}=sU(e,n,a,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&$o(r,e,n,i)||u}function ac(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function _0(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;Qa(c.start)&&(o=c.start),l.fullSize?ac(l,r.left,o,n.outerWidth-r.right-r.left,h):ac(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;Qa(c.start)&&(s=c.start),l.fullSize?ac(l,s,r.top,h,n.outerHeight-r.bottom-r.top):ac(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=vt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=rU(t.boxes),l=a.vertical,c=a.horizontal;ge(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);CC(h,vt(i));const f=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),p=iU(l.concat(c),d);$o(a.fullSize,f,d,p),$o(l,f,d,p),$o(c,f,d,p)&&$o(l,f,d,p),oU(f),_0(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,_0(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ge(a.chartArea,g=>{const y=g.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class kC{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class lU extends kC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zc="$chartjs",cU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y0=t=>t===null||t==="";function uU(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[zc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",y0(r)){const s=e0(t,"width");s!==void 0&&(t.width=s)}if(y0(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=e0(t,"height");s!==void 0&&(t.height=s)}return t}const TC=hz?{passive:!0}:!1;function dU(t,e,n){t&&t.addEventListener(e,n,TC)}function hU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TC)}function fU(t,e){const n=cU[t.type]||t.type,{x:i,y:r}=xr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ju(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function pU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ju(a.addedNodes,i),o=o&&!ju(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function gU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ju(a.removedNodes,i),o=o&&!ju(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Za=new Map;let v0=0;function IC(){const t=window.devicePixelRatio;t!==v0&&(v0=t,Za.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function mU(t,e){Za.size||window.addEventListener("resize",IC),Za.set(t,e)}function _U(t){Za.delete(t),Za.size||window.removeEventListener("resize",IC)}function yU(t,e,n){const i=t.canvas,r=i&&Rm(i);if(!r)return;const s=rC((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),mU(t,s),o}function Ih(t,e,n){n&&n.disconnect(),e==="resize"&&_U(t)}function vU(t,e,n){const i=t.canvas,r=rC(s=>{t.ctx!==null&&n(fU(s,t))},t);return dU(i,e,r),r}class wU extends kC{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(uU(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[zc])return!1;const i=n[zc].initial;["height","width"].forEach(s=>{const o=i[s];de(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[zc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:pU,detach:gU,resize:yU}[n]||vU;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Ih,detach:Ih,resize:Ih}[n]||hU)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return dz(e,n,i,r)}isAttached(e){const n=e&&Rm(e);return!!(n&&n.isConnected)}}function bU(t){return!Pm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lU:wU}class wn{constructor(){N(this,"x");N(this,"y");N(this,"active",!1);N(this,"options");N(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Xs(this.x)&&Xs(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}N(wn,"defaults",{}),N(wn,"defaultRoutes");function xU(t,e){const n=t.options.ticks,i=SU(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?CU(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return kU(e,c,s,o/r),c;const u=EU(s,e,r);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(lc(e,c,u,de(f)?0:a-f,a),d=0,h=o-1;d<h;d++)lc(e,c,u,s[d],s[d+1]);return lc(e,c,u,l,de(f)?e.length:l+f),c}return lc(e,c,u),c}function SU(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function EU(t,e,n){const i=TU(t),r=e.length/n;if(!i)return Math.max(r,1);const s=g2(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function CU(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function kU(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function lc(t,e,n,i,r){const s=Q(i,0),o=Math.min(Q(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function TU(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const IU=t=>t==="left"?"right":t==="right"?"left":t,w0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,b0=(t,e)=>Math.min(e||t,t);function x0(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function PU(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function RU(t,e){ge(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function No(t){return t.drawTicks?t.tickLength:0}function S0(t,e){if(!t.display)return 0;const n=Qe(t.font,e),i=vt(t.padding);return(Me(t.text)?t.text.length:1)*n.lineHeight+i.height}function MU(t,e){return hr(t,{scale:e,type:"scale"})}function DU(t,e,n){return hr(t,{tick:n,index:e,type:"tick"})}function AU(t,e,n){let i=Sm(t);return(n&&e!=="right"||!n&&e==="right")&&(i=IU(i)),i}function OU(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const g=o-r,y=a-s;if(t.isHorizontal()){if(f=ft(i,s,a),re(n)){const m=Object.keys(n)[0],_=n[m];p=u[m].getPixelForValue(_)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=w0(t,n,e);h=a-s}else{if(re(n)){const m=Object.keys(n)[0],_=n[m];f=u[m].getPixelForValue(_)-y+e}else n==="center"?f=(c.left+c.right)/2-y+e:f=w0(t,n,e);p=ft(i,o,r),d=n==="left"?-We:We}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class ns extends wn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Ft(e,Number.POSITIVE_INFINITY),n=Ft(n,Number.NEGATIVE_INFINITY),i=Ft(i,Number.POSITIVE_INFINITY),r=Ft(r,Number.NEGATIVE_INFINITY),{min:Ft(e,i),max:Ft(n,r),minDefined:Ue(e),maxDefined:Ue(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Ft(n,Ft(i,n)),max:Ft(i,Ft(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=V2(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?x0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=xU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),we(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=we(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=b0(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=tt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-No(e.grid)-n.padding-S0(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=bm(Math.min(Math.asin(tt((u.highest.height+6)/a,-1,1)),Math.asin(tt(l/c,-1,1))-Math.asin(tt(h/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=S0(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=No(s)+l):(e.height=this.maxHeight,e.width=No(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=fn(this.labelRotation),g=Math.cos(p),y=Math.sin(p);if(a){const m=i.mirror?0:y*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+m+f)}else{const m=i.mirror?0:g*d.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+m+f)}this._calculatePadding(c,u,y,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)de(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=x0(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/b0(n,i));let c=0,u=0,d,h,f,p,g,y,m,_,v,b,x;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=y=g.string,m=s[y]=s[y]||{data:{},gc:[]},_=g.lineHeight,v=b=0,!de(p)&&!Me(p))v=Uu(r,m.data,m.gc,v,p),b=_;else if(Me(p))for(h=0,f=p.length;h<f;++h)x=p[h],!de(x)&&!Me(x)&&(v=Uu(r,m.data,m.gc,v,x),b+=_);o.push(v),a.push(b),c=Math.max(v,c),u=Math.max(b,u)}RU(s,n);const C=o.indexOf(c),w=a.indexOf(u),E=P=>({width:o[P]||0,height:a[P]||0});return{first:E(0),last:E(n-1),widest:E(C),highest:E(w),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return y2(this._alignToPixels?gr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=DU(this.getContext(),e,i))}return this.$context||(this.$context=MU(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=No(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,y=g/2,m=function(le){return gr(i,le,g)};let _,v,b,x,C,w,E,P,R,L,W,X;if(o==="top")_=m(this.bottom),w=this.bottom-h,P=_-y,L=m(e.top)+y,X=e.bottom;else if(o==="bottom")_=m(this.top),L=e.top,X=m(e.bottom)-y,w=_+y,P=this.top+h;else if(o==="left")_=m(this.right),C=this.right-h,E=_-y,R=m(e.left)+y,W=e.right;else if(o==="right")_=m(this.left),R=e.left,W=m(e.right)-y,C=_+y,E=this.left+h;else if(n==="x"){if(o==="center")_=m((e.top+e.bottom)/2+.5);else if(re(o)){const le=Object.keys(o)[0],pe=o[le];_=m(this.chart.scales[le].getPixelForValue(pe))}L=e.top,X=e.bottom,w=_+y,P=w+h}else if(n==="y"){if(o==="center")_=m((e.left+e.right)/2);else if(re(o)){const le=Object.keys(o)[0],pe=o[le];_=m(this.chart.scales[le].getPixelForValue(pe))}C=_-y,E=C-h,R=e.left,W=e.right}const fe=Q(r.ticks.maxTicksLimit,d),Z=Math.max(1,Math.ceil(d/fe));for(v=0;v<d;v+=Z){const le=this.getContext(v),pe=s.setContext(le),M=a.setContext(le),U=pe.lineWidth,H=pe.color,ce=M.dash||[],se=M.dashOffset,it=pe.tickWidth,Be=pe.tickColor,$e=pe.tickBorderDash||[],De=pe.tickBorderDashOffset;b=PU(this,v,l),b!==void 0&&(x=gr(i,b,U),c?C=E=R=W=x:w=P=L=X=x,f.push({tx1:C,ty1:w,tx2:E,ty2:P,x1:R,y1:L,x2:W,y2:X,width:U,color:H,borderDash:ce,borderDashOffset:se,tickWidth:it,tickColor:Be,tickBorderDash:$e,tickBorderDashOffset:De}))}return this._ticksLength=d,this._borderValue=_,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=No(i.grid),f=h+u,p=d?-u:f,g=-fn(this.labelRotation),y=[];let m,_,v,b,x,C,w,E,P,R,L,W,X="middle";if(r==="top")C=this.bottom-p,w=this._getXAxisLabelAlignment();else if(r==="bottom")C=this.top+p,w=this._getXAxisLabelAlignment();else if(r==="left"){const Z=this._getYAxisLabelAlignment(h);w=Z.textAlign,x=Z.x}else if(r==="right"){const Z=this._getYAxisLabelAlignment(h);w=Z.textAlign,x=Z.x}else if(n==="x"){if(r==="center")C=(e.top+e.bottom)/2+f;else if(re(r)){const Z=Object.keys(r)[0],le=r[Z];C=this.chart.scales[Z].getPixelForValue(le)+f}w=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")x=(e.left+e.right)/2-f;else if(re(r)){const Z=Object.keys(r)[0],le=r[Z];x=this.chart.scales[Z].getPixelForValue(le)}w=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?X="top":l==="end"&&(X="bottom"));const fe=this._getLabelSizes();for(m=0,_=a.length;m<_;++m){v=a[m],b=v.label;const Z=s.setContext(this.getContext(m));E=this.getPixelForTick(m)+s.labelOffset,P=this._resolveTickFontOptions(m),R=P.lineHeight,L=Me(b)?b.length:1;const le=L/2,pe=Z.color,M=Z.textStrokeColor,U=Z.textStrokeWidth;let H=w;o?(x=E,w==="inner"&&(m===_-1?H=this.options.reverse?"left":"right":m===0?H=this.options.reverse?"right":"left":H="center"),r==="top"?c==="near"||g!==0?W=-L*R+R/2:c==="center"?W=-fe.highest.height/2-le*R+R:W=-fe.highest.height+R/2:c==="near"||g!==0?W=R/2:c==="center"?W=fe.highest.height/2-le*R:W=fe.highest.height-L*R,d&&(W*=-1),g!==0&&!Z.showLabelBackdrop&&(x+=R/2*Math.sin(g))):(C=E,W=(1-L)*R/2);let ce;if(Z.showLabelBackdrop){const se=vt(Z.backdropPadding),it=fe.heights[m],Be=fe.widths[m];let $e=W-se.top,De=0-se.left;switch(X){case"middle":$e-=it/2;break;case"bottom":$e-=it;break}switch(w){case"center":De-=Be/2;break;case"right":De-=Be;break;case"inner":m===_-1?De-=Be:m>0&&(De-=Be/2);break}ce={left:De,top:$e,width:Be+se.width,height:it+se.height,color:Z.backdropColor}}y.push({label:b,font:P,textOffset:W,options:{rotation:g,color:pe,strokeColor:M,strokeWidth:U,textAlign:H,textBaseline:X,translation:[x,C],backdrop:ce}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=gr(e,this.left,o)-o/2,u=gr(e,this.right,a)+a/2,d=h=l):(d=gr(e,this.top,o)-o/2,h=gr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Sd(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;qr(i,c,0,u,l,a)}r&&Ed(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Qe(i.font),o=vt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||re(n)?(l+=o.bottom,Me(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=OU(this,l,n,a);qr(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:AU(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Q(e.grid&&e.grid.z,-1),r=Q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ns.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Qe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;FU(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,NU(e,o,i),this.override&&me.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in me[r]&&(delete me[r][i],this.override&&delete Gr[i])}}function NU(t,e,n){const i=qa(Object.create(null),[n?me.get(n):{},me.get(e),t.defaults]);me.set(e,i),t.defaultRoutes&&LU(e,t.defaultRoutes),t.descriptors&&me.describe(e,t.descriptors)}function LU(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");me.route(s,r,l,a)})}function FU(t){return"id"in t&&"defaults"in t}class zU{constructor(){this.controllers=new cc(_n,"datasets",!0),this.elements=new cc(wn,"elements"),this.plugins=new cc(Object,"plugins"),this.scales=new cc(ns,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ge(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=wm(e);we(i["before"+r],[],i),n[e](i),we(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Cn=new zU;class UU{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(we(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Q(i.options&&i.options.plugins,{}),s=BU(i);return r===!1&&!n?[]:WU(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function BU(t){const e={},n=[],i=Object.keys(Cn.plugins.items);for(let s=0;s<i.length;s++)n.push(Cn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function jU(t,e){return!e&&t===!1?null:t===!0?{}:t}function WU(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=jU(i[l],r);c!==null&&s.push({plugin:a,options:VU(t.config,{plugin:a,local:n[l]},c,o)})}return s}function VU(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lp(t,e){const n=me.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function HU(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function $U(t,e){return t===e?"_index_":"_value_"}function E0(t){if(t==="x"||t==="y"||t==="r")return t}function KU(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function cp(t,...e){if(E0(t))return t;for(const n of e){const i=n.axis||KU(n.position)||t.length>1&&E0(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function C0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function YU(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return C0(t,"x",n[0])||C0(t,"y",n[0])}return{}}function GU(t,e){const n=Gr[t.type]||{scales:{}},i=e.scales||{},r=lp(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!re(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=cp(o,a,YU(o,t),me.scales[a.type]),c=$U(l,r),u=n.scales||{};s[o]=da(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||lp(a,e),u=(Gr[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=HU(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),da(s[f],[{axis:h},i[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];da(a,[me.scales[a.type],me.scale])}),s}function PC(t){const e=t.options||(t.options={});e.plugins=Q(e.plugins,{}),e.scales=GU(t,e)}function RC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qU(t){return t=t||{},t.data=RC(t.data),PC(t),t}const k0=new Map,MC=new Set;function uc(t,e){let n=k0.get(t);return n||(n=e(),k0.set(t,n),MC.add(n)),n}const Lo=(t,e,n)=>{const i=er(e,n);i!==void 0&&t.add(i)};class QU{constructor(e){this._config=qU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return uc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return uc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return uc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return uc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Lo(l,e,d))),u.forEach(d=>Lo(l,r,d)),u.forEach(d=>Lo(l,Gr[s]||{},d)),u.forEach(d=>Lo(l,me,d)),u.forEach(d=>Lo(l,sp,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),MC.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Gr[n]||{},me.datasets[n]||{},{type:n},me,sp]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=T0(this._resolverCache,e,r);let l=o;if(JU(o,n)){s.$shared=!1,i=tr(i)?i():i;const c=this.createResolver(e,i,a);l=Js(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=T0(this._resolverCache,e,i);return re(n)?Js(s,n,void 0,r):s}}function T0(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:km(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const XU=t=>re(t)&&Object.getOwnPropertyNames(t).some(e=>tr(t[e]));function JU(t,e){const{isScriptable:n,isIndexable:i}=uC(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(tr(a)||XU(a))||o&&Me(a))return!0}return!1}var ZU="4.4.3";const eB=["top","bottom","left","right","chartArea"];function I0(t,e){return t==="top"||t==="bottom"||eB.indexOf(t)===-1&&e==="x"}function P0(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function R0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),we(n&&n.onComplete,[t],e)}function tB(t){const e=t.chart,n=e.options.animation;we(n&&n.onProgress,[t],e)}function DC(t){return Pm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Uc={},M0=t=>{const e=DC(t);return Object.values(Uc).filter(n=>n.canvas===e).pop()};function nB(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function iB(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function dc(t,e,n){return t.options.clip?t[n]:e[n]}function rB(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:dc(n,e,"left"),right:dc(n,e,"right"),top:dc(i,e,"top"),bottom:dc(i,e,"bottom")}:e}var mi;let kd=(mi=class{static register(...e){Cn.add(...e),D0()}static unregister(...e){Cn.remove(...e),D0()}constructor(e,n){const i=this.config=new QU(n),r=DC(e),s=M0(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bU(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=o2(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=x2(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Uc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ln.listen(this,"complete",R0),Ln.listen(this,"progress",tB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return de(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Cn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qv(this.canvas,this.ctx),this}stop(){return Ln.stop(this),this}resize(e,n){Ln.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Zv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),we(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ge(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=cp(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ge(s,o=>{const a=o.options,l=a.id,c=cp(l,a),u=Q(a.type,o.dtype);(a.position===void 0||I0(a.position,c)!==I0(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=Cn.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),ge(r,(o,a)=>{o||delete i[a]}),ge(i,o=>{mt.configure(this,o,o.options),mt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(P0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||lp(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Cn.getController(a),{datasetElementType:c,dataElementType:u}=me.datasets[a];Object.assign(l,{dataElementType:Cn.getElement(u),datasetElementType:c&&Cn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ge(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(P0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ge(this.scales,e=>{mt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!jv(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;nB(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!jv(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ge(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,tr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ln.has(this)?this.attached&&!Ln.running(this)&&Ln.start(this):(this.draw(),R0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=rB(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Sd(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Ed(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return qn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=eU.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=hr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Qa(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ln.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Qv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Uc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ge(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Lu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=h2(e),c=iB(e,this._lastEvent,i,l);i&&(this._lastEvent=null,we(s.onHover,[e,a,this],this),l&&we(s.onClick,[e,a,this],this));const u=!Lu(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},N(mi,"defaults",me),N(mi,"instances",Uc),N(mi,"overrides",Gr),N(mi,"registry",Cn),N(mi,"version",ZU),N(mi,"getChart",M0),mi);function D0(){return ge(kd.instances,t=>t._plugins.invalidate())}function sB(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+We,i-We),t.closePath(),t.clip()}function oB(t){return Cm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function aB(t,e,n,i){const r=oB(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return tt(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:tt(r.innerStart,0,o),innerEnd:tt(r.innerEnd,0,o)}}function us(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Wu(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const Z=u>0?u-i:0,le=d>0?d-i:0,pe=(Z+le)/2,M=pe!==0?p*pe/(pe+i):p;f=(p-M)/2}const g=Math.max(.001,p*d-n/Te)/d,y=(p-g)/2,m=l+y+f,_=r-y-f,{outerStart:v,outerEnd:b,innerStart:x,innerEnd:C}=aB(e,h,d,_-m),w=d-v,E=d-b,P=m+v/w,R=_-b/E,L=h+x,W=h+C,X=m+x/L,fe=_-C/W;if(t.beginPath(),s){const Z=(P+R)/2;if(t.arc(o,a,d,P,Z),t.arc(o,a,d,Z,R),b>0){const U=us(E,R,o,a);t.arc(U.x,U.y,b,R,_+We)}const le=us(W,_,o,a);if(t.lineTo(le.x,le.y),C>0){const U=us(W,fe,o,a);t.arc(U.x,U.y,C,_+We,fe+Math.PI)}const pe=(_-C/h+(m+x/h))/2;if(t.arc(o,a,h,_-C/h,pe,!0),t.arc(o,a,h,pe,m+x/h,!0),x>0){const U=us(L,X,o,a);t.arc(U.x,U.y,x,X+Math.PI,m-We)}const M=us(w,m,o,a);if(t.lineTo(M.x,M.y),v>0){const U=us(w,P,o,a);t.arc(U.x,U.y,v,m-We,P)}}else{t.moveTo(o,a);const Z=Math.cos(P)*d+o,le=Math.sin(P)*d+a;t.lineTo(Z,le);const pe=Math.cos(R)*d+o,M=Math.sin(R)*d+a;t.lineTo(pe,M)}t.closePath()}function lB(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Wu(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%ke||ke))}return Wu(t,e,n,i,l,r),t.fill(),l}function cB(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){Wu(t,e,n,i,p,r);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(p=o+(a%ke||ke))}f&&sB(t,e,p),s||(Wu(t,e,n,i,p,r),t.stroke())}class Ko extends wn{constructor(n){super();N(this,"circumference");N(this,"endAngle");N(this,"fullCircles");N(this,"innerRadius");N(this,"outerRadius");N(this,"pixelMargin");N(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=eC(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,g=Q(h,c-l)>=ke||Xa(o,l,c),y=Yn(a,u+f,d+f);return g&&y}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,h=(a+l+u+c)/2;return{x:i+Math.cos(d)*h,y:r+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ke?Math.floor(r/ke):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Te,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,lB(n,this,u,o,a),cB(n,this,u,o,a),n.restore()}}N(Ko,"id","arc"),N(Ko,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),N(Ko,"defaultRoutes",{backgroundColor:"backgroundColor"}),N(Ko,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function AC(t,e,n=e){t.lineCap=Q(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Q(n.borderDash,e.borderDash)),t.lineDashOffset=Q(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Q(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Q(n.borderWidth,e.borderWidth),t.strokeStyle=Q(n.borderColor,e.borderColor)}function uB(t,e,n){t.lineTo(n.x,n.y)}function dB(t){return t.stepped?O2:t.tension||t.cubicInterpolationMode==="monotone"?N2:uB}function OC(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function hB(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=OC(r,n,i),u=dB(s);let{move:d=!0,reverse:h}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,s.stepped),g=p);return l&&(p=r[(a+(h?c:0))%o],u(t,g,p,h,s.stepped)),!!l}function fB(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=OC(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,p,g,y,m;const _=b=>(o+(c?a-b:b))%s,v=()=>{g!==y&&(t.lineTo(u,y),t.lineTo(u,g),t.lineTo(u,m))};for(l&&(f=r[_(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[_(h)],f.skip)continue;const b=f.x,x=f.y,C=b|0;C===p?(x<g?g=x:x>y&&(y=x),u=(d*u+b)/++d):(v(),t.lineTo(b,x),p=C,d=0,g=y=x),m=x}v()}function up(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fB:hB}function pB(t){return t.stepped?fz:t.tension||t.cubicInterpolationMode==="monotone"?pz:Sr}function gB(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),AC(t,e.options),t.stroke(r)}function mB(t,e,n,i){const{segments:r,options:s}=e,o=up(e);for(const a of r)AC(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const _B=typeof Path2D=="function";function yB(t,e,n,i){_B&&!e.options.segment?gB(t,e,n,i):mB(t,e,n,i)}class Di extends wn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;sz(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wz(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=wC(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=pB(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=s[d],p=s[h];if(f===p){a.push(f);continue}const g=Math.abs((r-f[n])/(p[n]-f[n])),y=l(f,p,g,i.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,i){return up(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=up(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),yB(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}N(Di,"id","line"),N(Di,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),N(Di,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),N(Di,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function A0(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Bc extends wn{constructor(n){super();N(this,"parsed");N(this,"skip");N(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return A0(this,n,"x",i)}inYRange(n,i){return A0(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!qn(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,op(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}N(Bc,"id","point"),N(Bc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),N(Bc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function NC(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Ai(t,e,n,i){return t?0:tt(e,n,i)}function vB(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=cC(i);return{t:Ai(r.top,s.top,0,n),r:Ai(r.right,s.right,0,e),b:Ai(r.bottom,s.bottom,0,n),l:Ai(r.left,s.left,0,e)}}function wB(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Dr(r),o=Math.min(e,n),a=t.borderSkipped,l=i||re(r);return{topLeft:Ai(!l||a.top||a.left,s.topLeft,0,o),topRight:Ai(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ai(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ai(!l||a.bottom||a.right,s.bottomRight,0,o)}}function bB(t){const e=NC(t),n=e.right-e.left,i=e.bottom-e.top,r=vB(t,n/2,i/2),s=wB(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Ph(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&NC(t,i);return a&&(r||Yn(e,a.left,a.right))&&(s||Yn(n,a.top,a.bottom))}function xB(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function SB(t,e){t.rect(e.x,e.y,e.w,e.h)}function Rh(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class jc extends wn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=bB(this),a=xB(o.radius)?Ja:SB;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Rh(o,n,s)),e.clip(),a(e,Rh(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Rh(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Ph(this,e,n,i)}inXRange(e,n){return Ph(this,e,null,n)}inYRange(e,n){return Ph(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}N(jc,"id","bar"),N(jc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),N(jc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var EB=Object.freeze({__proto__:null,ArcElement:Ko,BarElement:jc,LineElement:Di,PointElement:Bc});const dp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O0=dp.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function LC(t){return dp[t%dp.length]}function FC(t){return O0[t%O0.length]}function CB(t,e){return t.borderColor=LC(e),t.backgroundColor=FC(e),++e}function kB(t,e){return t.backgroundColor=t.data.map(()=>LC(e++)),e}function TB(t,e){return t.backgroundColor=t.data.map(()=>FC(e++)),e}function IB(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof Mi?e=kB(n,e):r instanceof _a?e=TB(n,e):r&&(e=CB(n,e))}}function N0(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function PB(t){return t&&(t.borderColor||t.backgroundColor)}var RB={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(N0(i)||PB(r)||s&&N0(s)))return;const o=IB(t);i.forEach(o)}};function MB(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,d,h,f,p,g;for(o[l++]=t[u],d=0;d<s-2;d++){let y=0,m=0,_;const v=Math.floor((d+1)*a)+1+e,b=Math.min(Math.floor((d+2)*a)+1,n)+e,x=b-v;for(_=v;_<b;_++)y+=t[_].x,m+=t[_].y;y/=x,m/=x;const C=Math.floor(d*a)+1+e,w=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:E,y:P}=t[u];for(f=p=-1,_=C;_<w;_++)p=.5*Math.abs((E-y)*(t[_].y-P)-(E-t[_].x)*(m-P)),p>f&&(f=p,h=t[_],g=_);o[l++]=h,u=g}return o[l++]=t[c],o}function DB(t,e,n,i){let r=0,s=0,o,a,l,c,u,d,h,f,p,g;const y=[],m=e+n-1,_=t[e].x,b=t[m].x-_;for(o=e;o<e+n;++o){a=t[o],l=(a.x-_)/b*i,c=a.y;const x=l|0;if(x===u)c<p?(p=c,d=o):c>g&&(g=c,h=o),r=(s*r+a.x)/++s;else{const C=o-1;if(!de(d)&&!de(h)){const w=Math.min(d,h),E=Math.max(d,h);w!==f&&w!==C&&y.push({...t[w],x:r}),E!==f&&E!==C&&y.push({...t[E],x:r})}o>0&&C!==f&&y.push(t[C]),y.push(a),u=x,s=0,p=g=c,d=h=f=o}}return y}function zC(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function L0(t){t.data.datasets.forEach(e=>{zC(e)})}function AB(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=tt(Gn(e,s.axis,o).lo,0,n-1)),c?r=tt(Gn(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var OB={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){L0(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(Ho([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=AB(l,c);const f=n.threshold||4*i;if(h<=f){zC(r);return}de(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=MB(c,d,h,i,n);break;case"min-max":p=DB(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){L0(t)}};function NB(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Dm(l,c,r);const u=hp(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=wC(e,u);for(const h of d){const f=hp(n,s[h.start],s[h.end],h.loop),p=vC(a,r,f);for(const g of p)o.push({source:g,target:h,start:{[n]:F0(u,f,"start",Math.max)},end:{[n]:F0(u,f,"end",Math.min)}})}}return o}function hp(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Ut(r),s=Ut(s)),{property:t,start:r,end:s}}function LB(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Dm(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Dm(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function F0(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function UC(t,e){let n=[],i=!1;return Me(t)?(i=!0,n=t):n=LB(t,e),n.length?new Di({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function z0(t){return t&&t.fill!==!1}function FB(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ue(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function zB(t,e,n){const i=WB(t);if(re(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ue(r)&&Math.floor(r)===r?UB(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function UB(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function BB(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:re(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function jB(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:re(t)?i=t.value:i=e.getBaseValue(),i}function WB(t){const e=t.options,n=e.fill;let i=Q(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function VB(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=HB(e,n);a.push(UC({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)$B(r,o[u],a)}return new Di({points:r,options:{}})}function HB(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function $B(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=KB(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function KB(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],h=o[u.end][n];if(Yn(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:i}}class BC{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:ke},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function YB(t){const{chart:e,fill:n,line:i}=t;if(Ue(n))return GB(e,n);if(n==="stack")return VB(t);if(n==="shape")return!0;const r=qB(t);return r instanceof BC?r:UC(r,i)}function GB(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function qB(t){return(t.scale||{}).getPointPositionForValue?XB(t):QB(t)}function QB(t){const{scale:e={},fill:n}=t,i=BB(n,e);if(Ue(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function XB(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=jB(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new BC({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Mh(t,e,n){const i=YB(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(Sd(t,n),JB(t,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),Ed(t))}function JB(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(U0(t,i,o.top),B0(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),U0(t,i,o.bottom)),B0(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function U0(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[Dm(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function B0(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=NB(n,i,r);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,ZB(t,o,f&&hp(r,u,d)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():j0(t,i,d,r);const y=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&y,g||j0(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function ZB(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function j0(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var ej={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Di&&(l={visible:t.isDatasetVisible(o),index:o,fill:zB(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=FB(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Mh(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;z0(s)&&Mh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!z0(i)||n.drawTime!=="beforeDatasetDraw"||Mh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const W0=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},tj=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class V0 extends wn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=we(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Qe(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=W0(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{const y=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:y,height:r},c[c.length-1]+=y+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((y,m)=>{const{itemWidth:_,itemHeight:v}=nj(i,n,s,y,r);m>0&&f+v+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[m]={left:p,top:f,col:g,width:_,height:v},h=Math.max(h,_),f+=v+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Fs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ft(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ft(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ft(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ft(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Sd(e,this),this._draw(),Ed(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=me.color,l=Fs(e.rtl,this.left,this.width),c=Qe(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:y}=W0(o,d),m=function(C,w,E){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const P=Q(E.lineWidth,1);if(r.fillStyle=Q(E.fillStyle,a),r.lineCap=Q(E.lineCap,"butt"),r.lineDashOffset=Q(E.lineDashOffset,0),r.lineJoin=Q(E.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Q(E.strokeStyle,a),r.setLineDash(Q(E.lineDash,[])),o.usePointStyle){const R={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:P},L=l.xPlus(C,p/2),W=w+h;lC(r,R,L,W,o.pointStyleWidth&&p)}else{const R=w+Math.max((d-g)/2,0),L=l.leftForLtr(C,p),W=Dr(E.borderRadius);r.beginPath(),Object.values(W).some(X=>X!==0)?Ja(r,{x:L,y:R,w:p,h:g,radius:W}):r.rect(L,R,p,g),r.fill(),P!==0&&r.stroke()}r.restore()},_=function(C,w,E){qr(r,E.text,C,w+y/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},v=this.isHorizontal(),b=this._computeTitleHeight();v?f={x:ft(s,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:ft(s,this.top+b+u,this.bottom-n[0].height),line:0},mC(this.ctx,e.textDirection);const x=y+u;this.legendItems.forEach((C,w)=>{r.strokeStyle=C.fontColor,r.fillStyle=C.fontColor;const E=r.measureText(C.text).width,P=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),R=p+h+E;let L=f.x,W=f.y;l.setWidth(this.width),v?w>0&&L+R+u>this.right&&(W=f.y+=x,f.line++,L=f.x=ft(s,this.left+u,this.right-i[f.line])):w>0&&W+x>this.bottom&&(L=f.x=L+n[f.line].width+u,f.line++,W=f.y=ft(s,this.top+b+u,this.bottom-n[f.line].height));const X=l.x(L);if(m(X,W,C),L=S2(P,L+p+h,v?L+R:this.right,e.rtl),_(l.x(L),W,C),v)f.x+=R+u;else if(typeof C.text!="string"){const fe=c.lineHeight;f.y+=jC(C,fe)+u}else f.y+=x}),_C(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Qe(n.font),r=vt(n.padding);if(!n.display)return;const s=Fs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=ft(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=c+ft(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=ft(a,d,d+h);o.textAlign=s.textAlign(Sm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,qr(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Qe(e.font),i=vt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Yn(e,this.left,this.right)&&Yn(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Yn(e,r.left,r.left+r.width)&&Yn(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!sj(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=tj(r,i);r&&!s&&we(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&we(n.onHover,[e,i,this],this)}else i&&we(n.onClick,[e,i,this],this)}}function nj(t,e,n,i,r){const s=ij(i,t,e,n),o=rj(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function ij(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function rj(t,e,n){let i=t;return typeof e.text!="string"&&(i=jC(e,n)),i}function jC(t,e){const n=t.text?t.text.length:0;return e*n}function sj(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var oj={id:"legend",_element:V0,start(t,e,n){const i=t.legend=new V0({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i)},stop(t){mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;mt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=vt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Am extends wn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Me(i.text)?i.text.length:1;this._padding=vt(i.padding);const s=r*Qe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=ft(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=ft(a,r,n),l=Te*-.5):(u=s-e,d=ft(a,n,r),l=Te*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Qe(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);qr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Sm(n.align),textBaseline:"middle",translation:[o,a]})}}function aj(t,e){const n=new Am({ctx:t.ctx,options:e,chart:t});mt.configure(t,n,e),mt.addBox(t,n),t.titleBlock=n}var lj={id:"title",_element:Am,start(t,e,n){aj(t,n)},stop(t){const e=t.titleBlock;mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hc=new WeakMap;var cj={id:"subtitle",start(t,e,n){const i=new Am({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i),hc.set(t,i)},stop(t){mt.removeBox(t,hc.get(t)),hc.delete(t)},beforeUpdate(t,e,n){const i=hc.get(t);mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yo={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=rp(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Sn(t,e){return e&&(Me(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function uj(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function H0(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Qe(e.bodyFont),c=Qe(e.titleFont),u=Qe(e.footerFont),d=s.length,h=r.length,f=i.length,p=vt(e.padding);let g=p.height,y=0,m=i.reduce((b,x)=>b+x.before.length+x.lines.length+x.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),m){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*b+(m-f)*l.lineHeight+(m-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let _=0;const v=function(b){y=Math.max(y,n.measureText(b).width+_)};return n.save(),n.font=c.string,ge(t.title,v),n.font=l.string,ge(t.beforeBody.concat(t.afterBody),v),_=e.displayColors?o+2+e.boxPadding:0,ge(i,b=>{ge(b.before,v),ge(b.lines,v),ge(b.after,v)}),_=0,n.font=u.string,ge(t.footer,v),n.restore(),y+=p.width,{width:y,height:g}}function dj(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function hj(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function fj(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),hj(c,t,e,n)&&(c="center"),c}function $0(t,e,n){const i=n.yAlign||e.yAlign||dj(t,n);return{xAlign:n.xAlign||e.xAlign||fj(t,e,n,i),yAlign:i}}function pj(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function gj(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function K0(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Dr(o);let p=pj(e,a);const g=gj(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:tt(p,0,i.width-e.width),y:tt(g,0,i.height-e.height)}}function fc(t,e,n){const i=vt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Y0(t){return Sn([],Fn(t))}function mj(t,e,n){return hr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function G0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const WC={beforeTitle:Nn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Nn,beforeBody:Nn,beforeLabel:Nn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Nn,afterBody:Nn,beforeFooter:Nn,footer:Nn,afterFooter:Nn};function Tt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?WC[e].call(n,i):r}class fp extends wn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new bC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mj(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Tt(i,"beforeTitle",this,e),s=Tt(i,"title",this,e),o=Tt(i,"afterTitle",this,e);let a=[];return a=Sn(a,Fn(r)),a=Sn(a,Fn(s)),a=Sn(a,Fn(o)),a}getBeforeBody(e,n){return Y0(Tt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return ge(e,s=>{const o={before:[],lines:[],after:[]},a=G0(i,s);Sn(o.before,Fn(Tt(a,"beforeLabel",this,s))),Sn(o.lines,Tt(a,"label",this,s)),Sn(o.after,Fn(Tt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return Y0(Tt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Tt(i,"beforeFooter",this,e),s=Tt(i,"footer",this,e),o=Tt(i,"afterFooter",this,e);let a=[];return a=Sn(a,Fn(r)),a=Sn(a,Fn(s)),a=Sn(a,Fn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(uj(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),ge(a,u=>{const d=G0(e.callbacks,u);r.push(Tt(d,"labelColor",this,u)),s.push(Tt(d,"labelPointStyle",this,u)),o.push(Tt(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Yo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=H0(this,i),c=Object.assign({},a,l),u=$0(this.chart,i,c),d=K0(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Dr(a),{x:h,y:f}=e,{width:p,height:g}=n;let y,m,_,v,b,x;return s==="center"?(b=f+g/2,r==="left"?(y=h,m=y-o,v=b+o,x=b-o):(y=h+p,m=y+o,v=b-o,x=b+o),_=y):(r==="left"?m=h+Math.max(l,u)+o:r==="right"?m=h+p-Math.max(c,d)-o:m=this.caretX,s==="top"?(v=f,b=v-o,y=m-o,_=m+o):(v=f+g,b=v+o,y=m+o,_=m-o),x=v),{x1:y,x2:m,x3:_,y1:v,y2:b,y3:x}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Fs(i.rtl,this.x,this.width);for(e.x=fc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Qe(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=Qe(s.bodyFont),d=fc(this,"left",s),h=r.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(h,c)+c/2,m=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,op(e,g,y,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,op(e,g,y,m)}else{e.lineWidth=re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=r.leftForLtr(h,c),y=r.leftForLtr(r.xPlus(h,1),c-2),m=Dr(o.borderRadius);Object.values(m).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ja(e,{x:g,y:p,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ja(e,{x:y,y:p+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=Qe(i.bodyFont);let h=d.lineHeight,f=0;const p=Fs(i.rtl,this.x,this.width),g=function(E){n.fillText(E,p.x(e.x+f),e.y+h/2),e.y+=h+s},y=p.textAlign(o);let m,_,v,b,x,C,w;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=fc(this,y,i),n.fillStyle=i.bodyColor,ge(this.beforeBody,g),f=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,C=r.length;b<C;++b){for(m=r[b],_=this.labelTextColors[b],n.fillStyle=_,ge(m.before,g),v=m.lines,a&&v.length&&(this._drawColorBox(n,e,b,p,i),h=Math.max(d.lineHeight,l)),x=0,w=v.length;x<w;++x)g(v[x]),h=d.lineHeight;ge(m.after,g)}f=0,h=d.lineHeight,ge(this.afterBody,g),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Fs(i.rtl,this.x,this.width);for(e.x=fc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Qe(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Dr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Yo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=H0(this,e),l=Object.assign({},o,this._size),c=$0(n,e,l),u=K0(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=vt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),mC(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),_C(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Lu(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Lu(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Yo[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}N(fp,"positioners",Yo);var _j={id:"tooltip",_element:fp,positioners:Yo,afterInit(t,e,n){n&&(t.tooltip=new fp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yj=Object.freeze({__proto__:null,Colors:RB,Decimation:OB,Filler:ej,Legend:oj,SubTitle:cj,Title:lj,Tooltip:_j});const vj=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function wj(t,e,n,i){const r=t.indexOf(e);if(r===-1)return vj(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const bj=(t,e)=>t===null?null:tt(Math.round(t),0,e);function q0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class pp extends ns{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(de(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:wj(i,e,Q(n,e),this._addedLabels),bj(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return q0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}N(pp,"id","category"),N(pp,"defaults",{ticks:{callback:q0}});function xj(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,p=u-1,{min:g,max:y}=e,m=!de(o),_=!de(a),v=!de(c),b=(y-g)/(d+1);let x=Vv((y-g)/p/f)*f,C,w,E,P;if(x<1e-14&&!m&&!_)return[{value:g},{value:y}];P=Math.ceil(y/x)-Math.floor(g/x),P>p&&(x=Vv(P*x/p/f)*f),de(l)||(C=Math.pow(10,l),x=Math.ceil(x*C)/C),r==="ticks"?(w=Math.floor(g/x)*x,E=Math.ceil(y/x)*x):(w=g,E=y),m&&_&&s&&m2((a-o)/s,x/1e3)?(P=Math.round(Math.min((a-o)/x,u)),x=(a-o)/P,w=o,E=a):v?(w=m?o:w,E=_?a:E,P=c-1,x=(E-w)/P):(P=(E-w)/x,ha(P,Math.round(P),x/1e3)?P=Math.round(P):P=Math.ceil(P));const R=Math.max(Hv(x),Hv(w));C=Math.pow(10,de(l)?R:l),w=Math.round(w*C)/C,E=Math.round(E*C)/C;let L=0;for(m&&(h&&w!==o?(n.push({value:o}),w<o&&L++,ha(Math.round((w+L*x)*C)/C,o,Q0(o,b,t))&&L++):w<o&&L++);L<P;++L){const W=Math.round((w+L*x)*C)/C;if(_&&W>a)break;n.push({value:W})}return _&&h&&E!==a?n.length&&ha(n[n.length-1].value,a,Q0(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!_||E===a)&&n.push({value:E}),n}function Q0(t,e,{horizontal:n,minRotation:i}){const r=fn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Vu extends ns{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Dn(r),c=Dn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=xj(r,s);return e.bounds==="ticks"&&ZE(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return kl(e,this.chart.options.locale,this.options.ticks.format)}}class gp extends Vu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ue(e)?e:0,this.max=Ue(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=fn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}N(gp,"id","linear"),N(gp,"defaults",{ticks:{callback:xd.formatters.numeric}});const el=t=>Math.floor(Ri(t)),_r=(t,e)=>Math.pow(10,el(t)+e);function X0(t){return t/Math.pow(10,el(t))===1}function J0(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function Sj(t,e){const n=e-t;let i=el(n);for(;J0(t,e,i)>10;)i++;for(;J0(t,e,i)<10;)i--;return Math.min(i,el(t))}function Ej(t,{min:e,max:n}){e=Ft(t.min,e);const i=[],r=el(e);let s=Sj(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=Ft(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)i.push({value:h,major:X0(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;const f=Ft(t.max,h);return i.push({value:f,major:X0(f),significand:d}),i}class mp extends ns{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Vu.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ue(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ue(e)?Math.max(0,e):null,this.max=Ue(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=e===_r(this.min,0)?_r(this.min,-1):_r(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(_r(i,-1)),o(_r(r,1)))),i<=0&&s(_r(r,-1)),r<=0&&o(_r(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=Ej(n,this);return e.bounds==="ticks"&&ZE(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":kl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ri(e),this._valueRange=Ri(this.max)-Ri(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ri(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}N(mp,"id","logarithmic"),N(mp,"defaults",{ticks:{callback:xd.formatters.logarithmic,major:{enabled:!0}}});function _p(t){const e=t.ticks;if(e.display&&t.display){const n=vt(e.backdropPadding);return Q(e.font&&e.font.size,me.font.size)+n.height}return 0}function Cj(t,e,n){return n=Me(n)?n:[n],{w:A2(t,e.string,n),h:n.length*e.lineHeight}}function Z0(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function kj(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Te/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),d=Qe(c.font),h=Cj(t.ctx,d,t._pointLabels[l]);i[l]=h;const f=Ut(t.getIndexAngle(l)+a),p=Math.round(bm(f)),g=Z0(p,u.x,h.w,0,180),y=Z0(p,u.y,h.h,90,270);Tj(n,e,f,g,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Rj(t,i,r)}function Tj(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Ij(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(bm(Ut(l.angle+We))),u=Aj(l.y,a.h,c),d=Mj(c),h=Dj(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function Pj(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(qn({x:n,y:i},e)||qn({x:n,y:s},e)||qn({x:r,y:i},e)||qn({x:r,y:s},e))}function Rj(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:_p(s)/2,additionalAngle:o?Te/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const d=Ij(t,u,l);i.push(d),a==="auto"&&(d.visible=Pj(d,c),d.visible&&(c=d))}return i}function Mj(t){return t===0||t===180?"center":t<180?"left":"right"}function Dj(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Aj(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Oj(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!de(a)){const l=Dr(e.borderRadius),c=vt(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=r-c.top,h=s-i+c.width,f=o-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Ja(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function Nj(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));Oj(n,o,s);const a=Qe(o.font),{x:l,y:c,textAlign:u}=s;qr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function VC(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,ke);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function Lj(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),VC(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function Fj(t,e,n){return hr(t,{label:n,index:e,type:"pointLabel"})}class Go extends Vu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=vt(_p(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ue(e)&&!isNaN(e)?e:0,this.max=Ue(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_p(this.options))}generateTickLabels(e){Vu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=we(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?kj(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=ke/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ut(e*n+fn(i))}getDistanceFromCenterForValue(e){if(de(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return Fj(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-We+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),VC(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Nj(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=r.setContext(h),p=s.setContext(h);Lj(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Qe(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=vt(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}qr(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}N(Go,"id","radialLinear"),N(Go,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),N(Go,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),N(Go,"descriptors",{angleLines:{_fallback:"grid"}});const Td={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pt=Object.keys(Td);function ew(t,e){return t-e}function tw(t,e){if(de(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ue(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Xs(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function nw(t,e,n,i){const r=Pt.length;for(let s=Pt.indexOf(t);s<r-1;++s){const o=Td[Pt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Pt[s]}return Pt[r-1]}function zj(t,e,n,i,r){for(let s=Pt.length-1;s>=Pt.indexOf(n);s--){const o=Pt[s];if(Td[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Pt[n?Pt.indexOf(n):0]}function Uj(t){for(let e=Pt.indexOf(t)+1,n=Pt.length;e<n;++e)if(Td[Pt[e]].common)return Pt[e]}function iw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=xm(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Bj(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function rw(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Bj(t,i,r,n)}class tl extends ns{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new qz._date(e.adapters.date);r.init(n),da(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Ue(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ue(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=w2(r,s,o);return this._unit=n.unit||(i.autoSkip?nw(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):zj(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Uj(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),rw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=tt(n,0,o),i=tt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||nw(s.minUnit,n,i,this._getLabelCapacity(n)),a=Q(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Xs(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+e.add(h,a,o),f++)iw(u,h,p);return(h===i||r.bounds==="ticks"||f===1)&&iw(u,h,p),Object.keys(u).sort(ew).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return we(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=i[n],f=c&&d&&h&&h.major;return this._adapter.format(e,r||(f?d:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=fn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,rw(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(tw(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nC(e.sort(ew))}}N(tl,"id","time"),N(tl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Gn(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Gn(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class yp extends tl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=pc(n,this.min),this._tableRange=pc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(pc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return pc(this._table,i*this._tableRange+this._minPos,!0)}}N(yp,"id","timeseries"),N(yp,"defaults",tl.defaults);var jj=Object.freeze({__proto__:null,CategoryScale:pp,LinearScale:gp,LogarithmicScale:mp,RadialLinearScale:Go,TimeScale:tl,TimeSeriesScale:yp});const Wj=[Gz,EB,yj,jj];kd.register(...Wj);const HC="label";function sw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Vj(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function $C(t,e){t.labels=e}function KC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HC;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function Hj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HC;const n={labels:[],datasets:[]};return $C(n,t.labels),KC(n,t.datasets,e),n}function $j(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=T.useRef(null),p=T.useRef(),g=()=>{f.current&&(p.current=new kd(f.current,{type:o,data:Hj(a,s),options:l&&{...l},plugins:c}),sw(e,p.current))},y=()=>{sw(e,null),p.current&&(p.current.destroy(),p.current=null)};return T.useEffect(()=>{!r&&p.current&&l&&Vj(p.current,l)},[r,l]),T.useEffect(()=>{!r&&p.current&&$C(p.current.config.data,a.labels)},[r,a.labels]),T.useEffect(()=>{!r&&p.current&&a.datasets&&KC(p.current.config.data,a.datasets,s)},[r,a.datasets]),T.useEffect(()=>{p.current&&(r?(y(),setTimeout(g)):p.current.update(d))},[r,l,a.labels,a.datasets,d]),T.useEffect(()=>{p.current&&(y(),setTimeout(g))},[o]),T.useEffect(()=>(g(),()=>y()),[]),$u.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},h),u)}const Kj=T.forwardRef($j);function Om(t,e){return kd.register(e),T.forwardRef((n,i)=>$u.createElement(Kj,Object.assign({},n,{ref:i,type:t})))}const Yj=Om("line",ma),Gj=Om("bar",ga),qj=Om("doughnut",Mi);me.plugins.legend.labels.usePointStyle=!0;me.plugins.title.display=!0;me.plugins.title.align="start";me.plugins.title.font.size=20;me.plugins.title.font.weight=700;me.plugins.title.font.family="Poppins, Arial, Helvetica, sans-serif";me.plugins.title.color="#FFFFFF";function Qj(){const t=ad(),[e,n]=T.useState(""),[i,r]=T.useState([]),[s,o]=T.useState([]),[a,l]=T.useState([]);T.useEffect(()=>{n(TF().currentUser.email)},[]),T.useEffect(()=>{const d=JSON.parse(sessionStorage.getItem("teste"));let h=!0;d?c(new Date,-1)>new Date(d.dateGetReadings)&&(h=!1):h=!1,h?r(d.listReadings):FF().then(f=>{const p=[];Object.keys(f).forEach(g=>{p.push(f[g])}),sessionStorage.setItem("teste",JSON.stringify({dateGetReadings:new Date().toJSON(),listReadings:p})),r(p)})},[]),T.useEffect(()=>{const d=[];i.map(g=>new Date(g.dt_leitura).toLocaleDateString()).filter((g,y,m)=>m.indexOf(g)===y).forEach(g=>{const y=i.filter(b=>new Date(b.dt_leitura).toLocaleDateString()===g).map(b=>b.temperatura),m=i.filter(b=>new Date(b.dt_leitura).toLocaleDateString()===g).map(b=>b.turbidez),_=(parseFloat(y.reduce((b,x)=>b+parseFloat(x),0))/y.length).toFixed(2),v=(parseFloat(m.reduce((b,x)=>b+parseFloat(x),0))/m.length).toFixed(2);d.push({day:g,medTemp:_,medTurb:v})}),o(d);const f=i.map(g=>g.temperatura),p=i.map(g=>g.turbidez);l({medTemp:(parseFloat(f.reduce((g,y)=>g+parseFloat(y),0))/f.length).toFixed(2),medTurb:(parseFloat(p.reduce((g,y)=>g+parseFloat(y),0))/p.length).toFixed(2)})},[i]);function c(d,h){const f=h*60*60*1e3;return d.setTime(d.getTime()+f),d}function u(){RF().then(()=>{t("/Login")})}return j.jsxs("div",{id:"home-page",children:[j.jsxs("nav",{children:[j.jsx("p",{id:"user-email",children:e}),j.jsx("a",{onClick:u,children:"Sair"})]}),i?j.jsxs("div",{id:"all-charts",children:[j.jsx("div",{children:j.jsx(Gj,{data:{labels:s.map(d=>d.day),datasets:[{label:"Temperatura (ºC)",data:s.map(d=>d.medTemp),borderRadius:5},{label:"Turbidez (%)",data:s.map(d=>d.medTurb),borderRadius:5}]},options:{plugins:{title:{text:"Média Diária"}}}})}),j.jsx("div",{children:j.jsx(Yj,{data:{labels:s.map(d=>d.day),datasets:[{label:"Temperatura (ºC)",data:s.map(d=>d.medTemp)},{label:"Turbidez (%)",data:s.map(d=>d.medTurb)}]},options:{plugins:{title:{text:"Média Diária"}}}})}),j.jsx("div",{className:"all-columns",children:j.jsx(qj,{data:{labels:["Temperatura (ºC)","Turbidez (%)"],datasets:[{label:"Geral",data:[a.medTemp,a.medTurb]}]},options:{plugins:{title:{text:"Média Geral"}}}})})]}):j.jsx("div",{})]})}const Xj=nP([{path:"/",element:j.jsx(MF,{}),errorElement:j.jsx(AF,{}),children:[{path:"/Login",element:j.jsx(Nv,{})},{path:"/SignUp",element:j.jsx(Nv,{SignUp:!0})},{path:"/Home",element:j.jsx(Qj,{})}]}]);function Jj(){return j.jsx(dP,{router:Xj})}Dh.createRoot(document.getElementById("root")).render(j.jsx($u.StrictMode,{children:j.jsx(Jj,{})}));
